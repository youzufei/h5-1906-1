webpackJsonp([0],[function(t,e){t.exports=dll_lib},,function(t,e,n){t.exports=n(0)(1)},function(t,e,n){t.exports=n(0)(10)},function(t,e,n){t.exports=n(0)(5)},function(t,e,n){var i=n(105),o=n(20),a=n(197),s=n(196),r=n(195),c=n(190),l=n(193),d=n(194),u=n(138);t.exports={Immutable:i,fromJS:i.fromJS,toJS:o.toJS,createStore:a,createReducer:s,createAction:r,connect:c,StoreProvider:l,middleware:{thunk:d,promise:u}}},function(t,e,n){t.exports=n(0)(8)},,function(t,e,n){t.exports=n(0)(410)},function(t,e,n){t.exports=n(0)(22)},,function(t,e,n){var i=n(2),o=n(1),a=n(51),s=n(117),r=n(470),c=n(7);t.exports=c.extend({config:function(){this.supr()},init:function(){this.supr()},_$dialog:function(t,e,n,i,a,r){var c={title:t||"提示",icon:e||"",descOne:n||"",descTwo:i||"",txtOk:a||"确认",hideCCBtn:!0,width:520};o.extend(c,r,!0),new s({data:c})},_$easeInOut:function(t,e,n,i,o,s){var r=this;s=s===undefined;var c=a._$$AnimEaseInOut._$allocate({from:{offset:t},to:{offset:e},duration:n,onupdate:function(t){i&&i(t.offset),r.$update()},onstop:function(){o&&o(),this._$recycle(),r.$update()}});return s&&c._$play(),c},_$object2array:function(t){if(i._$isArray(t))return t;var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({key:n,value:t[n]});return e},_$decimal:function(t,e,n){if(!(t=parseFloat(t)))return"";var i=Math.pow(10,e),o=Math.round(t*i)/i,a=void 0;if(!n)return o;-1==(a=o+"").indexOf(".")&&(a+=".");var s=e-(a.split(".")[1]||"").length;if(s>0)for(;s--;)a+="0";return a}}).use("timeout").filter(r)},function(t,e,n){t.exports=n(0)(162)},,,function(t,e,n){var i,o=n(13),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(104);t.exports=(0,a["default"])({},s,{DEF_ADDRESS:{provinceName:"浙江省",provinceCode:33e4,cityName:"杭州市",cityCode:330100,districtName:"上城区",districtCode:330102},DIRECT_CITY_CODE:[11e4,12e4,31e4,5e5],DAY:864e5,EMPTY_PROMOTION:{type:-1,step:-1},PROMOTION_TYPE_LIST:[0,1,2,3,4,5],SECKILL_TYPE:0,SECKILL_STEP:{MONTH:0,TOMORROW:1,TODAY:2,IN15:3,IN5:4,DOING:5,NO_GOODS:6,DONE:7},TEMAI_TYPE:1,TEMAI_STEP:{MONTH:0,TOMORROW:1,TODAY:2,IN15:3,IN5:4,DOING:5,DONE:6},PRO_TYPE:2,PRO_STEP:{DEFAULT:0},TIMINE_SALE_TYPE:3,TIMGINE_SALE_STEP:{MONTH:0,TOMORROW:1,TODAY:2,IN10:3,DOING:4},DEPOSIT_TYPE:4,DEPOSIT_STEP:{MONTH:0,TOMORROW:1,TODAY:2,DONE_MONTH:3,DONE_TOMORROW:4,DONE_TODAY:5,DONE_DONE:6},PRO_DOING_TYPE:5,PRO_DOING_STEP:{DAY:0,HOUR:1,MINUTE:2,DONE:3},PROMOTION_TYPE_KAOLABEAN:19,PROMOTION_TYPE_GIFT:1,LIMIT:{DELIVER:0,DEPOSIT:1,MEMBER_ACCOUNT:2,ACCOUNT:3,DAILY:4,ONCE:5,STORE:6},TOP_QTY:99,STORE_THRESH_HOLD:10})},function(t,e,n){t.exports=n(0)(181)},,,function(t,e,n){var i=a(n(13)),o=a(n(38));function a(t){return t&&t.__esModule?t:{"default":t}}var s=n(1),r=n(5),c=n(511),l=n(15),d=r.toJS,u=function(){return{}},p=function(t){return{payload:t||""}},f={},m={initSyncData:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return{payload:{referrer:t||document.referrer||"",defSkuVid:e}}},initImage:u,changeImg:function(t,e){return{payload:{bigImg:t,selectIndex:e}}},getAddress:function(){return{payload:c.getAddress({}).then(function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return 200===t.retcode?o["default"].resolve(t.addressDto||l.DEF_ADDRESS):o["default"].resolve(l.DEF_ADDRESS)})["catch"](function(){return o["default"].resolve(l.DEF_ADDRESS)})}},initAsyncData:function(t){return function(e,n){var a=n(),r=t||d(a.get("address"))||l.DEF_ADDRESS,c=r.provinceCode,u=r.cityCode,p=r.districtCode,m=(0,i["default"])({},{provinceCode:c,cityCode:u,districtCode:p},{goodsId:a.get("goodsId"),categoryId:a.get("categoryId")});return 1===Number(s.getUrlParam("nm"))&&(m.nm=1),1!==Number(s.getUrlParam("expectedOpenCardType"))&&3!==Number(s.getUrlParam("expectedOpenCardType"))||(m.expectedOpenCardType=s.getUrlParam("expectedOpenCardType")),e(f.initAsyncDataService(m))["catch"](function(t){return e(f.useDegradationData()),o["default"].reject({error:t})})}},updateAddress:function(t){return{payload:t}},initAsyncDataService:function(t){return{payload:c.getAsyncData({query:t}).then(function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return 200===t.code?o["default"].resolve(t.data):o["default"].reject(t||{})})["catch"](function(t){return o["default"].reject({error:t})})}},useDegradationData:u,switchVidList:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return function(e,n){e(f.triggerVidList(t)),e(f.getSkuPromotionData())}},triggerVidList:function(){return{payload:arguments.length>0&&arguments[0]!==undefined?arguments[0]:[]}},switchVid:function(t){return function(e,n){e(f.triggerVid(t)),e(f.getSkuPromotionData())}},triggerVid:function(t){return{payload:t}},getSkuPromotionData:function(){return function(t,e){var n=e(),o=d(n.get("address"))||l.DEF_ADDRESS,a=o.provinceCode,r=o.cityCode,c=o.districtCode,u=(0,i["default"])({},{provinceCode:a,cityCode:r,districtCode:c},{goodsId:n.get("goodsId"),categoryId:n.get("categoryId")});return n.get("skuId")&&(u.skuId=n.get("skuId")),1===Number(s.getUrlParam("nm"))&&(u.nm=1),1!==Number(s.getUrlParam("expectedOpenCardType"))&&3!==Number(s.getUrlParam("expectedOpenCardType"))||(u.expectedOpenCardType=s.getUrlParam("expectedOpenCardType")),t(f.getSkuPromotionDataService(u))}},getSkuPromotionDataService:function(t){return{payload:c.getSkuPromotionDataService({query:t}).then(function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return 200===t.code?o["default"].resolve(t.data):o["default"].reject(t||{})})}},initPromotionbar:u,updatePromotionbar:p,updatePromotionStep:u,updateVipMember:p,updateNewUserInfo:p,initPostageAndTomorrowArr:u,updateTomorrowArr:p,updateFavBtn:function(){return{payload:arguments.length>0&&arguments[0]!==undefined&&arguments[0]}},buyNow:u,add2Cart:function(t,e){return{payload:{node:t,callback:e}}},updateBuyNum:u,changeGoodsNumber:function(){return{payload:arguments.length>0&&arguments[0]!==undefined?arguments[0]:0}},setGoodsNumber:function(t){return{payload:t}},selectGuarantee:function(t,e){return{payload:{gitemIndex:t,gliIndex:e}}}};f=r.createAction(m),t.exports=f},function(t,e,n){var i,o=n(108),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(105),r=n(49),c=Object.prototype.toString,l=Array.prototype.slice;function d(t){return"function"==typeof t}function u(t){return Array.isArray?Array.isArray(t):"[object array]"===c.call(t).toLowerCase()}var p=/localhost|\d+\.\d+\.\d+\.\d+/.test(location.hostname),f=window.DEBUG||!1;var m=new RegExp(r.PROMISE_FULFILLED_SUFFIX+"$"),h=new RegExp(r.PROMISE_REJECTED_SUFFIX+"$"),g=new RegExp(r.PROMISE_PENDING_SUFFIX+"$");function v(t,e){var n=(e=e||{}).type||"";return t.test(n)}function _(t){return d(s.isImmutable)?s.isImmutable(t):!(n=t,!(n&&n[y]||(e=t,e&&e[b])));var e,n}var y="@@__IMMUTABLE_ITERABLE__@@",b="@@__IMMUTABLE_RECORD__@@";t.exports={isFunction:d,isArray:u,isNull:function(t){return null===t||t===undefined},isNumber:function(t){return!isNaN(Number(t))},isObject:function(t){return"object"===(void 0===t?"undefined":(0,a["default"])(t))&&!u(t)&&null!==t},isBool:function(t){return"boolean"==typeof t},isString:function(t){return"string"==typeof t},isReduxStore:function(t){return t&&t.getState&&t.dispatch&&t.subscribe},isMiddlewares:function(t){return d(t)||u(t)},isPromise:function(t){return!!t&&t.then&&d(t.then)},isFulfilledAction:function(t){return v(m,t)},isRejectedAction:function(t){return v(h,t)},isPendingAction:function(t){return v(g,t)},like2Array:function(t){return l.call(t,0)},nextTick:function(t){var e=(requestAnimationFrame||function(t){setTimeout(t)})(t);return function(){cancelAnimationFrame?cancelAnimationFrame(e):clearTimeout(e)}},isDev:function(){return f||p},toJS:function(t){return _(t)?t.toJS():t},isImmutable:_,action2String:function(t){var e=t;if((this.isObject(t)||this.isFunction(t))&&this.isFunction(t.toString)&&(e=t.toString()),!this.isString(e))throw new Error("Expected actionString to be a string: "+e);return e},noop:function(){}}},,,,function(t,e,n){t.exports=n(0)(2)},function(t,e,n){t.exports=n(0)(405)},function(t,e,n){t.exports=n(0)(80)},,function(t,e,n){t.exports={"default":n(154),__esModule:!0}},,,function(t,e,n){"use strict";var i=n(236),o=n(565),a=Object.prototype.toString;function s(t){return"[object Array]"===a.call(t)}function r(t){return null!==t&&"object"==typeof t}function c(t){return"[object Function]"===a.call(t)}function l(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),s(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:r,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:c,isStream:function(t){return r(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function d(){var t={};function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=d(t[n],e):t[n]=e}for(var n=0,i=arguments.length;n<i;n++)l(arguments[n],e);return t},extend:function(t,e,n){return l(e,function(e,o){t[o]=n&&"function"==typeof e?i(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){t.exports=n(0)(16)},function(t,e,n){t.exports=n(0)(38)},,,,,,,,function(t,e){t.exports={SET_SELECTED_ADDRESS:"setSelectedAddress",SET_SELECTED_CITYS:"setSelectedCitys",SET_SELECTED_DISTRICTS:"setSelectedDistricts",GET_DISTRICT_SUCCESS:"getDistrictSuccess",GET_DISTRICT_FAIL:"getDistrictFail",GET_CITY_SUCCESS:"getCitySuccess",GET_CITY_FAIL:"getCityFail",GET_PROVINCE_SUCCESS:"getProvinceSuccess",GET_PROVINCE_FAIL:"getProvinceFail",GET_ADDRESS_SUCCESS:"getAddressSuccess",GET_ADDRESS_FAIL:"getAddressFail",SAVE_ADDRESS_SUCCESS:"saveAddressSuccess",SAVE_ADDRESS_FAIL:"saveAddressFail",CALC_ELEMENT_POSITION:"calcElementPosition",SET_SHOW:"setShow",SET_DOM_ELEMENT:"setDOMElement",SET_LOADING:"setLoading",SET_LOADING_ADDRESS:"setLoadingAddress",SET_ERROR:"setError",PROVINCE_TAB_CLICK:"provinceTabClick",CITY_TAB_CLICK:"cityTabClick",DISTRICT_TAB_CLICK:"districtTabClick",SET_TAB1ACT:"setTab1Act",SET_INPUT_MSG:"setInputMsg",GET_ADDRESS_LIST_SUCCESS:"getAddressListSuccess",GET_ADDRESS_LIST_FAIL:"getAddressListFail",UPDATE_FIRST_LOADED:"updateFirstLoaded",SET_NOT_SELECT_ANY_ADDRESS:"setNotSelectAnyAddress"}},function(t,e,n){t.exports=n(0)(57)},,,,,function(t,e,n){var i=n(6),o=n(2),a=n(9),s=(n(3),n(4)),r=n(25),c={},l={};c._$$ScrollTo=i._$klass(),(l=c._$$ScrollTo._$extend(a._$$EventTarget)).__reset=function(t){this.__super(t),this._scrollTo=t.scrollTo,this._offset=+t.offset||0,this._duration=+t.duration||500,this._timing=t.timing||"easeinout",this._onEnd=t.onEnd,this._scrollTo&&this.__startAni(t)},l.__startAni=function(){var t=this,e=document.body.scrollTop||document.documentElement.scrollTop,n=s._$offset(this._scrollTo).y+this._offset;e!=n?r._$$AnimBezier._$allocate({from:{offset:e},to:{offset:n},duration:this._duration,timing:this._timing,onupdate:function(t){window.scrollTo(0,t.offset)},onstop:function(){t.__callback(),this._$recycle()}})._$play():this.__callback()},l.__callback=function(){this._onEnd&&o._$isFunction(this._onEnd)&&this._onEnd()},t.exports=c._$$ScrollTo},function(t,e,n){var i=n(1),o=(n(4),n(3),n(7)),a=n(131);t.exports=o.extend({template:i.compressHtml(a),events:{$inject:function(){this.layout()}},config:function(t){if(t.anchor){var e=t.width>0?t.width+"px":"auto",n=t.maxWidth>0?t.maxWidth+"px":"auto",i=t.height>0?t.height+"px":"auto";t.orientation=t.orientation||"up",t.contentHtml=t.contentHtml||"<p></p>",t.wrapperClass="m-tip-wrap "+(t.wrapperClass||""),t.offsetX=t.offsetX||0,t.offsetY=t.offsetY||0,t.wrapStyle={display:"block",visibility:"hidden",width:e,"max-width":n,height:i}}},init:function(){this.supr()},layout:function(){var t=this.data,e=i.getOffset(t.anchor),n=i.getOffset(this.$refs.wrap);switch(t.orientation){case"left":t.wrapStyle.top=e.top-n.height/2+e.height/2+t.offsetY+"px",t.wrapStyle.left=e.right+8+t.offsetX+"px",t.arrowStyle={top:"50%",marginTop:-8-t.offsetY+"px"};break;case"right":t.wrapStyle.top=e.top-n.height/2+e.height/2+t.offsetY+"px",t.wrapStyle.left=e.left-n.width-8-t.offsetX+"px",t.arrowStyle={top:"50%",marginTop:-8-t.offsetY+"px"};break;case"up":t.wrapStyle.top=e.top+e.height+8+t.offsetY+"px",t.wrapStyle.left=e.left-n.width/2+e.width/2+t.offsetX+"px",t.arrowStyle={left:"50%",marginLeft:-8-t.offsetX+"px"};break;case"down":t.wrapStyle.top=e.top-n.height-8-t.offsetY+"px",t.wrapStyle.left=e.left-n.width/2+e.width/2+t.offsetX+"px",t.arrowStyle={left:"50%",marginLeft:-8-t.offsetX+"px"}}t.wrapStyle.visibility="visible",this.$update()}})},function(t,e){var n=["fulfilled","rejected","pending"],i={fulfilled:"@@FULFILLED",rejected:"@@REJECTED",pending:"@@PENDING"};t.exports={PROMISE_PENDING_SUFFIX:"@@PENDING",PROMISE_FULFILLED_SUFFIX:"@@FULFILLED",PROMISE_REJECTED_SUFFIX:"@@REJECTED",SHORT_SUFFIX_LIST:n,SHORT_SUFFIX_MAP:i}},function(t,e,n){t.exports=n(0)(161)},function(t,e,n){t.exports=n(0)(406)},function(t,e,n){t.exports=n(0)(426)},,,function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports='<div class="m-captchamodal {captchaclass}">\n    {#if desc}\n        <div class="desc">{desc}</div>\n    {/if}\n    <div class="captcha" ref="captcha" r-style="{{\'padding-top\': paddingTop}}"></div>\n</div>'},function(t,e){t.exports='<div ref="mdialog" class="m-dialog {clazz}" animate r-class="{{\'align\':useTrans}}" r-style="{style}">\n\t<div class="head">\n\t\t<h1>{title || \'提示\'}<span class="subtitle">{subTitle || \'\'}</span></h1>\n\t</div>\n\t<a class="close" hidefocus="true" href="javascript:;" on-click="{this.onclose()}"></a>\n\t<div class="body">\n\t\t<div class="message">\n\t\t\t{#include msg}\n\t\t</div>\n\t\t{#if hideOkBtn != true}\n\t\t<a href="javascript:;" class="btn u-btn u-btn-ok u-btn-medium" on-click="{this.onok()}">\n\t\t\t<span r-html="{txtOk || \'确认\'}"></span>\n\t\t</a>\n\t\t{/if}\n\t\t{#if hideCCBtn != true}\n\t\t<a href="javascript:;" class="btn u-btn u-btn-cancel u-btn-medium" on-click="{this.cancel()}" r-html="{txtCC || \'取消\'}"></a>\n\t\t{/if}\n\t</div>\n</div>\n<div class="u-mask" style="z-index:10000;"></div>'},function(t,e){t.exports='<div ref="mdialog" class="m-dialog {clazz}" animate r-class="{{\'align\':useTrans}}" r-style="{style}">\n\t<div class="head">\n\t\t<h1>{title || \'提示\'}<span class="subtitle">{subTitle || \'\'}</span></h1>\n\t</div>\n\t<a class="close" hidefocus="true" href="javascript:;" on-click="{this.onclose()}"></a>\n\t<div class="body">\n\t\t<div class="message">\n\t\t\t{#include msg}\n\t\t</div>\n\t\t{#if hideOkBtn != true}\n\t\t<a href="javascript:;" class="btn u-btn u-btn-ok u-btn-medium" on-click="{this.onok()}">\n\t\t\t<span r-html="{txtOk || \'确认\'}"></span>\n\t\t</a>\n\t\t{/if}\n\t\t{#if hideCCBtn != true}\n\t\t<a href="javascript:;" class="btn u-btn u-btn-cancel u-btn-medium" on-click="{this.cancel()}" r-html="{txtCC || \'取消\'}"></a>\n\t\t{/if}\n\t</div>\n</div>\n<div class="u-mask" style="z-index:10000;"></div>'},function(t,e){t.exports='{#if !hide}\n<div class="m-modalmask">\n</div>\n<div class="m-modaltbl">\n\t<div class="m-modalcontent">\n\t\t<div class="toparea">\n\t\t\t<span class="close" on-click="{this.hide()}"></span>\n\t\t\t<img src="//haitao.nos.netease.com/58372e11-a26a-43d6-bfb0-b18a207bf8ff_370_83.jpg" alt="">\n\t\t</div>\n\t\t<p>\n\t\t\t<span class="key">“{key}”</span>相关商品，\n\t\t</p>\n\t\t<p>\n\t\t\t需到考拉海外分站去购买哦~\n\t\t</p>\n\t\t<span class="btn" on-click={this.confirm()}>\n\t\t\t立即去买 &gt;\n\t\t</span>\n\t</div>\n</div>\n{/if}'},function(t,e){t.exports='<table class="m-modaltbl">\n\t<tbody>\n\t\t<tr>\n\t\t  <td class="cell">\n\t\t  <div class="modal iDialogContent {modalName||\'\'} iDialogAniCore iDialogAnimate5" ref="modal" style="width: {width||640}px;">\n\t\t\t  <div class="modal-row">\n\t\t\t      <div class="modal-dialog modal-cell">\n\t\t\t        <div class="modal-content">\n\t\t\t          <div class="iDialogHead">\n\t\t\t            <h4 class="modal-title" id="myModalLabel">{title || \'Modal title\'}</h4>\n\t\t\t\t\t\t{#if !hideCloseBtn}<a class="iDialogClose" href="javascript:void(0);"  on-click={this.close()}></a>{/if}\n\t\t\t          </div>\n\t\t\t          <div class="modal-body">\n\t\t\t            {#include content ||this.content }\n\t\t\t          </div>\n\t\t\t        </div>\n\t\t\t      </div>\n\t\t\t   </div>\n\t\t\t</div>\n\t\t  </td>\n\t\t</tr>\n\t</tbody>\n</table>\n<div class="m-modalmask">\n</div>'},function(t,e){t.exports='<div class="progress progress-fix animated" r-hide=\'!progress\' style=\'display:none\' \n  r-animation= \'on: leave;  wait: 200;class: fadeOut\'>\n  <div class="progress-bar progress-bar-striped active" \n    role="progressbar" \n    style=" background-color: {currentColor};width: {percent||0}% ;">\n  </div>\n</div>'},function(t,e){t.exports="<section class='accountDetail f-cb'>\n    <div class='radio {radioClazz}' on-click={this.choose($event)}><b></b></div>\n    <ul class='detail {detailClazz} f-cb'>\n        <li class='nickname'><b class='account-ico-small {iconClazz}'></b>{detail.nickname||''}</li>\n        {#if detail.isMember}\n        <li class='member'>会员</li>\n        {/if}\n        <li class='bean'>\n            <a href=\"javascript:;\" on-click={this.query(3)}>\n                <p class=\"num\">{@(detail.bean||0)}</p>\n                <p class=\"text\">我的考拉豆</p>\n            </a>\n        </li>\n        <li class='coupon'>\n            <a href=\"javascript:;\" on-click={this.query(2)}>\n                <p class=\"num\">{@(detail.coupon||0)}</p>\n                <p class=\"text\">我的优惠券</p>\n            </a>\n        </li>\n        <li class='order'>\n            <a href=\"javascript:;\" on-click={this.query(1)}>\n                <p class=\"num\">{@(detail.order||0)}</p>\n                <p class=\"text\">我的订单</p>\n            </a>\n        </li>\n    </ul>\n    {#if detail.mustDesc}\n    <p class='mustDesc'>{detail.mustDesc || ''}</p>\n    {/if}\n</section>"},function(t,e){t.exports="{#if ['phoneBindThirdparty', 'phoneBindPhoneemail'].indexOf(step) !== -1} {! 新手机帐号登陆，绑定关联帐号 !}\n<reminder text={'你当前登录的手机帐号是一个新的帐号'} width={376} size={16} weight={'bold'} bottom={5}></reminder>\n<reminder text={reminder.text} width={reminder.width} size={reminder.size}></reminder>\n<bindEach accountInfo={accountInfo}></bindEach>\n<btn txtOk={btn.txtOk} txtCC={btn.txtCC}\n     on-ok={this.onBtnOk(step)} on-cancel={this.onBtnCancel($event)}></btn>\n<error text={bindEachError}></error>\n\n{! 第三方帐号首次登陆 || 个人中心 认证手机号/修改强关联的手机号 !}\n{#elseif ['thirdpartyBindPhone', 'centerAuthPhone', 'centerModifyPhone'].indexOf(step) !== -1} \n<reminder text={reminder.text} size={reminder.size}></reminder>\n<phoneInput ref=\"phoneInput\" phone={phone} error={ !!verifyPhoneError } on-focus={this.phoneInputFocus($event)}></phoneInput>\n<error text={verifyPhoneError} icon={true} align={'left'} width={269} margin={'-5px auto 10px'}></error>\n<btn hideCCBtn={btn.hideCCBtn} txtOk={btn.txtOk} on-ok={this.onBtnOk(step)}></btn>\n\n{! 第三方帐号首次登陆 || 个人中心 认证手机号/修改强关联的手机号/升级手机号 urs组件弹窗 !}\n{#elseif ['validatePhoneUrsLogin', 'centerAuthPhoneUrsLogin', 'centerModifyPhoneUrsLogin', 'centerUpgradePhoneUrsLogin'].indexOf(step) !== -1 } \n<reminder text={reminder.text} bottom={reminder.bottom}></reminder>\n<ursLogin type={ursLogin.type} phoneNum={ursLogin.phoneNum} ursOptions={ursLogin.ursOptions} css={ursLogin.css} on-successCb={this.onPhoneLoginSuccess($event)}></ursLogin>\n    {#if ['centerAuthPhoneUrsLogin', 'centerModifyPhoneUrsLogin'].indexOf(step) !== -1}\n    <linkText text={'上一步'} on-hit={this.verifyPhonePrevStep()}></linkText>\n    {/if}\n\n{! 第三方帐号首次登陆 || 个人中心 认证手机号/修改强关联的手机号 手机号已绑定领一个帐号 !}\n{#elseif ['validatePhoneHasBind', 'centerAuthPhoneHasBind', 'centerModifyPhoneHasBind', 'centerUpgradePhoneHasBind'].indexOf(step) !== -1 } \n{#list reminder as item}\n<reminder text={item.text} width={item.width} bottom={item.bottom}\n        icon={item.icon} size={item.size} weight={item.weight}></reminder>\n{/list}\n<btn hideCCBtn={btn.hideCCBtn} \n     txtOk={btn.txtOk} on-ok={this.onBtnOk(step)}></btn>\n\n{#elseif step==='validateSuccess'} {! 认证成功 !}\n<reminder icon={'success'} text={validateSuccessTitle} width={320} size={20} bottom={5} weight={'bold'}></reminder>\n<reminder text={reminder.text} width={reminder.width} size={reminder.size}></reminder>\n<btn hideCCBtn={btn.hideCCBtn} \n     txtOk={btn.txtOk} on-ok={this.onBtnOk(step)}></btn>\n\n{/if}"},function(t,e){t.exports='<ul class="bindEach f-cb">\n    {#list accountInfo as account}\n        <li class="info">\n            <img class="avatar" src="{account.avatar|imgThumbnailUrl:72,72,95}" alt="头像">\n            <p class="nickname"><b class="account-ico-small account-ico-small-{account.type}"></b>{account.nickname}</p>\n            {!\n            {#if account_index===0}\n            <p class="cur">(当前帐号)</p>\n            {/if}\n            !}\n        </li>\n        {#if account_index===0}\n        <li class="arrow"></li>\n        {/if}\n    {/list}\n</ul>'},function(t,e){t.exports="{#if step==='enterPhone'} {! 输入手机号 !}\n<reminder text={reminder.text} size={reminder.size}></reminder>\n<phoneInput ref=\"phoneInput\" phone={phone} error={ !!enterPhoneError } on-focus={this.phoneInputFocus($event)}></phoneInput>\n<error text={enterPhoneError} icon={error.icon} align={error.align} width={error.width} margin={error.margin}></error>\n<btn hideCCBtn={btn.hideCCBtn} txtOk={btn.txtOk} on-ok={this.onBtnOk(step)}></btn>\n\n{#elseif step==='validatePhone'} {! urs登录组件弹窗 !}\n<reminder text={reminder.text} bottom={reminder.bottom}></reminder>\n<ursLogin type={ursLogin.type} phoneNum={ursLogin.phoneNum} ursOptions={ursLogin.ursOptions} agentUrlParamStr={ursLogin.agentUrlParamStr} on-successCb={this.onPhoneLoginSuccess($event)}></ursLogin>\n<linkText text={linkText.text} on-hit={this.validatePhonePrevStep()}></linkText>\n\n{/if}"},function(t,e){t.exports='<div class="m-modal-footer">\n\t{#if hideOkBtn != true}\n\t\t<a href="javascript:;" class="btn u-btn u-btn-ok u-btn-medium {okClazz || \'\'}" on-click="{this.ok()}"  r-html="{txtOk || \'确认\'}"></a>\n\t{/if}\n\t{#if hideCCBtn != true}\n\t\t<a href="javascript:;" class="btn u-btn u-btn-cancel u-btn-medium {cancelClazz || \'\'}" on-click="{this.cancel()}" r-html="{txtCC || \'取消\'}"></a>\n\t{/if}\n</div>'},function(t,e){t.exports="{#if step==='choose'}\n    {#list reminder as item}\n    <reminder icon={item.icon} width={item.width} text={item.text} size={item.size} weight={item.weight} bottom={item.bottom}></reminder>\n    {/list}\n    {#list accountDetailList as item}\n    <accountDetail detail={item} on-choose={this.choose($event)} da={da}></accountDetail>\n    {/list}\n    <btn hideCCBtn={btn.hideCCBtn} txtOk={btn.txtOk} on-ok={this.onBtnOk(step)} okClazz={okBtnClazz}></btn>\n{#elseif step==='confirm'}\n    {#list reminder as item}\n    <reminder icon={item.icon} width={item.width} text={item.text} size={item.size} weight={item.weight}></reminder>\n    {/list}\n    <btn txtOk={'确认绑定'} txtCC={'我再想想'} on-ok={this.onBtnOk(step)} on-cancel={this.onBtnCancel(step)}></btn>\n{/if}"},function(t,e){t.exports="<p class='errorText' r-style={style}>{#if icon}<b class='iconfont icon-error'></b>{/if}{text}</p>"},function(t,e){t.exports="<i class='iconfont {icon} {color}'></i>"},function(t,e){t.exports="<p class='linkText'><a href='javascript:;' on-click={this.textClick($event)}>{text}</a></p>"},function(t,e){t.exports='<div class="phoneInputWrap">\n    <input type="text" r-class={{\'f-error\':error}} r-model={phone|integer} placeholder="请输入手机号" maxlength="11" on-focus={this.focus($event)}>\n    <b class=\'ico iconfont icon-phone1\'></b>\n</div>'},function(t,e){t.exports="<p class='reminder m-dialog-result' r-style={style}>\n    {#if !!icon}\n    <icon type={icon}></icon>\n    {/if}\n    <span r-html={text}></span>\n</p>"},function(t,e){t.exports='<div class="m-ctgcard f-cb">\n  <div class="f-fl m-ctglist">\n    {#if navItem.childrenNodeList && navItem.childrenNodeList.length}\n    <div class="m-ctgtbl">\n      {#list list as row}\n      <div class="f-cb">\n        {#list row.rowItems as cat2Item}\n\t      <div class="litd">\n          <div class=\'underTitleMiddleLine\'></div>\n          <div class="item">\n             <p class="title"><a target="_blank" class="cat2" href="//search.kaola.com/category/{cat2Item.categoryId||\'\'}.html?zn=top&zp=category-{@(index+1)}-1-{@(cat2Item_index+1+row_index*2)}">{@(cat2Item.categoryName||\'\')}</a></p>\n            <div class="ctgnamebox">\n              {#if cat2Item.childrenNodeList && cat2Item.childrenNodeList.length}\n              {#list cat2Item.childrenNodeList as cat3Item}\n                {#if cat3Item.jumpMode > 1 && cat3Item.appJumpURL}\n                <a target="_blank" class="f-fcred{cat3Item.specialEffect||\'\'}" href="{cat3Item.appJumpURL | noProtocol}">{cat3Item.categoryName||\'\'}</a>\n                {#else}\n                <a target="_blank" class="f-fcred{cat3Item.specialEffect||\'\'}" href="//search.kaola.com/category/{cat2Item.categoryId||\'\'}/{cat3Item.categoryId||\'\'}.html?zn=top&zp=category-{@(index+1)}-1-{@(cat2Item_index+1+row_index*2)}-{@(cat3Item_index+1)}">{cat3Item.categoryName||\'\'}</a>\n                {/if}\n              {/list}\n              {/if}\n            </div>\n          </div>\n\t      </div>\n\t      {/list}\n      </div>\n      {/list}\n    </div>\n    {/if}\n  </div>\n  <div class="f-fl m-brandbox">\n    <div class="brandlist f-cb">\n      {#if navItem.brandList && navItem.brandList.length}\n      {#list navItem.brandList as item}\n        <a target="_blank" href="//search.kaola.com/brand/{@(item.brandId||\'\')}.html?source=1&zn=top&zp=category-{@(index+1)}-2-{@(item_index+1)}">\n          <img alt="{@(item.name||\'\')}" src="{@((item.logoPic||\'\')|noProtocol)}">\n        </a>\n      {/list}\n      {/if}\n    </div>\n  </div>\n  <div class="f-fr imgbox">\n    <a target="_blank" href="{@((navItem.bannerTargetUrl||\'\')|noProtocol|addActParam:\'zn=top\')}">\n      <img class="u-img" src="{@((navItem.bannerImageUrl||\'\')|noProtocol)}">\n    </a>\n  </div>\n</div>'},function(t,e){t.exports='{#if isLogin}\n您好，<span id="user163Box">{user.account}</span><span class="sep">|</span><a href="{domain}logout.html?url={encodeURIComponent(location.href)}" data-param="zn=top">退出</a>\n{#else}\n<span class="f-hkdn f-hkdnact">考拉欢迎你！</span><a class="login" href="{domain}login.html?target={encodeURIComponent(location.href)}" data-param="zn=top">登录</a><span class="sep">|</span><a target="_blank" href="{domain}login.html?target={encodeURIComponent(location.href)}&clfrom=userreg" data-param="zn=top">免费注册</a>\n{/if}\t\n'},function(t,e){t.exports='<div class="iDialogBody">\n    <div class="loginBody" style="width:auto;padding:0;">\n        <a class="closeLayer" href="javascript:;" on-click="{this.close()}">&nbsp;</a>\n        <div class="m-loginshow {wrapClassName}" r-class={{"m-loginshow-reg": isReg}}>\n            <div class="loginwrap">\n                <div class="top">\n                    <div class="name head1" on-click="{this.clickBtn(false, 1)}">手机号登录</div>\n                    <span class="line">&nbsp;</span>\n                    <div class="name head2" on-click="{this.clickBtn(false, 2)}">邮箱登录</div>\n                </div>\n                <div class="ph-loading" style="height: auto;">\n                    <div id="loginboxwin" class="urswarp loginbox" style="height:254px;"></div>\n                    <div id="loginboxwin2" class="urswarp loginbox2" style="height:230px;"></div>\n                </div>\n                <div class="bottom">\n                    <ul class="thirdlogin">\n                        <li class="thirdicon j-thirdlogin" on-click="{this.clickThirdBtn(\'wx\')}">\n                            <a class="w-icon w-icon-29" href="javascript:;"></a>\n                            <span class="iconmask w-icon w-icon-29-4"></span>\n                        </li>\n                        <li class="thirdicon j-thirdlogin" on-click="{this.clickThirdBtn(\'alipay\')}">\n                            <a class="w-icon w-icon-29 w-icon-29-1" href="javascript:;"></a>\n                            <span class="iconmask w-icon w-icon-29-4"></span>\n                        </li>\n                        <li class="thirdicon j-thirdlogin" on-click="{this.clickThirdBtn(\'sina\')}">\n                            <a class="w-icon w-icon-29 w-icon-29-2" href="javascript:;"></a>\n                            <span class="iconmask w-icon w-icon-29-4"></span>\n                        </li>\n                        <li class="thirdicon j-thirdlogin" on-click="{this.clickThirdBtn(\'qq\')}">\n                            <a class="w-icon w-icon-29 w-icon-29-3" href="javascript:;"></a>\n                            <span class="iconmask w-icon w-icon-29-4"></span>\n                        </li>\n                    </ul>\n                    <a href="javascript:;" class="gotoreg" on-click="{this.clickBtn(true, true)}">手机快捷注册<span class="arrow w-icon w-icon-30">&nbsp;</span></a>\n                </div>\n                <form style="display: none" id="ursKeyForm" name="ursKeyForm" action="" method="post">\n                    <input id="ursKey" type="text" name="URS_INFO_ENC"/>\n                </form>\n            </div>\n            <div class="regwrap">\n                <div class="top regtop">\n                    <span class="text">欢迎注册</span>\n                    <span class="gotologin" on-click="{this.clickBtn(true, false)}">已有帐号？<a href="javascript:;" class="">去登录></a></span>\n                </div>\n                <div id="loginboxwin3" class="ph-loading loginbox3"></div>\n            </div>\n        </div>\n    </div>\n</div>'},function(t,e){t.exports='<div class="recheck-modal">\n    <div class="title">\n        <h1>\n            为保障您的帐号安全，请验证<br>您当前的手机号：\n            <span class="phoneNumber">{phoneNumber}</span>\n        </h1>\n    </div>\n    <div class="content">\n        <div class="text">\n            <div class="m-smsinput">\n                <input type="text" placeholder="请输入验证码" class="smsinput">\n                <div class="actionlabel">\n                    <b class="count" id="count">秒</b>\n                    <span id="getCode" on-click="{this.getCode()}">获取验证码</span>\n                </div>\n            </div>\n        </div>\n        <div class="btnbox">\n            <a class="u-wbtn okbtn}" id="verifyCode" on-click="{this.verifyCode()}">确定</a>\n        </div>\n    </div>\n    <div id="recheckToast" class="recheckToast"></div>\n</div>\n'},function(t,e){t.exports='\x3c!-- <div class="proto-modal-header">隐私政策更新</div> --\x3e\n<div class="proto-modal-body">\n    <ul>\n        <li>欢迎使用网易考拉。</li>\n        <li>\n            为了加强对您个人信息的保护，根据最新法律法规要求，我们更新了隐私政策，以向您说明我们在收集和使用您相关个人信息时的处理规则。\n        </li>\n        <li>\n            请您仔细阅读并确认“\n            <a\n                class="policy"\n                href="https://www.kaola.com/common/page.html?key=Privacy_policy"\n                target="_blank"\n                >隐私权相关政策</a\n            >\n            ”（特别是加粗或下划线标注的内容），我们将严格按照政策内容使用和保护您的个人信息，为您提供更好的服务。\n        </li>\n    </ul>\n    <div class="button-wrap">\n        <button id="agreeProto" on-click="{this.logout()}" class="agree-proto">\n            不同意，退出登录\n        </button>\n        <button id="refuseProto" on-click="{this.agree()}" class="refuse-proto">\n            同意，继续使用\n        </button>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="m-dialogmodal iDialogMain {customClass}">\n\t<div class="m-dlgcont cnt">\n        <p class="detail">为了保障您的用户体验，请使用Chrome浏览器或考拉APP联系在线客服</p>\n        <div style="margin-top: 18px;">\n            <img src="//haitao.nos.netease.com/880b10ac-5714-4c1b-89a9-e24c2302ac79.png" width="116px" height="116px">\n            <p style="margin-top: 10px;">\n                <strong class="txt">扫描下载手机版</strong>\n            </p>\n        </div>\n    </div>\n</div>'},function(t,e){t.exports='<div class="ph-loading" id="ursincludebox" style="height:{height}px;position:relative;top:-30px;"></div>'},,,,function(t,e){t.exports=".m-captchamodal { }\n.m-captchamodal .desc{\n    font-size: 16px;\n    font-weight: bold;\n    text-align: center;\n    margin-bottom: 10px;\n}\n.m-captchamodal .captcha{ }"},function(t,e){t.exports=".m-modalcontent {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 500px;\n    height: 320px;\n    margin-top: -160px;\n    margin-left: -250px;\n    background: #fff;\n    text-align: center;\n    border-radius: 5px;\n}\n\n.m-modalcontent .toparea{\n    position: relative;\n    background: linear-gradient(90deg, #ff274b, #e31436);\n    height: 120px;\n    margin-bottom: 28px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n.m-modalcontent .toparea img{\n    margin-top: 18px;\n}\n\n.m-modalcontent .toparea .close{\n    position: absolute;\n    top: 10px;\n    right: 15px;\n    display: inline-block;\n    width: 12px;\n    height: 13px;\n    background: url('/images/search/redirect_close_icon.png');\n    cursor: pointer;\n}\n\n.m-modalcontent .btn{\n    display: inline-block;\n    margin: 28px 0 40px;\n    background: #ee1b3e;\n    height: 50px;\n    line-height: 50px;\n    width: 340px;\n    text-align: center;\n    color: #fff;\n    font-size: 20px;\n    cursor: pointer;\n    border-radius: 4px;\n}\n\n.m-modalcontent p{\n    color: #333;\n    font-size: 18px;\n    line-height: 26px;\n}\n\n.m-modalcontent p .key{\n    color: #ee1b3e;\n}"},function(t,e,n){t.exports=n(0)(164)},function(t,e,n){t.exports=n(0)(183)},function(t,e,n){t.exports=n(0)(35)},function(t,e,n){t.exports=n(0)(409)},function(t,e,n){t.exports=n(0)(416)},function(t,e,n){t.exports=n(0)(421)},function(t,e,n){t.exports=n(0)(430)},function(t,e,n){t.exports=n(0)(438)},function(t,e,n){t.exports=n(0)(81)},,,function(t,e,n){var i=n(23),o=n(14),a=n(111),s=n(99),r=n(29).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=a?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||r(e,t,{value:s.f(t)})}},function(t,e,n){e.f=n(21)},,function(t,e){},function(t,e){},function(t,e,n){var i,o,a=n(6),s=n(2),r=n(3),c=n(4),l=(n(33),n(106)),d=n(1),u=n(8),p={};p._$$LazyImage=a._$klass(),(i=p._$$LazyImage._$extend(l._$$LazyImage)).__reset=function(t){(t=t||{}).attr="src",t.loadedClass=t.loadedClass||"img-lazyloaded",t.exploreDist=t.exploreDist||100,t.onappend=function(t){var e=t.target;c._$dataset(e,"src")||(t.stopped=1)},this.__initCacheDate(t),this.__super(t)},i.__initCacheDate=function(t){this._options=t,this.__throtteScroll=d.throttle(this.__doCheckScrollFunc._$bind(this),300,{trailing:!0})},i.__getResourceList=function(t){return u(t)._$children("[data-"+this._options.attr+"]:not(."+this._options.loadedClass+")",!0)},i.__doCheckResource=function(t){var e=this.__getSettingInfo(t);return(!t.src||t.src.indexOf(this.__holder)>=0||t.src.indexOf(e.src)<0)&&this.__isInViewPort(t)?1:0},i.__isInViewPort=function(t){var e=t.getBoundingClientRect(),n=e.top||0,i=e.bottom||0,o=this._options.exploreDist,a=document.documentElement.clientHeight+o;return n>-o&&n<a||i>-o&&i<a||n<-o&&i>a},i.__doAppendResource=function(t,e){t.src!=e.src&&(this.__addImgTrack(t),t.src=e.src||this.__holder,c._$addClassName(t,this._options.loadedClass))},i.__addImgTrack=function(t){r._$addEvent(t,"error",this.__doImgTrack,!1)},i.__doImgTrack=function(t){r._$clearEvent(t.target,"error"),"load"==t.type||t.type},i.__doCheckScrollPosition=function(){this.__throtteScroll()},i.__doCheckScrollFunc=(o={"-1":"onremove",1:"onappend"},function(){var t=this.__getResourceList(this.__parent||document),e=this.__getScrollViewPort();s._$forEach(t,function(t){var n={target:t,config:e};this._$dispatchEvent("oncheck",n);var i=n.value;null==i&&(i=this.__doCheckResource(t,e));var a=o[i];a&&(n={target:t,config:this.__getSettingInfo(t)},this._$dispatchEvent(a,n),n.stopped||(-1==i?this.__doRemoveResource(t):this.__doAppendResource(t,n.config)))},this)}),t.exports=p._$$LazyImage},function(t,e,n){var i=/localhost|\d+\.\d+\.\d+\.\d+/.test(location.hostname);t.exports={KAOLA_DOMAIN:i?"/":"//www.kaola.com/",KAOLA_DOMAIN_HK:i?"/":"//www.kaola.com.hk/",BUY_DOMAIN:i?"/":"//buy.kaola.com/",BUY_DOMAIN_HK:i?"/":"//buy.kaola.com.hk/",TRADE_DOMAIN:i?"/":"//trade.kaola.com/",DETAIL_DOMAIN:"/",WAP_DETAIL_DOMAIN:i?"/":"//m.kaola.com/",USER_DOMAIN:i?"/":"//user.kaola.com/",YOU_DOMAIN:i?"/":"//you.kaola.com/"}},function(t,e,n){t.exports=n(0)(185)},function(t,e,n){t.exports=n(0)(424)},,function(t,e,n){"use strict";e.__esModule=!0;var i=s(n(120)),o=s(n(119)),a="function"==typeof o["default"]&&"symbol"==typeof i["default"]?function(t){return typeof t}:function(t){return t&&"function"==typeof o["default"]&&t.constructor===o["default"]&&t!==o["default"].prototype?"symbol":typeof t};function s(t){return t&&t.__esModule?t:{"default":t}}e["default"]="function"==typeof o["default"]&&"symbol"===a(i["default"])?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof o["default"]&&t.constructor===o["default"]&&t!==o["default"].prototype?"symbol":void 0===t?"undefined":a(t)}},,,,,,function(t,e,n){(function(){var e=n(24),i=n(6),o=n(2),a=n(25),s={};s._$$AnimLinear=i._$klass(),s._$$AnimLinear._$extend(a._$$AnimBezier).__reset=function(t){(t=o._$merge({},t)).timing="linear",this.__super(t)},e.copy(e.P("nej.ut"),s),t.exports=s}).call(window)},function(t,e,n){var i,o=n(107),a=(i=o)&&i.__esModule?i:{"default":i};var s,r=n(6),c=n(2),l=n(9),d=n(3),u=n(4),p=(n(8),{});p._$$ScrollTo=r._$klass(),(s=p._$$ScrollTo._$extend(l._$$EventTarget)).__init=function(t){this.__super(t)},s.__reset=function(t){this.__super(t),this._elem=t.elem||u._$get(t.id||""),this._page="停留打点^_^"+(t.page||""),this._module=t.module||"",this._param=t.param||(c._$isArray(t.param)?[]:{}),this._waitMills=t.waitMills||1e3,this._area=t.area||{},this._elem&&t.page&&t.module&&(this._hasCalled=!1,this._blocking=!1,this._sto=undefined,d._$addEvent(window,"scroll",this.__cbFn._$bind(this)),d._$addEvent(window,"resize",this.__cbFn._$bind(this)),this.__cbFn._$bind(this)())},s.__cbFn=function(){var t=this,e=t._area,n=t._waitMills;if(t._elem.getBoundingClientRect&&!t._hasCalled){var i=t._elem.getBoundingClientRect(),o=i.top||0,a=i.bottom||0,s=document.documentElement.clientHeight,r=e.top||0,c=s-(e.bottom||0);if(o>r&&o<c||a>r&&a<c||o<r&&a>c){if(t._blocking)return;t._blocking=!0,t._sto=setTimeout(function(){t._blocking=!1,t.__sendDaPush()},n)}else t._blocking=!1,t._sto&&(clearTimeout(t._sto),t._sto=undefined)}},s.__sendDaPush=function(){var t=this._param;this._hasCalled=!0,"function"==typeof t&&(t=t.apply(window)),window._dapush&&window._dapush("_trackEvent",this._page,this._module,(0,a["default"])(t)||"",{userAccount:window.account,userId:window.account})},t.exports=p._$$ScrollTo},,function(t,e,n){var i=n(82),o=(n(1),n(327)),a=i.extend({data:{msg:o},config:function(t){this.supr(t),this.__addIcon(t),this.__initClazz(t)},init:function(t){this.supr(t),this.$root==this&&this.$inject(document.body)},__addIcon:function(t){t.iconType=t.icon&&{yes:["&#xe612;","#5DC540"],notice:["&#xe609;","#E31436"],fail:["&#xe604;","#E31436"],forbid:["&#xe606;","#E31436"]}[t.icon]},__initClazz:function(t){if(t.clazz=t.clazz||"",t.inclazz=t.inclazz||"",!t.content){t.descOne=t.descOne||"",t.descTwo=t.descTwo||"";var e="m-dlgcont-c",n="m-dlgcontwrap-c";t.descTwo&&(e="m-dlgcont-l",n="m-dlgcontwrap-l"),t.clazz+=" "+n,t.inclazz+=" "+e}}}).use("timeout");t.exports=a},function(t,e,n){t.exports=n(0)(184)},function(t,e,n){t.exports={"default":n(155),__esModule:!0}},function(t,e,n){t.exports={"default":n(156),__esModule:!0}},,function(t,e,n){var i=n(167),o=n(141).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports='<div ref=\'wrap\' class="{wrapperClass}" r-style={wrapStyle}>\n\t<div class="u-tip-tri u-tip-tri-{orientation}" r-style={arrowStyle}><i class="u-tip-tri1">◆</i><i class="u-tip-tri2">◆</i></div>\n\t<div class="m-tip-contents" r-html={contentHtml}></div>\n</div>'},,,function(t,e,n){var i=n(117),o=n(1),a=n(328),s=n(118),r=i.extend({data:{msg:a},config:function(t){o.extend(t,{content:a,hideCCBtn:!0,tips:"成为考拉会员，立享全场自营96折优惠：",title:"会员96折",qrcodeTips:"扫一扫，成为会员",qrCodeLink:"https://m.kaola.com/member/activity/index.html?from=pcproduct"}),this.supr(t)},init:function(t){this.supr(t),this.__initQRCode(),this.$root==this&&this.$inject(document.body)},__initQRCode:function(){var t=this.data.qrCodeLink,e=this.$refs.qrcode;t&&new s(e,{text:t,width:110,height:110,colorDark:"#000000",colorLight:"#ffffff",correctLevel:s.CorrectLevel.H})}}).use("timeout");t.exports=r},function(t,e,n){var i=n(5),o={},a=i.fromJS;o.isImmutable=function(t){var e,n;return"function"==typeof i.Immutable.isImmutable?i.Immutable.isImmutable(t):!(n=t,!(n&&n["@@__IMMUTABLE_ITERABLE__@@"]||(e=t,e&&e["@@__IMMUTABLE_RECORD__@@"])))},o.getSkuInfo=function(t,e){var n=t.getIn(["skuVidMap",e]);return{sku:n,async:t.get("async"),hasSku:n&&!n.isEmpty()}},o.getLeftStore=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],n=0;o.isImmutable(e)&&(e=e.toJS()||[]),e===undefined&&(e=t.getIn(["skuProps","selVidList"])||[]),e.length||(e=[]);return t.get("skuDetailList").forEach(function(t){e.length&&!function(t,e){var n=t.getIn(["skuInfo","skuPropervalueIdString"])||"";return e.every(function(t){return~("_"+n+"_").indexOf("_"+t+"_")})}(t,e)||(n+=parseInt(t.getIn(["skuStore","currentStore"]))||0)}),n},o.getLeftStoreAll=function(t){var e=parseInt(t.getIn(["async","goodsCurrentStore"]));return e||0===e?e:o.getLeftStore(t,"")||0},o.getVidInfo=function(t){var e=t.getIn(["skuProps","allVidList"])||a([]),n=t.getIn(["skuProps","selVidList"])||a([]),i=t.get("skuDetailList")||a([]),s=a([]),r=a([]),c=a([]);return e.forEach(function(e){var l=void 0,d=e.some(function(t){return~(l=n.indexOf(t))});e.forEach(function(e){c=d?n.splice(l,1,e):n.push(e),o.getLeftStore(t,c)<=0&&(r=r.push(e)),i.some(function(t){var e=t.getIn(["skuInfo","skuPropervalueIdList"])||a([]);return c.every(function(t){return~e.indexOf(t)})})||(s=s.push(e))})}),{noneVidList:s,stockOutList:r}},o.isSameSkuPrice=function(t,e){var n=[];return t&&t.forEach(function(t){var i=0;switch(e){case"CURRENT":i=!!t.skuPrice&&t.skuPrice.currentPrice||0;break;case"BLACKCARD":i=!!t.skuPrice&&t.skuPrice.memberCurrentPrice||0;break;case"SECKILL":i=!!t.seckillActivityInfo&&t.seckillActivityInfo.seckillPrice||0;break;case"TEMAI":i=!!t.temaiActivityInfo&&t.temaiActivityInfo.activityPrice||0;break;case"NEWUSER":i=!!t.skuPrice&&t.skuPrice.newUserPrice||0;break;case"DEPOSIT":i=!!t.depositSkuInfo&&t.depositSkuInfo.totalDepositPrice||0;break;default:return}i&&n.push(parseFloat(i))}),(n=n.sort(function(t,e){return t-e})).length>0&&n[0]===n[n.length-1]},t.exports=o},function(t,e,n){var i,o=n(38),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(1),r=n(534),c=n(149),l=n(41),d={toggle:function(){return function(t,e){var n=e().select.show;!n&&s.daEvent("全站地址控件","操作","点击"),t(d.calcElementPosition()),t(n?d.hide():d.show())}},show:function(){return function(t,e){var n=e();t(d.calcElementPosition()),t(d.setShow(!0)),n.select.notSelectAnyAddress&&t(d.setTab1Act({tab:1,act:1}))}},hide:function(){return function(t,e){var n=e();t(d.calcElementPosition()),t(d.setShow(!1)),n.select.notSelectAnyAddress||t(d.selectAddress())}},calcElementPosition:function(){return{type:l.CALC_ELEMENT_POSITION}},setShow:function(t){return{type:l.SET_SHOW,show:t}},setDOMElement:function(t){return{type:l.SET_DOM_ELEMENT,payload:{target:t.target||null,box:t.box||null}}},clickBody:function(t){return function(e,n){var i=n(),o=i.select.target,a=i.select.box;if(a&&o&&i.select.show){for(var s=t.target,r=!1;s!==document.body&&s!==document;){if(!s||s===a||s===o){r=!0;break}s=s.parentNode}r||e(d.hide())}}},provinceTabClick:function(){return{type:l.PROVINCE_TAB_CLICK}},cityTabClick:function(){return{type:l.CITY_TAB_CLICK}},districtTabClick:function(){return{type:l.DISTRICT_TAB_CLICK}},setTab1Act:function(t){return{type:l.SET_TAB1ACT,payload:{tab:t.tab,act:t.act}}},setNotSelectAnyAddress:function(t){return{type:l.SET_NOT_SELECT_ANY_ADDRESS,notSelectAnyAddress:t}},selectAddress:function(t){return function(e,n){var i=n();return(t=t||i.select.selectAddress)?e(d.selectProvince(t.provinceCode)).then(function(){return e(d.selectCity(t.cityCode,t.provinceCode))}).then(function(){return e(d.selectDistrict(t.districtCode,t.cityCode))}).then(function(){return e(d.setTab1Act({tab:3,act:3})),a["default"].resolve(t)}):a["default"].reject(new Error("address not found"))}},selectProvince:function(t){return function(e){var n;return a["default"].all([e(d.getProvince()),e(d.getCity(t))]).then(function(i){var o=i[0]||[],s=i[1]||[],r=o.filter(function(e){return Number(e.code)===Number(t)})||[];return r.length?(n=r[0],e(d.setSelectedAddress({province:n})),e(d.setSelectedCitys(s)),a["default"].resolve(n)):a["default"].reject(new Error("provinceCode not match any province"))})}},selectCity:function(t,e){return function(n,i){var o,s=i().select.selected.province;return e=e||s.code,n(d.getCity(e)).then(function(i){var s;return 1===(i=i||[]).length||c.DIRECT_CITY_CODE.some(function(t){return Number(t)===Number(e)})?(s=i,t=i[0].code):s=i.filter(function(e){return Number(e.code)===Number(t)})||[],s.length?(o=s[0],n(d.setSelectedAddress({city:o})),n(d.setSelectedCitys(i)),a["default"].resolve(o)):a["default"].reject(new Error("cityCode not match any city"))}).then(function(e){return n(d.getDistrict(t)).then(function(t){return t=t||[],n(d.setSelectedDistricts(t)),t}).then(function(){return a["default"].resolve(e)})})}},selectDistrict:function(t,e){return function(n,i){var o,s=i().select.selected.city||{};return e=e||s.code,n(d.getDistrict(e)).then(function(e){var i=(e=e||[]).filter(function(e){return Number(e.code)===Number(t)})||[];return i.length?(o=i[0],n(d.setSelectedAddress({district:o})),n(d.setSelectedDistricts(e)),a["default"].resolve(o)):a["default"].reject(new Error("districtCode not match any district"))})}},setAddressFromSelectedAddress:function(){return function(t,e){var n=e().select.selected,i={provinceCode:n.province.code,cityCode:n.city.code,districtCode:n.district.code,contactId:""};return t(d.getAddressSuccess(i)),i}},updateInputMsg:function(){return function(t,e){var n=e();t(d.setInputMsg(n.select.selected))}},setInputMsg:function(t){return{type:l.SET_INPUT_MSG,payload:t}},setSelectedAddress:function(t){return{type:l.SET_SELECTED_ADDRESS,address:t}},setSelectedCitys:function(t){return{type:l.SET_SELECTED_CITYS,citys:t}},setSelectedDistricts:function(t){return{type:l.SET_SELECTED_DISTRICTS,districts:t}},setLoadingAddress:function(t){return{type:l.SET_LOADING_ADDRESS,loadingAddress:!!t}},setLoading:function(t){return{type:l.SET_LOADING,loading:!!t}},setError:function(t){return{type:l.SET_ERROR,error:!!t}},getDistrict:function(t){return function(e,n){var i=n();return d.__hasValue(t,i.select.districtsMap)?a["default"].resolve(i.select.districtsMap[t]):(e(d.setLoading(!0)),r.getDistrict(t).then(function(n){if(e(d.setLoading(!1)),n&&200===n.code&&n.data.length)return e(d.getDistrictSuccess(n.data||[],t)),n.data||[];e(d.getDistrictFail())})["catch"](function(){e(d.setLoading(!1)),e(d.getDistrictFail())}))}},getDistrictSuccess:function(t,e){return{type:l.GET_DISTRICT_SUCCESS,payload:{cityCode:e,districts:t||[]}}},getDistrictFail:function(){return{type:l.GET_DISTRICT_FAIL}},__hasValue:function(t,e){return e[t]&&e[t].length},getCity:function(t){return function(e,n){var i=n();return d.__hasValue(t,i.select.citysMap)?a["default"].resolve(i.select.citysMap[t]):(e(d.setLoading(!0)),r.getCity(t).then(function(n){if(e(d.setLoading(!1)),n&&200===n.code&&n.data.length)return e(d.getCitySuccess(n.data||[],t)),n.data||[];e(d.getCityFail())})["catch"](function(t){e(d.setLoading(!1)),e(d.getCityFail())}))}},getCitySuccess:function(t,e){return{type:l.GET_CITY_SUCCESS,payload:{provinceCode:e,citys:t||[]}}},getCityFail:function(){return{type:l.GET_CITY_FAIL}},getProvince:function(){return function(t,e){var n=e();return n.select.provinces.length?a["default"].resolve(n.select.provinces):(t(d.setLoading(!0)),r.getProvince().then(function(e){if(t(d.setLoading(!1)),e&&200===e.code&&e.data.length)return t(d.getProvinceSuccess(e.data)),e.data;t(d.getProvinceFail())})["catch"](function(e){t(d.setLoading(!1)),t(d.getProvinceFail())}))}},getProvinceSuccess:function(t){return{type:l.GET_PROVINCE_SUCCESS,provinces:t||[]}},getProvinceFail:function(){return{type:l.GET_PROVINCE_FAIL}},getAddress:function(){return function(t,e){var n=e(),i=n.addr.defAddress;return i?(t(d.getAddressSuccess(i)),a["default"].resolve(i)):r.getAddress({}).then(function(e){return e&&200===e.retcode?(i=e.addressDto||n.addr.defAddress,t(d.getAddressSuccess(i))):t(d.getAddressFail(n.addr.defAddress)),a["default"].resolve(i)})["catch"](function(e){return t(d.getAddressFail(n.addr.defAddress)),a["default"].resolve(i)})}},getAddressSuccess:function(t){return{type:l.GET_ADDRESS_SUCCESS,address:t}},getAddressFail:function(t){return{type:l.GET_ADDRESS_FAIL,address:t}},updateAddressByContactId:function(t){return function(e,n){var i=n(),o=i.list.addressList||[],a=null;return(t=t||i.select.contactId)&&o.length&&o.some(function(e){return e.id===t&&(a=e,!0)})?(e(d.getAddressSuccess({provinceCode:a.provinceCode,cityCode:a.cityCode,districtCode:a.districtCode,contactId:a.id})),a):i.select.selectAddress}},getAddressList:function(){return function(t){var e=[];return r.getAddressList().then(function(n){return n&&200===n.retcode&&n.body?(e=n.body.list||[],t(d.getAddressListSuccess(e))):t(d.getAddressListFail()),a["default"].resolve(e)})["catch"](function(e){return t(d.getAddressListFail()),a["default"].resolve([])})}},getAddressListSuccess:function(t){return{type:l.GET_ADDRESS_LIST_SUCCESS,addressList:t}},getAddressListFail:function(t){return{type:l.GET_ADDRESS_LIST_FAIL,address:t}},saveAddress:function(){return function(t,e){var n=e(),i=n.select.selected||{},o=i.province,s=i.city,c=i.district,l=n.select.contactId||"";if(!o||!s||!c)return a["default"].reject(new Error("saveAddress with no selected address"));if(!n.select.autoSave)return a["default"].reject(!1);var u=(n.list.addressList||[]).filter(function(t){return Number(t.id)===Number(l)})[0],p={provinceCode:o.code,cityCode:s.code,districtCode:c.code,contactId:l,addressDetail:u&&u.address?u.address:""};return t(d.setLoading(!0)),r.saveAddress({data:p}).then(function(e){if(t(d.setLoading(!1)),e&&200===e.retcode)return t(d.saveAddressSuccess()),a["default"].resolve(p);t(d.saveAddressFail())})["catch"](function(e){t(d.setLoading(!1)),t(d.saveAddressFail())})}},saveAddressSuccess:function(t){return{type:l.SAVE_ADDRESS_SUCCESS,address:t}},saveAddressFail:function(t){return{type:l.SAVE_ADDRESS_FAIL,address:t}},getSelectInfo:function(){return function(t,e){var n=e(),i=n.select,o=i.selected||{},s=i.contactId||null,r=!!i.firstLoaded;return a["default"].resolve({province:o.province,city:o.city,district:o.district,provinceCode:i.selectAddress.provinceCode,cityCode:i.selectAddress.cityCode,districtCode:i.selectAddress.districtCode,contactId:s||"",addressList:n.list.addressList,firstLoaded:r})}},chooseAddress:function(t){return function(e,n){var i=n();if(t.id===i.select.contactId)return e(d.hide()),a["default"].reject(0);var o=e(d.updateAddressByContactId(t.id));return e(d.selectAddress(o)).then(function(){return e(d.setTab1Act({tab:3,act:3})),e(d.updateInputMsg()),e(d.hide()),a["default"].resolve(1)})}},updateFirstLoaded:function(t){return{type:l.UPDATE_FIRST_LOADED,firstLoaded:!!t}}};t.exports=d},function(t,e,n){var i,o=n(13),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(18);function r(){this.reset()}var c=r.prototype;c.done=function(){this.doneFlag=!0},c.isDone=function(){return!0===this.doneFlag},c.reset=function(){this.doneFlag=!1};var l=s.extend({name:"StoreProvider",template:"{#include this.$body}",config:function(){var t=this,e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.data).store;if(!e)throw new Error("Provider expected data.store to be store instance created by redux.createStore()");var n=new r;e.subscribe(function(){n.done(),setTimeout(function(){n.isDone()&&(t.$update(),n.reset())})})}});t.exports={connect:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=t.mapState,n=e===undefined?function(){return{}}:e,i=t.dispatch;return function(t){return t.implement({events:{$config:function(){var t=this,e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.data,function(t){for(var e=t.$parent;;){if(!e)throw new Error("Expected root Component be Provider!");if(e.data.store)return e.data.store;e=e.$parent}}(this)),o=function(){var i=e.getState(),o=n.call(t,i);o&&(0,a["default"])(t.data,o)};o();var s=e.subscribe(o);i&&(this.$dispatch=e.dispatch),this.$on("destroy",s)}}})}},StoreProvider:l}},function(t,e,n){var i,o=n(38),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(20),r=n(49);function c(t,e,n,i,o){var c,l=(t=t||{}).type||"",u=t.payload||{},p=u.data||null,f=u.promise||null,m=s.isFunction(u),h=s.isPromise(u),g=h||m,v=s.isFunction(f),_=s.isPromise(f),y=_||v;return g||y?(v&&(c=f.call(t,n,i,o)),_&&(c=f),m&&(c=u.call(t,n,i,o)),h&&(c=u),s.isPromise(c)?(n(function(t,e){return d(t+r.PROMISE_PENDING_SUFFIX,e)}(l,!y||!p||p)),t.__promise__=!0,c.then(function(t){return n(function(t,e){return d(t+r.PROMISE_FULFILLED_SUFFIX,e)}(l,t||null)),a["default"].resolve(t)})["catch"](function(t){var e=function(t,e){return d(t+r.PROMISE_REJECTED_SUFFIX,e)}(l,t||null);if(e.error=!0,n(e),t instanceof Error)throw t;return t})):void 0):e(t)}function l(t){return function(e){var n=e.dispatch,i=e.getState;return function(e){return function(o){return c(o,e,n,i,t)}}}}function d(t,e){return{type:t,payload:e}}var u=l();u.withExtra=l,t.exports=u},function(t,e,n){t.exports={"default":n(153),__esModule:!0}},,,,function(t,e,n){var i=n(27),o=n(14),a=n(43);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*a(function(){n(1)}),"Object",s)}},,,,,,function(t,e){t.exports={DEF_ADDRESS:{provinceCode:33e4,cityCode:330100,districtCode:330102},DIRECT_CITY_CODE:[11e4,12e4,31e4,5e5],REGION_LIST:[["华北",11e4,12e4,13e4,14e4,15e4],["华东",31e4,32e4,33e4,34e4,35e4,37e4],["华南",44e4,45e4,46e4],["华中",36e4,41e4,42e4,43e4],["西南",5e5,51e4,52e4,53e4,54e4],["西北",61e4,62e4,63e4,64e4,65e4],["东北",21e4,22e4,23e4]]}},function(t,e,n){n(2);var i=n(3),o=(n(1),n(180)),a=n(1),s=o.extend({kaolaDomain:"//www.kaola.com/",init:function(){this.supr(),this._thro=a.throttle(this.onBodyScrollCheck._$bind(this),100),i._$addEvent(window,"scroll",this._thro)},destroy:function(){i._$delEvent(window,"scroll",this._thro),this.supr()}});o.filter({encode:function(t){return t?window.encodeURIComponent(t):""}}),t.exports=s},function(t,e,n){t.exports=n(0)(186)},function(t,e,n){t.exports={"default":n(257),__esModule:!0}},function(t,e,n){n(113),n(100),t.exports=n(172)},function(t,e,n){n(173),t.exports=n(14).Object.keys},function(t,e,n){n(175),n(174),n(176),n(177),t.exports=n(14).Symbol},function(t,e,n){n(100),n(113),t.exports=n(99).f("iterator")},,,,function(t,e,n){var i=n(54),o=n(123),a=n(96);t.exports=function(t){var e=i(t),n=o.f;if(n)for(var s,r=n(t),c=a.f,l=0;r.length>l;)c.call(t,s=r[l++])&&e.push(s);return e}},,function(t,e,n){var i=n(109);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(112)("meta"),o=n(40),a=n(39),s=n(29).f,r=0,c=Object.isExtensible||function(){return!0},l=!n(43)(function(){return c(Object.preventExtensions({}))}),d=function(t){s(t,i,{value:{i:"O"+ ++r,w:{}}})},u=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,i)){if(!c(t))return"F";if(!e)return"E";d(t)}return t[i].i},getWeak:function(t,e){if(!a(t,i)){if(!c(t))return!0;if(!e)return!1;d(t)}return t[i].w},onFreeze:function(t){return l&&u.NEED&&c(t)&&!a(t,i)&&d(t),t}}},,function(t,e,n){var i=n(96),o=n(97),a=n(44),s=n(126),r=n(39),c=n(161),l=Object.getOwnPropertyDescriptor;e.f=n(35)?l:function(t,e){if(t=a(t),e=s(e,!0),c)try{return l(t,e)}catch(n){}if(r(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(44),o=n(122).f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?function(t){try{return o(t)}catch(e){return s.slice()}}(t):o(i(t))}},,,,,,function(t,e,n){var i=n(34),o=n(145);t.exports=n(14).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},function(t,e,n){var i=n(125),o=n(54);n(143)("keys",function(){return function(t){return o(i(t))}})},,function(t,e,n){"use strict";var i=n(23),o=n(39),a=n(35),s=n(27),r=n(168),c=n(163).KEY,l=n(43),d=n(144),u=n(124),p=n(112),f=n(21),m=n(99),h=n(98),g=n(160),v=n(162),_=n(34),y=n(40),b=n(44),I=n(126),S=n(97),T=n(142),x=n(166),w=n(165),k=n(29),C=n(54),E=w.f,P=k.f,L=x.f,A=i.Symbol,D=i.JSON,N=D&&D.stringify,O=f("_hidden"),$=f("toPrimitive"),j={}.propertyIsEnumerable,M=d("symbol-registry"),R=d("symbols"),B=d("op-symbols"),U=Object.prototype,z="function"==typeof A,G=i.QObject,F=!G||!G.prototype||!G.prototype.findChild,V=a&&l(function(){return 7!=T(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=E(U,e);i&&delete U[e],P(t,e,n),i&&t!==U&&P(U,e,i)}:P,H=function(t){var e=R[t]=T(A.prototype);return e._k=t,e},Y=z&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},q=function(t,e,n){return t===U&&q(B,e,n),_(t),e=I(e,!0),_(n),o(R,e)?(n.enumerable?(o(t,O)&&t[O][e]&&(t[O][e]=!1),n=T(n,{enumerable:S(0,!1)})):(o(t,O)||P(t,O,S(1,{})),t[O][e]=!0),V(t,e,n)):P(t,e,n)},K=function(t,e){_(t);for(var n,i=g(e=b(e)),o=0,a=i.length;a>o;)q(t,n=i[o++],e[n]);return t},W=function(t){var e=j.call(this,t=I(t,!0));return!(this===U&&o(R,t)&&!o(B,t))&&(!(e||!o(this,t)||!o(R,t)||o(this,O)&&this[O][t])||e)},Q=function(t,e){if(t=b(t),e=I(e,!0),t!==U||!o(R,e)||o(B,e)){var n=E(t,e);return!n||!o(R,e)||o(t,O)&&t[O][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=L(b(t)),i=[],a=0;n.length>a;)o(R,e=n[a++])||e==O||e==c||i.push(e);return i},X=function(t){for(var e,n=t===U,i=L(n?B:b(t)),a=[],s=0;i.length>s;)!o(R,e=i[s++])||n&&!o(U,e)||a.push(R[e]);return a};z||(r((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:undefined),e=function(n){this===U&&e.call(B,n),o(this,O)&&o(this[O],t)&&(this[O][t]=!1),V(this,t,S(1,n))};return a&&F&&V(U,t,{configurable:!0,set:e}),H(t)}).prototype,"toString",function(){return this._k}),w.f=Q,k.f=q,n(122).f=x.f=J,n(96).f=W,n(123).f=X,a&&!n(111)&&r(U,"propertyIsEnumerable",W,!0),m.f=function(t){return H(f(t))}),s(s.G+s.W+s.F*!z,{Symbol:A});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)f(Z[tt++]);for(var et=C(f.store),nt=0;et.length>nt;)h(et[nt++]);s(s.S+s.F*!z,"Symbol",{"for":function(t){return o(M,t+="")?M[t]:M[t]=A(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in M)if(M[e]===t)return e},useSetter:function(){F=!0},useSimple:function(){F=!1}}),s(s.S+s.F*!z,"Object",{create:function(t,e){return e===undefined?T(t):K(T(t),e)},defineProperty:q,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:X}),D&&s(s.S+s.F*(!z||l(function(){var t=A();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e=i[1],(y(e)||t!==undefined)&&!Y(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),i[1]=e,N.apply(D,i)}}),A.prototype[$]||n(53)(A.prototype,$,A.prototype.valueOf),u(A,"Symbol"),u(Math,"Math",!0),u(i.JSON,"JSON",!0)},function(t,e,n){n(98)("asyncIterator")},function(t,e,n){n(98)("observable")},,function(t,e){t.exports="{#if total > 1}<ul class=\"m-pagination f-cb\" r-hide=\"!total\"><li on-click={ this.nav(current-1)} r-hide=\"hidePre\" class='pageprv {current==1? \"disabled\": \"\"}'><a  href='javascript:void(0);' >上一页</a></li>{#if total - 5 > show * 2}<li  on-click={ this.nav(1)} class={current==1? 'active': ''}><a href='javascript:void(0);'>1</a></li>{#if begin > 2}<li><a>...</a></li>{/if}{#list begin..end as i}<li on-mouseenter={this.onEnter(i)} on-click={ this.nav(i)} class={current==i? 'active': ''}><a href='javascript:void(0);'>{i}</a></li>{/list}{#if (end < total-1)}<li><a>...</a></li>{/if}<li on-click={ this.nav(total)} class={current==total? 'active': ''}><a href='javascript:void(0);'>{total}</a></li>{#else}{#list 1..total as i}<li on-mouseenter={this.onEnter(i)} on-click={ this.nav(i)} class={current==i? 'active': ''}><a href='javascript:void(0);'>{i}</a></li>{/list}{/if}<li on-click={ this.nav(current + 1)} r-hide=\"hideNext\" class='pagenxt {current==total? \"disabled\": \"\"}'><a  href='javascript:void(0);' >下一页</a></li></ul>{/if}\n\n"},function(t,e,n){var i=n(1),o=n(2),a=n(7);n(182);var s=a.extend({watchedAttr:["current"],config:function(t){i.extend(t,{total:1,current:1,limit:10,list:[]}),this.$watch(this.watchedAttr,function(){this.shouldUpdateList()&&this.__getList()})},init:function(){this.$on("updatelist",this.__getList.bind(this))},shouldUpdateList:function(){return!0},getExtraParam:function(){return this.data.condition},refresh:function(t){this.data.current=1,this.data.condition=t,this.$emit("updatelist")},getListParam:function(){var t=this.data;return i.extend({limit:t.limit,offset:t.limit*(t.current-1),lastId:t.lastId},this.getExtraParam(t))},__bodyResolver:function(t){var e=t.body,n=e.list||[];i.mergeList(n,this.data.list,this.data.key||"id"),this.data.total=e.total,this.data.list=n},__getList:function(){var t={progress:!0,data:this.getListParam(),onload:function(t){this.__bodyResolver(t)}._$bind(this),onerror:function(t){var e=this.__errorHandler;e&&e(t)}};this.xdrOption&&i.extend(t,this.xdrOption),t.norest&&!o._$isString(t.data)&&(t.data=o._$object2query(t.data)),"GET"==t.method.toUpperCase()&&(t.query=t.data),this.$request(this.url,t)}});t.exports=s},,function(t,e,n){var i=n(179),o=n(7).extend({name:"pager",template:i,config:function(t){var e=t.show=Math.floor(2.5);t.current=parseInt(t.current||1),t.total=parseInt(t.total||1),this.$watch(["current","total"],function(n){t.begin=n-e,t.end=n+e,t.begin<2&&(t.begin=2),t.end>t.total-1&&(t.end=t.total-1),n-t.begin<=1&&(t.end=t.end+e+t.begin-n),t.end-n<=1&&(t.begin=t.begin-e-n+t.end)})},onEnter:function(t){this.data.mouseenter&&(this.$emit("enter",t),this.nav(t))},nav:function(t){var e=this.data;t<1||t>e.total||t!==e.current&&(e.current=t,this.$emit("nav",t))}});t.exports=o},,,,,,function(t,e,n){var i=n(1),o=n(17),a=n(178),s=n(187),r={gtmCollect:function(t){window.dataLayer=window.dataLayer||[],window.dataLayer.push(t)},gtmTrigger:function(t){t=t||"gtmReady",window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:t})},gtmReady:function(t){r.gtmGo(t,o.getUserType())},gtmReadyAsync:function(t){setTimeout(function(){if(window.isLogin===undefined){var e=new s;e.$on("logined",function(n){var i=o.getUserTypeInUser(window.isLogin,n);r.gtmGo(t,i),e=e.destroy()})}else{var n=o.getUserTypeInUser(window.isLogin,window.user);r.gtmGo(t,n)}},2e3)},gtmGo:function(t,e){var n=o.getAccountFromCookie(),s=i.merge({com_data:{user_type:e,account:n,account_md5:a._$md52hex(n)}},t);r.gtmCollect(s),r.gtmTrigger("gtmReady")}};t.exports=r},function(t,e,n){var i=n(17),o=n(3),a=n(10),s=n(5),r=n(19).updateFavBtn,c=n(11),l=n(344),d=n(469),u=c.extend({template:l,data:{pending:!1,clazz:"m-favbtn-s",isLarge:!1},config:function(){this.supr(),this.data.clazz=this.data.isLarge?"m-favbtn-l":"m-favbtn-s"},toggleFav:function(t){o._$stop(t);var e=this.data;e.pending||(e.pending=!0,clearTimeout(e.pendingSto),e.pendingSto=setTimeout(function(){return e.pending=!1},1e3),e.userFavoriteGoods?this.delFav(e.goodsId):this.addFav(e.goodsId))},addFav:function(t){var e=this,n=e.data;i.afterLogin(function(){a("/favoriteAjax/add.json",{method:"POST",data:{goodsId:t},type:"json",norest:!0,onload:function(t){!t||200!==t.code&&491!==t.code?488===t.code?e.__errDialog("访问用户过多，请稍候再试！"):e.__errDialog("oh，服务器和考拉私奔了，请重试"):(e.updateFavBtn(!0),new d({data:{goodsList:t.data||[]}}).$inject(document.body)),n.pending=!1},onerror:function(){e.__errDialog("网络信号不佳，请稍后重试"),n.pending=!1}})})},delFav:function(t){var e=this,n=e.data;a("/favoriteAjax/delete.json",{method:"POST",data:{goodsId:t},type:"json",norest:!0,onload:function(t){t&&200===t.code?e.updateFavBtn(!1):t&&488===t.code?e.__errDialog("访问用户过多，请稍候再试！"):e.__errDialog("oh，服务器和考拉私奔了，请重试"),n.pending=!1},onerror:function(){e.__errDialog("网络信号不佳，请稍后重试"),n.pending=!1}})},__errDialog:function(t){this._$dialog("","notice",t||"网络或系统错误")},mouseenter:function(t){o._$stop(t),this.data.hover=!0},mouseleave:function(t){o._$stop(t),this.data.hover=!1}});t.exports=s.connect({mapState:function(t){return{userFavoriteGoods:t.get("userFavoriteGoods"),goodsId:t.get("goodsId")}},listenStateChange:["userFavoriteGoods","goodsId"],mapDispatch:[r]})(u)},function(t,e,n){var i=a(n(13)),o=a(n(28));function a(t){return t&&t.__esModule?t:{"default":t}}var s=n(20),r=n(192);function c(t){var e=l(t);return function(t){return e(t)}}function l(t){var e=(t=t||{}).mapState||function(){return{}},n=t.stateChanged||function(){return!0},a=t.listenStateChange||[],c=t.mapDispatch||null,l="$dispatch",d=t.options||{dispatch:!0,emit:!1},u=!!s.isNull(d.dispatch)||d.dispatch,p=d.emit||!1,f=!1!==u;return s.isString(u)&&(l=u),function(t){return t.implement({events:{$config:function(){var t=this,d=r(this),u=this.data,m=d.getState(),h=function(t){var e;return{reduxConnected:(e=!0,function(){e&&(e=!1,setTimeout(function(){t.$emit("rdx-connected")}))}),reduxAfterChanged:function(){t.$emit("rdx-afterchanged")},reduxInjected:function(){var e=!0;return function(){if(e){e=!1;var n=function(){t.$emit("rdx-injected")},i=setTimeout(function(){n()},100);setTimeout(function(){t.$refs&&(0,o["default"])(t.$refs).length&&(clearTimeout(i),n())})}}}()}}(t),g={};function v(r){var c=d.getState();if((n(m,c)||r)&&(!function(t,e,n){var i=s.isImmutable(n);return t.length&&t.every(function(t){var o=s.isArray(t),a=s.isString(t);if(a&&~t.indexOf(".")&&(t=t.split("."),a=!1,o=!0),!o&&!a)throw new Error("Expected listenStateChange contains Array or String");if(i)return o?e.getIn(t)===n.getIn(t):e.get(t)===n.get(t);if(o){var r=!0,c=e,l=n;return t.forEach(function(t){if(!s.isString(t))throw new Error("Expected listenStateChange contains Array or String");c&&l&&(c=c[t],l=l[t],c!==l&&(r=!1))}),r}return e[t]===n[t]})}(a,m,c)||r)){var l=function(t,e,n,i){return s.isFunction(n)?n.call(t,e,i):s.isImmutable(n)?n.toJS():(console.error("Expected mapState is an Immutable Object or function"),n||{})}(t,c,e,m),f=function(t,e){var n,i,a,r={};return(0,o["default"])(e).forEach(function(o){i=e[o],n=t[o],(a=s.isImmutable(i))&&i===n||(r[o]=a?i.toJS():i)}),r}(g,l);f&&(0,i["default"])(u,f),g=l,m=c,p&&h.reduxAfterChanged(),p&&h.reduxConnected()}}v(!0),p&&h.reduxInjected(),f&&(t[l]=d.dispatch),c&&(s.isArray(c)?c.forEach(function(e){var n=s.action2String(e);t[n]=function(){var t=s.like2Array(arguments);return d.dispatch(e.apply(null,t))}}):s.isFunction(c)&&(t=(0,i["default"])(t,c(d.dispatch))));var _=d.subscribe(function(){var t=d.getState();s.isImmutable(m)&&m===t||v()});this.$on("destroy",_)}}})}}c.createConnector=l,t.exports=c},function(t,e){function n(){this.reset()}var i=n.prototype;i.done=function(){this.doneFlag=!0},i.isDone=function(){return!0===this.doneFlag},i.reset=function(){this.doneFlag=!1},t.exports=n},function(t,e,n){var i=n(20);t.exports=function(t){for(;;){if(!t)throw new Error("Expected root Component be StoreProvider");if(t.data&&t.data.store&&i.isReduxStore(t.data.store))return t.data.store;t=t.$parent}}},function(t,e,n){var i=n(191),o=n(20);var a=new i;t.exports=function(t){!function(t){t.extend({name:"StoreProvider",template:"{#include this.$body}",config:function(){var t=this,e=this.data,n=e.store;if(!o.isReduxStore(n))throw new Error("Provider expected data.store to be store instance created by redux.createStore()");n.subscribe(function(){a.done(),o.nextTick(function(){a.isDone()&&(t.$update(),a.reset())})})}})}(t)}},function(t,e){function n(t){return function(e){var n=e.dispatch,i=e.getState;return function(e){return function(o){return function(t,e,n,i,o){if("function"==typeof t)return t(n,i,o);return e(t)}(o,e,n,i,t)}}}}var i=n();i.withExtra=n,t.exports=i},function(t,e,n){var i,o=n(28),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(20),r=n(49);function c(t,e){if("add"===t)throw new Error('"add" is not allowed in action');if(!s.isString(t))throw new Error("Expected action type to be a string");e=e||s.noop;var n=s.isObject(e);if(!s.isFunction(e)&&!n)throw new Error("Expected actionCreator to be a function or object");function i(){if(n)return e;var i=s.like2Array(arguments),o=e.apply(null,i);return s.isNull(o)?void 0:(o.type=t,o)}return i.toString=function(){return t},i.fulfilled=t+r.PROMISE_FULFILLED_SUFFIX,i.rejected=t+r.PROMISE_REJECTED_SUFFIX,i.pending=t+r.PROMISE_PENDING_SUFFIX,i}t.exports=function(t){t=t||{};var e={};return(0,a["default"])(t).forEach(function(n){e[n]=c(n,t[n]||s.noop)}),e.add=function(t,e){this[t]=c(t,e||s.noop)},e}},function(t,e,n){var i=n(20),o=n(49);t.exports=function(t){function e(e,n){i.isImmutable(e)||(e=e||{});var o=(n=n||{}).type,a=t[o];return a?a(e,n):e}return t=t||{},e.add=function n(e,a){var s=e;if(i.isArray(e))e.forEach(function(t){n(t,a)});else if(i.isObject(a))o.SHORT_SUFFIX_LIST.forEach(function(t){i.isFunction(a[t])&&(s=i.action2String(e),n(s+o.SHORT_SUFFIX_MAP[t],a[t]))});else{if(!i.isFunction(a))throw new Error("Expected reducerFn in reducer to be a function");s=i.action2String(e),t[s]=a}},e.exec=function(e,n,o){if(!n)throw new Error("Expected state is not null");o=o||{payload:null};var a=i.action2String(e),s=t[a];if(!i.isFunction(s))throw new Error("funtion not in reducerFuncMap");return s(n,o)},e}},function(t,e,n){var i=a(n(139)),o=a(n(28));function a(t){return t&&t.__esModule?t:{"default":t}}var s=n(151),r=n(105),c=n(20),l=n(199),d=n(138),u=!1;t.exports=function(t,e,n,a){a=a||{disableImmutableJS:!1};var p,f=c.isNull(a.isDev)?c.isDev():!!a.isDev,m=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,h=f&&m?m:s.compose;e=e||{},c.isMiddlewares(e)&&(a=(n=e={})||{});var g=c.isObject(t),v=function(t){var e=c.isFunction(t);if(!c.isObject(t)&&!e)throw new Error("Expected reducerObject is an object or function");return e?t:s.combineReducers(t)}(t),_=h(function(t,e,n){if(t=t||[],!c.isMiddlewares(t))throw new Error("Expected middlewares is a function or array");if(c.isFunction(t)&&(t=[t]),t.length||t.splice(0,0,d),n){var a={level:"info",logger:console};u||(a=e?{level:"info",logger:console,stateTransformer:function(t){var e={},n=(0,o["default"])(t),a=Array.isArray(n),s=0;for(n=a?n:(0,i["default"])(n);;){var c;if(a){if(s>=n.length)break;c=n[s++]}else{if((s=n.next()).done)break;c=s.value}var l=c;r.Iterable.isIterable(t[l])?e[l]=t[l].toJS():e[l]=t[l]}return e}}:{stateTransformer:function(t){return r.Iterable.isIterable(t)?t.toJS():t}});var p=l.createLogger(a);t.push(p)}return s.applyMiddleware.apply(s,t)}(n,g,f));return(u=!!a.disableImmutableJS)||(p=r.fromJS(e||{}),c.isObject(t)?(0,o["default"])(t).forEach(function(t){e[t]=p.get(t)||{}}):e=p),s.createStore(v,e,_)}},function(t,e,n){"use strict";(function(e){var i=n(31),o=n(562),a={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var r,c={adapter:("undefined"!=typeof XMLHttpRequest?r=n(232):void 0!==e&&(r=n(232)),r),transformRequest:[function(t,e){return o(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(t){c.headers[t]={}}),i.forEach(["post","put","patch"],function(t){c.headers[t]=i.merge(a)}),t.exports=c}).call(e,n(566))},function(t,e,n){(function(t){(function(e){"use strict";function n(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function i(t,e){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),e&&e.length&&Object.defineProperty(this,"path",{value:e,enumerable:!0})}function o(t,e,n){o.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function a(t,e){a.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:e,enumerable:!0})}function s(t,e){s.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0})}function r(t,e,n){r.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:e,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function c(t,e,n){var i=t.slice((n||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,i),t}function l(t){var e=void 0===t?"undefined":S(t);return"object"!==e?e:t===Math?"math":null===t?"null":Array.isArray(t)?"array":"[object Date]"===Object.prototype.toString.call(t)?"date":"function"==typeof t.toString&&/^\/.*\//.test(t.toString())?"regexp":"object"}function d(t,e,n,i,u,p,f){u=u||[],f=f||[];var m=u.slice(0);if(void 0!==p){if(i){if("function"==typeof i&&i(m,p))return;if("object"===(void 0===i?"undefined":S(i))){if(i.prefilter&&i.prefilter(m,p))return;if(i.normalize){var h=i.normalize(m,p,t,e);h&&(t=h[0],e=h[1])}}}m.push(p)}"regexp"===l(t)&&"regexp"===l(e)&&(t=t.toString(),e=e.toString());var g=void 0===t?"undefined":S(t),v=void 0===e?"undefined":S(e),_="undefined"!==g||f&&f[f.length-1].lhs&&f[f.length-1].lhs.hasOwnProperty(p),y="undefined"!==v||f&&f[f.length-1].rhs&&f[f.length-1].rhs.hasOwnProperty(p);if(!_&&y)n(new a(m,e));else if(!y&&_)n(new s(m,t));else if(l(t)!==l(e))n(new o(m,t,e));else if("date"===l(t)&&t-e!=0)n(new o(m,t,e));else if("object"===g&&null!==t&&null!==e)if(f.filter(function(e){return e.lhs===t}).length)t!==e&&n(new o(m,t,e));else{if(f.push({lhs:t,rhs:e}),Array.isArray(t)){var b;for(t.length,b=0;b<t.length;b++)b>=e.length?n(new r(m,b,new s(void 0,t[b]))):d(t[b],e[b],n,i,m,b,f);for(;b<e.length;)n(new r(m,b,new a(void 0,e[b++])))}else{var I=Object.keys(t),T=Object.keys(e);I.forEach(function(o,a){var s=T.indexOf(o);s>=0?(d(t[o],e[o],n,i,m,o,f),T=c(T,s)):d(t[o],void 0,n,i,m,o,f)}),T.forEach(function(t){d(void 0,e[t],n,i,m,t,f)})}f.length=f.length-1}else t!==e&&("number"===g&&isNaN(t)&&isNaN(e)||n(new o(m,t,e)))}function u(t,e,n,i){return i=i||[],d(t,e,function(t){t&&i.push(t)},n),i.length?i:void 0}function p(t,e,n){if(t&&e&&n&&n.kind){for(var i=t,o=-1,a=n.path?n.path.length-1:0;++o<a;)"undefined"==typeof i[n.path[o]]&&(i[n.path[o]]="number"==typeof n.path[o]?[]:{}),i=i[n.path[o]];switch(n.kind){case"A":!function t(e,n,i){if(i.path&&i.path.length){var o,a=e[n],s=i.path.length-1;for(o=0;o<s;o++)a=a[i.path[o]];switch(i.kind){case"A":t(a[i.path[o]],i.index,i.item);break;case"D":delete a[i.path[o]];break;case"E":case"N":a[i.path[o]]=i.rhs}}else switch(i.kind){case"A":t(e[n],i.index,i.item);break;case"D":e=c(e,n);break;case"E":case"N":e[n]=i.rhs}return e}(n.path?i[n.path[o]]:i,n.index,n.item);break;case"D":delete i[n.path[o]];break;case"E":case"N":i[n.path[o]]=n.rhs}}}function f(t,e,n,i){var o=u(t,e);try{i?n.groupCollapsed("diff"):n.group("diff")}catch(t){n.log("diff")}o?o.forEach(function(t){var e=t.kind,i=function(t){var e=t.kind,n=t.path,i=t.lhs,o=t.rhs,a=t.index,s=t.item;switch(e){case"E":return[n.join("."),i,"→",o];case"N":return[n.join("."),o];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+a+"]",s];default:return[]}}(t);n.log.apply(n,["%c "+w[e].text,function(t){return"color: "+w[t].color+"; font-weight: bold"}(e)].concat(T(i)))}):n.log("—— no diff ——");try{n.groupEnd()}catch(t){n.log("—— diff end —— ")}}function m(t,e,n,i){switch(void 0===t?"undefined":S(t)){case"object":return"function"==typeof t[i]?t[i].apply(t,T(n)):t[i];case"function":return t(e);default:return t}}function h(t,e){var n=e.logger,i=e.actionTransformer,o=e.titleFormatter,a=void 0===o?function(t){var e=t.timestamp,n=t.duration;return function(t,i,o){var a=["action"];return a.push("%c"+String(t.type)),e&&a.push("%c@ "+i),n&&a.push("%c(in "+o.toFixed(2)+" ms)"),a.join(" ")}}(e):o,s=e.collapsed,r=e.colors,c=e.level,l=e.diff,d="undefined"==typeof e.titleFormatter;t.forEach(function(o,u){var p=o.started,h=o.startedTime,g=o.action,v=o.prevState,_=o.error,y=o.took,I=o.nextState,S=t[u+1];S&&(I=S.prevState,y=S.started-p);var T=i(g),x="function"==typeof s?s(function(){return I},g,o):s,w=b(h),k=r.title?"color: "+r.title(T)+";":"",C=["color: gray; font-weight: lighter;"];C.push(k),e.timestamp&&C.push("color: gray; font-weight: lighter;"),e.duration&&C.push("color: gray; font-weight: lighter;");var E=a(T,w,y);try{x?r.title&&d?n.groupCollapsed.apply(n,["%c "+E].concat(C)):n.groupCollapsed(E):r.title&&d?n.group.apply(n,["%c "+E].concat(C)):n.group(E)}catch(t){n.log(E)}var P=m(c,T,[v],"prevState"),L=m(c,T,[T],"action"),A=m(c,T,[_,v],"error"),D=m(c,T,[I],"nextState");if(P)if(r.prevState){var N="color: "+r.prevState(v)+"; font-weight: bold";n[P]("%c prev state",N,v)}else n[P]("prev state",v);if(L)if(r.action){var O="color: "+r.action(T)+"; font-weight: bold";n[L]("%c action    ",O,T)}else n[L]("action    ",T);if(_&&A)if(r.error){var $="color: "+r.error(_,v)+"; font-weight: bold;";n[A]("%c error     ",$,_)}else n[A]("error     ",_);if(D)if(r.nextState){var j="color: "+r.nextState(I)+"; font-weight: bold";n[D]("%c next state",j,I)}else n[D]("next state",I);l&&f(v,I,n,x);try{n.groupEnd()}catch(t){n.log("—— log end ——")}})}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},k,t),n=e.logger,i=e.stateTransformer,o=e.errorTransformer,a=e.predicate,s=e.logErrors,r=e.diffPredicate;if(void 0===n)return function(){return function(t){return function(e){return t(e)}}};if(t.getState&&t.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(t){return function(e){return t(e)}}};var c=[];return function(t){var n=t.getState;return function(t){return function(l){if("function"==typeof a&&!a(n,l))return t(l);var d={};c.push(d),d.started=I.now(),d.startedTime=new Date,d.prevState=i(n()),d.action=l;var u=void 0;if(s)try{u=t(l)}catch(t){d.error=o(t)}else u=t(l);d.took=I.now()-d.started,d.nextState=i(n());var p=e.diff&&"function"==typeof r?r(n,l):e.diff;if(h(c,Object.assign({},e,{diff:p})),c.length=0,d.error)throw d.error;return u}}}}var v,_,y=function(t,e){return function(t,e){return new Array(e+1).join(t)}("0",e-t.toString().length)+t},b=function(t){return y(t.getHours(),2)+":"+y(t.getMinutes(),2)+":"+y(t.getSeconds(),2)+"."+y(t.getMilliseconds(),3)},I="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},x=[];v="object"===(void 0===t?"undefined":S(t))&&t?t:"undefined"!=typeof window?window:{},(_=v.DeepDiff)&&x.push(function(){void 0!==_&&v.DeepDiff===u&&(v.DeepDiff=_,_=void 0)}),n(o,i),n(a,i),n(s,i),n(r,i),Object.defineProperties(u,{diff:{value:u,enumerable:!0},observableDiff:{value:d,enumerable:!0},applyDiff:{value:function(t,e,n){t&&e&&d(t,e,function(i){n&&!n(t,e,i)||p(t,e,i)})},enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:function(t,e,n){if(t&&e&&n&&n.kind){var i,o,a=t;for(o=n.path.length-1,i=0;i<o;i++)"undefined"==typeof a[n.path[i]]&&(a[n.path[i]]={}),a=a[n.path[i]];switch(n.kind){case"A":!function t(e,n,i){if(i.path&&i.path.length){var o,a=e[n],s=i.path.length-1;for(o=0;o<s;o++)a=a[i.path[o]];switch(i.kind){case"A":t(a[i.path[o]],i.index,i.item);break;case"D":case"E":a[i.path[o]]=i.lhs;break;case"N":delete a[i.path[o]]}}else switch(i.kind){case"A":t(e[n],i.index,i.item);break;case"D":case"E":e[n]=i.lhs;break;case"N":e=c(e,n)}return e}(a[n.path[i]],n.index,n.item);break;case"D":case"E":a[n.path[i]]=n.lhs;break;case"N":delete a[n.path[i]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==_},enumerable:!0},noConflict:{value:function(){return x&&(x.forEach(function(t){t()}),x=null),u},enumerable:!0}});var w={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},k={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(t){return t},actionTransformer:function(t){return t},errorTransformer:function(t){return t},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dispatch,n=t.getState;return"function"==typeof e||"function"==typeof n?g()({dispatch:e,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=k,e.createLogger=g,e.logger=C,e["default"]=C,Object.defineProperty(e,"__esModule",{value:!0})})(e)}).call(e,n(42))},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var i,o=n(28),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(513),r=n(512),c=n(229).isFunction,l={name:{}},d=new r,u=function(t){console&&console.error&&console.error(t)};(0,a["default"])(s).forEach(function(t){var e=s[t];if(!c(e))return delete s[t],void u("Expect '"+t+"' is registered as a Function");e.fnList=[],l.name[""+t]=t}),l.on=function(t,e){var n=s[t];n?(n.fnList.push(e),d.on(t,e)):u("Expect eventName '"+t+"' to be registered")},l.emit=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o=s[t];o?o.apply(undefined,n)?d.emit.apply(d,[t].concat(n)):u("parameter error: '"+t+"'"):u("Expect eventName '"+t+"' to be registered")},l.off=function(t,e){var n,i=(s[t]||{}).fnList,o=i===undefined?[]:i;e&&(d.off(t,e),~(n=o.indexOf(e))&&o.splice(n,1))},l.destroy=function(t){var e=s[t];if(e){var n=e.fnList;(n===undefined?[]:n).forEach(function(e){d.off(t,e)}),delete s[t]}},l.has=function(t,e){var n=s[t];return e?!(!n||!~d.has(t,e)):!!n},t.exports=l},function(t,e){t.exports={degital2:function(t){return 1===(t+"").length?"0"+t:t},compare2TomorrowDate:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:+new Date,n=new Date(t),i=+e+864e5,o=new Date(i);return n.getDate()===o.getDate()?0:i<t?-1:1},isToday:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:+new Date,n=new Date(t),i=new Date(e);return n.getMonth()===i.getMonth()&&n.getDate()===i.getDate()},min5:3e5,min10:6e5,min15:9e5,hour:36e5,day:864e5}},function(t,e){function n(t,e){try{return e=e.toLowerCase(),null===t?"null"==e:t===undefined?"undefined"==e:{}.toString.call(t).toLowerCase()=="[object "+e+"]"}catch(n){return!1}}t.exports={isFunction:function(t){return n(t,"function")},isString:function(t){return n(t,"string")},isNumber:function(t){return n(t,"number")},isBoolean:function(t){return n(t,"boolean")},isDate:function(t){return n(t,"date")},isArray:function(t){return n(t,"array")},isObject:function(t){return n(t,"object")},typeOf:n}},,,function(t,e,n){"use strict";var i=n(31),o=n(554),a=n(557),s=n(563),r=n(561),c=n(235),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(556);t.exports=function(t){return new Promise(function(e,d){var u=t.data,p=t.headers;i.isFormData(u)&&delete p["Content-Type"];var f=new XMLHttpRequest,m="onreadystatechange",h=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||r(t.url)||(f=new window.XDomainRequest,m="onload",h=!0,f.onprogress=function(){},f.ontimeout=function(){}),t.auth){var g=t.auth.username||"",v=t.auth.password||"";p.Authorization="Basic "+l(g+":"+v)}if(f.open(t.method.toUpperCase(),a(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f[m]=function(){if(f&&(4===f.readyState||h)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:n,config:t,request:f};o(e,d,i),f=null}},f.onerror=function(){d(c("Network Error",t,null,f)),f=null},f.ontimeout=function(){d(c("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var _=n(559),y=(t.withCredentials||r(t.url))&&t.xsrfCookieName?_.read(t.xsrfCookieName):undefined;y&&(p[t.xsrfHeaderName]=y)}if("setRequestHeader"in f&&i.forEach(p,function(t,e){void 0===u&&"content-type"===e.toLowerCase()?delete p[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(b){if("json"!==t.responseType)throw b}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),d(t),f=null)}),u===undefined&&(u=null),f.send(u)})}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";var i=n(553);t.exports=function(t,e,n,o,a){var s=new Error(t);return i(s,e,n,o,a)}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},,,,,function(t,e,n){var i=a(n(13)),o=a(n(383));function a(t){return t&&t.__esModule?t:{"default":t}}n(537),n(101),n(102),n(128),n(127),n(129),n(130);var s=n(6),r=n(2),c=n(1),l=n(12),d=n(3),u=n(4),p=n(8),f=n(46),m=n(103),h=n(48),g=n(188),v=n(47),_=n(181),y=n(118),b=n(471),I=n(464),S=n(463),T=n(461),x=n(460),w=n(515).addRecommendFuncs,k=void 0,C=s._$klass();(k=C._$extend(f)).__init=function(t){this.__supInit(t);var e=window.__kaolaHeadData;if(!e)throw new Error("同步数据 window.__kaolaHeadData 不存在或报错！");this.__syncData=e,this.__goodsId=e.goodsInfoBase.goodsId||"",m._$allocate({exploreDist:1e3}),this.__initCatBar(),this.__initCmsData(),this.__initHead(e),this.__initAnticheat(),(0,o["default"])()},k.__initAnticheat=function(){_.init({openSpiderDetection:window.openSpiderDetection||0,spiderDetectionToken:window.spiderDetectionToken||"no_spiderDetectionToken"}),_.initNdInfo()},k.__initHead=function(t){var e=this,n=new b({data:{sync:t}});n.$on("loaded",function(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};e.__getComboData(e.__goodsId,o);var a=u._$get("j-producthead");u._$clearChildren(a),n.$inject(a),setTimeout(function(){k.__afterInit._$bind(e)(i)},0),setTimeout(function(){p(window)._$trigger("scroll"),(window.location.href.indexOf("#P_nav")>0||window.location.href.indexOf("#mainBtmWrap")>0)&&e.__scroll2Coment()},1e3),e.jumpToAnchor(window.location.search);var s=t.goodsDetailContent||{};s.hkMedicine||s.hkNourishment?e.__hkDapush2Com():e.__add2History(e.__goodsId)}),n.$on("refreshTopBar",e._$refreshTopbar._$bind(e)),n.$on("firstChangeSku",e.firstChangeSku._$bind(e)),n.$on("scroll2Comment",e.__scroll2Coment),n.$on("savedAddress",function(t){e.__refreshRecommendAll(e.__goodsId),e.__getComboData(e.__goodsId,t)}),p(".j-sbuybtn")._$on("click",function(t){n.buyNow(t)}),p(".j-saddcart")._$on("click",function(t){n.add2Cart(t)}),n.$on("btnChange",e.__btnChange._$bind(e))},k.__initCatBar=function(){new T({data:{goodsDetailContent:this.__syncData.goodsDetailContent||{},goodsInfoBase:this.__syncData.goodsInfoBase||{},goodsShopInfo:this.__syncData.goodsShopInfo||null,goodsId:this.__goodsId||"",kaolaSuperMarket:this.__syncData.kaolaSuperMarket||!1,breadcrumbSwitchOld:window.breadcrumbSwitchOld||!1}}).$inject("#catbarbox")},k.__initCmsData=function(){new x({data:{goodsDetailContent:this.__syncData.goodsDetailContent||{},goodsInfoBase:this.__syncData.goodsInfoBase||{}}}).$inject("#bottomrule")},k.__afterInit=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=this.__goodsId;this.__initImageDetail(),this.__initNavTab(),this.__initComment(),this.__initFAQFolder(),this.__initQrCode(),this.__initShopBox(),this.__initRecommendAll(e),this.__qualityVedio(),this.__gtmInit(t)},k.__initImageDetail=function(){this.__initSizeChartTips(),this.__bindPropertyOnOff(),this.__imageDetailLazyLoad(),this.__guideDetailLazyLoad()},k.__initSizeChartTips=function(){var t=u._$get("sizecharttip");t&&(t.innerHTML=this.__syncData.goodsDetailContent.sizeChartTips)},k.__initNavTab=function(){var t=p(".j-nav"),e=p(".j-navtab",t),n=p(".j-goodsdetailwrap"),i=p(".j-navinfo",n),o=p(".j-userrating",n),a=p(".j-customertips",n),s=p(".j-priceintro",n);e._$on("click",function(){var t=p(this);if(!t._$hasClassName("active")){var r=t._$attr("data-info"),c=p("."+r);e._$delClassName("active"),t._$addClassName("active"),i._$addClassName("f-dn"),i._$addClassName("f-dn"),c._$delClassName("f-dn"),"j-userrating"===r?(s._$addClassName("f-dn"),a._$addClassName("f-dn")):(o._$delClassName("f-dn"),s._$delClassName("f-dn"),a._$delClassName("f-dn")),v._$allocate({scrollTo:n[0],duration:50,timing:"easeinout"}),p(window)._$trigger("resize")}});var r=c.throttle(function(){var e,i=n[0];i&&(e=i.getBoundingClientRect())&&(e.top<=0?t._$hasClassName("P_navFix")||t._$addClassName("P_navFix"):t._$hasClassName("P_navFix")&&(t._$delClassName("P_navFix"),t._$attr("style","")))}._$bind(this),50,{leading:!1});d._$addEvent(window,"scroll",r),d._$addEvent(window,"resize",r),r()},k.__initComment=function(){I._$allocate({scroll2load:!0,goodsId:this.__goodsId,refreshTopbar:this._$refreshTopbar._$bind(this)})},k.__initFAQFolder=function(){var t=p(".m-shipmentfaq");0!==t.length&&t._$on({"click .fold dt":function(){var t=p(this)._$parent(".fold");t._$hasClassName("fold-open")?t._$delClassName("fold-open"):t._$addClassName("fold-open")}})},k.__initQrCode=function(){var t=p(".j-nav .j-mappbuy"),e=t._$attr("data-wapurl"),n=t._$children(".j-qrcodeic",!0);if(t.length&&e&&n.length){var i=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");new y(n[0],{text:i+"/"+e,width:128,height:128,colorDark:"#000000",colorLight:"#ffffff",correctLevel:y.CorrectLevel.H})}},k.__initShopBox=function(){var t=p("#j-shopbox .j-img"),e={};t&&0!=t.length&&Array.prototype.slice.call(t).forEach(function(t){var n=(t=p(t))[0],i=t._$attr("data-name"),o=t._$attr("data-title");i&&o&&(t._$on("mouseenter",function(){e[i]=e[i]||{},!e[i].tip&&n&&(e[i].tip=new h({data:{anchor:n,contentHtml:t._$attr("data-title"),orientation:"up",wrapperClass:"f-c333"}}).$inject(document.body))}),t._$on("mouseleave",function(){e[i]&&e[i].tip&&(e[i].tip=e[i].tip.destroy())}))})},k.__add2History=function(t){var e=function(t,e){var n=window.localStorage;if(!(arguments.length>1))return n&&n.getItem(t)?n.getItem(t):l._$cookie(t);try{n&&n.setItem(t,e)}catch(i){return void("QuotaExceededError"===i.name&&(n&&n.removeItem(t),l._$cookie(t,{expires:-1,path:"/",domain:".kaola.com"})))}l._$cookie(t,{value:e,path:"/",domain:".kaola.com"})},n=e("NTES_KAOLA_RV"),i=(new Date).getTime(),o=void 0;""==n.trim()?e("NTES_KAOLA_RV",t+"_"+i+"_0"):((o=(o=n.split("|")).filter(function(e){return e.split("_")[0]!=t})).unshift(t+"_"+i+"_0"),o.length>20&&(o.length=20),e("NTES_KAOLA_RV",o.join("|")))};var E=/localhost|\d+\.\d+\.\d+\.\d+/.test(location.hostname),P=window.DEBUG||!1;k.__hkDapush2Com=function(){var t=document.createElement("iframe"),e=(window.location.href||"").replace(/\.hk/g,"");e&&(e=c.insertParamIntoUrl(e,"callDa=true"),P||E||(t.src=e,t.id="hkDapush2ComFrame",document.body.appendChild(t),t.style.display="none"))},k.jumpToAnchor=function(t){t&&t.split("=")[1]&&"articlepage"==t.split("=")[1]&&(window.location.hash="#articlepage")},k.firstChangeSku=function(t){t.noStore||(this._seeBuyRecommendShow=!0,this.__initSeeBuyRecommend(this.__goodsId))},k.__scroll2Coment=function(t){t=t||{};var e=p(".j-userratingTab"),n=["",p(".j-commenttabs .j-commenttaball label"),p(".j-commenttabs .j-commenttabshow label")][t.type||0];e._$hasClassName("active")?v._$allocate({scrollTo:e[0],duration:50,timing:"easeinout"}):e._$trigger("click"),n&&n._$trigger("click")},k.__btnChange=function(t){var e=t.$buyNow,n=t.$add2Cart,i=t.btnDisabled,o=e&&e.length,a=n&&n.length,s=p(".j-sbuybtn, .j-saddcart"),r=p(".j-sbuybtn"),c=p(".j-saddcart");function l(t,e){t&&e&&t._$addClassName(e)}function d(t,e){t&&e&&t._$delClassName(e)}i?l(s,"disabled"):d(s,"disabled"),a?d(r,"buynowonly"):l(r,"buynowonly"),a?(l(r,"hide"),d(c,"hide")):o&&(l(r,"hide"),l(c,"hide")),o&&r._$html(e[0].innerHTML||"立即购买")},k.__refreshRecommendAll=function(t){this.__initRecommendAll(t),this._seeBuyRecommendShow&&this.__initSeeBuyRecommend(t)},k.__initRecommendAll=function(t){this.__initHotSaleRecommend(t),this.__initSeeAgainRecommend(t),this.__initGuessRecommend(t),this.__initRecentRecommend()},k.__getComboData=function(t,e){this.comboRecTab?this.comboRecTab.refresh(e):this.comboRecTab=new S({data:{goodsId:t,addrObj:e}}).$inject("#comboRecbox")},k.__qualityVedio=function(){p("#qualityvedio")._$on("click",function(){c.daEvent("正品保障","button点击","详情页视频")})},k.__gtmInit=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=g.gtmReadyAsync?g.gtmReadyAsync:g.gtmReady,n=t.skuPrice||{},o=n.currentPrice,a=n.marketPrice,s=window.location.protocol||"",r=window.location.port?":"+window.location.port:"";e&&e({com_data:{page_type:"product",goods:(0,i["default"])(window.__kaolaGTMGoodsData||{},{sold_out:t.goodsCurrentStore>0?0:1,price:o,orig_price:a,product_url:s+"//"+window.location.hostname+r+"/product/"+t.goodsId+".html",discount:parseFloat((o||0)/(a||1))})}})},k.__bindPropertyOnOff=function(){var t,e,n=p("#goodsDetail"),i=n._$children("ul.goods_parameter"),o=0;if(n.length&&i.length&&!((t=i._$children("li")._$children("div.ellipsisGroup")._$children("div.rowLi")).length<=5)){for(var a=0;a<7;++a)a<t.length&&(o+=t[a].scrollHeight);o-=15,e=i[0].clientHeight-15,i._$style("height",o+"px"),p(".goodsParaTit .zk",n)._$style("display","inline")._$on("click",function(){var t=p(this);t._$hasClassName("sq")?(t._$delClassName("sq")._$children(".txt")._$html("展开 "),i._$style("height",o+"px")):(t._$addClassName("sq")._$children(".txt")._$html("收起 "),i._$style("height",e+"px"))})}},k.__imageDetailLazyLoad=function(){var t=p("#textareabox"),e=(this.__syncData.goodsDetailContent.detail||"").replace(/"http:\/\//gi,'"//').replace(/'http:\/\//gi,"'//");this.imgLazyLoad(t,e),this.__addImgDelEvent(t[0])},k.imgLazyLoad=function(t,e){var n,i,o=void 0;t._$html(e),n=t._$attr("data-lazyload"),i=t._$children("img",!0),r._$object2array(i).forEach(function(t){var e=(o=p(t))._$attr("src");e&&(/\.gif/.test(e)?o._$addClassName("img-gif"):/\.svg/.test(e)?o._$addClassName("img-svg"):e=c.imgThumbnailUrl(e,710,0,95),o._$attr("data-src",e)._$attr("src",n)._$addClassName("img-lazyload"))})},k.__guideDetailLazyLoad=function(){var t=this,e=p("#topguide"),n=p("#bottomguide"),i=this.__syncData.goodsDetailContent.detailGuideInfoList||"",o=void 0,a=void 0;i.length>0&&i.forEach(function(i){i&&i.content&&(i.content=i.content.replace(/"http:\/\//gi,'"//').replace(/'http:\/\//gi,"'//"),1===i.position?(o=i.content,t.imgLazyLoad(e,o),t.__addImgDelEvent(e[0])):2===i.position&&(a=i.content,t.imgLazyLoad(n,a),t.__addImgDelEvent(n[0])))})},k.__addImgDelEvent=function(t){d._$addEvent(t,"click",this.__imgdetailClick._$bind(this))},k.__imgdetailClick=function(t){var e=d._$getElement(t),n=u._$dataset(e,"pcurl")||"",i=u._$dataset(e,"istarget")||"";e&&n&&("1"===i?window.open(n):location.href=n)},w(k),C._$allocate()},,,,function(t,e,n){t.exports={"default":n(251),__esModule:!0}},function(t,e,n){t.exports={"default":n(252),__esModule:!0}},function(t,e,n){t.exports={"default":n(255),__esModule:!0}},function(t,e,n){t.exports={"default":n(256),__esModule:!0}},function(t,e,n){t.exports={"default":n(258),__esModule:!0}},,function(t,e,n){n(100),n(276),t.exports=n(14).Array.from},function(t,e,n){n(113),n(100),t.exports=n(275)},,,function(t,e,n){n(279);var i=n(14).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){n(280);var i=n(14).Object;t.exports=function(t,e){return i.defineProperties(t,e)}},function(t,e,n){n(281);var i=n(14).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){n(282),t.exports=n(14).Object.isExtensible},,,,,function(t,e,n){"use strict";var i=n(29),o=n(97);t.exports=function(t,e,n){e in t?i.f(t,e,o(0,n)):t[e]=n}},,,,,,,,,,,,function(t,e,n){var i=n(157),o=n(21)("iterator"),a=n(110);t.exports=n(14).isIterable=function(t){var e=Object(t);return e[o]!==undefined||"@@iterator"in e||a.hasOwnProperty(i(e))}},function(t,e,n){"use strict";var i=n(121),o=n(27),a=n(125),s=n(203),r=n(202),c=n(171),l=n(263),d=n(145);o(o.S+o.F*!n(205)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,u,p=a(t),f="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:undefined,g=h!==undefined,v=0,_=d(p);if(g&&(h=i(h,m>2?arguments[2]:undefined,2)),_==undefined||f==Array&&r(_))for(n=new f(e=c(p.length));e>v;v++)l(n,v,g?h(p[v],v):p[v]);else for(u=_.call(p),n=new f;!(o=u.next()).done;v++)l(n,v,g?s(u,h,[o.value,v],!0):o.value);return n.length=v,n}})},,,function(t,e,n){var i=n(27);i(i.S,"Object",{create:n(142)})},function(t,e,n){var i=n(27);i(i.S+i.F*!n(35),"Object",{defineProperties:n(206)})},function(t,e,n){var i=n(27);i(i.S+i.F*!n(35),"Object",{defineProperty:n(29).f})},function(t,e,n){var i=n(40);n(143)("isExtensible",function(t){return function(e){return!!i(e)&&(!t||t(e))}})},,,,function(t,e){},function(t,e){},,,,,,,,,function(t,e){t.exports='<div class="m-dialogmodal iDialogMain {customClass}">\n\t<div class="m-dlgcont cnt">\n\t\t <p class="title"><i class="iconfont main-icon {icon||\'yes\'} {icon==\'yes\'?\'icon-check-circle\':\'icon-close-circle\'}"></i>{text}</p>\n     {#if !!detail}\n     <p class="detail">{detail}</p>\n     {/if}\n </div>\n \t{#if !!btnText}\n\t<div class="btnbar f-tac">\n\t  <a class="btn" href="javascript:void(0)" on-click={this.confirm()}>{btnText}</a>\n\t</div>\n\t{/if}\n</div>\n\n'},function(t,e){t.exports='<div class="m-modal-message">\n\t{#include msg}\n</div>\n<div class="m-modal-footer">\n\t{#if hideOkBtn != true}\n\t\t<a href="javascript:;" class="btn u-btn u-btn-ok u-btn-medium" on-click="{this.onok()}"  r-html="{txtOk || \'确认\'}"></a>\n\t{/if}\n\t{#if hideCCBtn != true}\n\t\t<a href="javascript:;" class="btn u-btn u-btn-cancel u-btn-medium" on-click="{this.cancel()}" r-html="{txtCC || \'取消\'}"></a>\n\t{/if}\n</div>'},function(t,e){t.exports='<div class="m-smsnotice">\n  <div r-hide="{!!successDialog || !!errorDialog}">\n    <div class="m-smsnotice-msg" r-html="{msg}"></div>\n    <div class="m-smsnotice-number">\n      <label>\n        <input class="m-smsnotice-numberCheck" type="checkbox" r-model="{phoneCheck}" {#if !appCheck}disabled{/if} />\n        <span class="m-smsnotice-title">手机号码：</span>\n      </label>\n      <input class="m-smsnotice-phoneNumber" type="text" placeholder="请输入手机号"\n             r-model="{phoneNumber}" maxlength=11 autocomplete="off"\n             on-focus="{this.__phoneNumFocus()}" on-blur="{this.__phoneNumBlur()}"/>\n\n      <div class="m-smsnotice-error">{errMsg}</div>\n    </div>\n    <div class="m-smsnotice-app">\n      <label>\n        <input class="m-smsnotice-appReceive" type="checkbox" r-model="{appCheck}" {#if !phoneCheck}disabled{/if} />\n        <span class="m-smsnotice-title">考拉客户端接收提醒</span>\n        <br>\n        <span class="m-smsnotice-appmsg">没安装立即扫描二维码下载吧！下载后请登录设置提醒的账号</span>\n      </label>\n\n      <div class="m-smsnotice-qrcode">\n        <img src="//haitao.nos.netease.com/880b10ac-5714-4c1b-89a9-e24c2302ac79.png" alt="手机版考拉客户端二维码">\n      </div>\n      <i class="m-smsnotice-qrcodearr"></i>\n    </div>\n  </div>\n\n  \x3c!-- 成功窗口 --\x3e\n  <div class="m-smsnotice-success" r-hide="{!successDialog}">\n    <div class="title"><i class="ft icon-check-circle"></i>设置成功!</div>\n    <div class="msg">\n      考拉将在开抢前通过<em class="red">免费短信或考拉app</em>通知您\n      <br>\n      （<em>{counter}</em>秒后自动关闭）\n    </div>\n  </div>\n\n  \x3c!-- 失败窗口 --\x3e\n  <div class="m-smsnotice-failure" r-hide="{!errorDialog}">\n    <div class="title"><i class="ft icon-close-circle"></i>设置失败!</div>\n    <div class="msg">因为网络等原因，设置失败。请重试。</div>\n  </div>\n\n  \x3c!-- 短信提醒确认 --\x3e\n  <div class="m-smsnotice-confirm" r-hide="{!!successDialog || !!errorDialog}">\n    <span class="m-smsnotice-error">{errMsg2}</span>\n    <span class="m-smsnotice-confirmBtn" on-click="{this.__confirm()}">确定</span>\n    <span class="m-smsnotice-cancelBtn" on-click="{this.__hide()}">取消</span>\n  </div>\n\n  \x3c!-- 失败确认 --\x3e\n  <div class="m-smsnotice-confirm" r-hide="{!errorDialog}" on-click="{this.__hide()}">\n    <span class="m-smsnotice-confirmBtn">确认</span>\n  </div>\n</div>'},,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports='<div class="m-arrivalmodal iDialogMain">\n\t<div class="cnt">\n\t    <div class="noticeText">您的所在地：<span class="addr">{addrMsg}</span>，若该地区商品到货，您将收到手机短信通知，提醒您及时购买！</div>\n\t    <div class="noticeText telmsg">请输入接收通知的手机号：</div>\n\t    <div class="phoneInput">\n\t        <input {#if phoneNum==\'请输入接收通知的手机号\'}class="c_ccc"{/if} type="text" ref="phoneNum" placeholder="请输入接收通知的手机号" data-holder="请输入接收通知的手机号" autocomplete="off" on-blur={this.onPhoneNumBlur()} on-focus={this.onPhoneNumFocus()} r-model={phoneNum|integer} maxlength=13 />\n\t    </div>\n\t    {#if errorMsg}\n\t    <div class="phoneErr">{errorMsg}</div>\n\t    {/if}\n\t</div>\n\t<div class="btnbar f-tac">\n\t  <a class="btn" href="javascript:void(0)" on-click={this.confirm()}>设置到货通知</a>\n\t</div>\n</div>'},function(t,e){t.exports='\x3c!-- 套餐、推荐模块tab --\x3e\n{#if goodsDetailContent.switchNewContent && !!ruleData}\n    <div class="n-rulemodules" r-html={ruleData}></div>\n{#else}\n    \x3c!-- 包装与生产日期 --\x3e\n    <img  src="//haitao.nos.netease.com/e2580a0d-2c03-4ec4-b213-8084ba8732e8.png"  height="542px" alt="包装与生产日期"/>\n    \x3c!-- 退货说明：营养保健 --\x3e\n    {#if goodsDetailContent.nourishmentGoods}\n        <img  src="//haitao.nos.netease.com/d5cfd2a7-e47f-4cf9-a504-e6e96487f130.jpg"  height="283px" alt="退货说明"/>\n    {/if}\n    \x3c!-- 退货说明：环球美食 --\x3e\n    {#if goodsDetailContent.globalFoodGoods}\n        <img  src="//haitao.nos.netease.com/96880fd3-8a02-47a2-b7f7-f95b5f387513.jpg"  height="257px" alt="退货说明"/>\n    {/if}\n    \x3c!-- 隐私说明 --\x3e\n    {#if goodsDetailContent.sexyProduct}\n      <img  src="//haitao.nos.netease.com/65ed0ffd-e547-48fa-8755-cb1bf17bbad1.jpg"  height="255" alt="隐私说明"/>\n    {/if}\n    \x3c!-- 温馨提示 --\x3e\n    <img  src="//haitao.nos.netease.com/bc926d34-4977-4e23-971f-0ee3cf950692.png"  height="231px" alt="温馨提示"/>\n{/if}'},function(t,e){t.exports='<div class="crumbs f-cb">\n  {#if breadCatList.length > 0}\n    {#list breadCatList as catitm}\n      {#if catitm_index === 0}\n        {#if goodsDetailContent.hkMedicine}  {! hk药品 !}\n        <a class="f-fl" href="//www.kaola.com.hk">网易考拉海外分站</a>\n        <span class="f-fl">&nbsp;&gt;&nbsp;</span>\n        {#else}\n        <span class="f-fl txt">{catitm.categoryName}</span>\n        <span class="f-fl">&nbsp;&gt;&nbsp;</span>\n        {/if}\n\n        {! 是否为全球超市商品 !}\n        {#if kaolaSuperMarket}\n            <span class="f-fl txt">全球超市</span>\n            <span class="f-fl">&nbsp;&gt;&nbsp;</span>\n        {/if}\n      {#else}\n        <div class="n-crumbbtn f-fl" on-mouseenter="{this.showSubCatList(catitm, breadCatList[catitm_index-1].categoryId)}" on-mouseleave="{this.hideSubCatList(catitm, breadCatList[catitm_index-1].categoryId)}">\n          <div class="btnbox" r-style="{{\'z-index\': catitm.index}}">\n            <a href="//www.kaola.com/search.html?key=&pageNo=1&type=0&pageSize=60&backCategory={catitm.categoryId}&headCategoryId=-1&referFrom=breadCrumb" class="btn">{catitm.categoryName}</a>\n            <span class="v-icon {catitm.showSubTag === true ? \'up\' : \'\'}"></span>\n          </div>\n          {#if !!catitm.showSubTag && catitm.subCatList.length > 0}\n          <div class="titbarbox" {#if catitm.subCatList.length < 5}style="width:{catitm.subCatList.length*110}px;"{/if}>\n            <div class="titbar clearfix">\n              {#list catitm.subCatList as subCatItm}\n              <a href="//www.kaola.com/search.html?key=&pageNo=1&type=0&pageSize=60&backCategory={subCatItm.categoryId}&headCategoryId=-1&referFrom=breadCrumb" class="cateitm">{subCatItm.categoryName}</a>\n              {/list}\n            </div>\n          </div>\n          {/if}\n        </div>\n        <span class="f-fl" >&nbsp;&gt;&nbsp;</span>\n      {/if}\n    {/list}\n    {#if !!brandId}\n    <div class="n-crumbbtn f-fl" on-mouseenter="{this.showBrandList()}" on-mouseleave="{this.hideBrandList()}">\n      <div class="btnbox" r-style="{{\'z-index\': brandListIndex}}">\n        <a href="//www.kaola.com/brand/{brandId}.html" class="btn">{brandName}</a>\n        <span class="v-icon {showBrandListTag === true ? \'up\' : \'\'}" ></span>\n      </div>\n      {#if !!showBrandListTag && brandList.length > 0}\n      <div class="titbarbox" {#if brandList.length < 5}style="width:{brandList.length*110}px;"{/if}>\n        <div class="titbar clearfix">\n          {#list brandList as brand}\n          <a href="//www.kaola.com/brand/{brand.brandId}.html" class="cateitm">{brand.brandName}</a>\n          {/list}\n        </div>\n      </div>\n      {/if}\n    </div>\n    <span class="f-fl" >&nbsp;&gt;&nbsp;</span>\n    {/if}\n    <span class="ellipsis f-fl f-fs13 crumbs-title {!!goodsShopInfo ? \'crumbs-title-1\' : \'\'}" >{@(goodsInfoBase.title||\'\')}</span>\n  {#else}\n    {#if goodsDetailContent.hkMedicine}  {! hk药品 !}\n      <a class="f-fl" href="//www.kaola.com.hk">网易考拉海外分站</a>\n      <span class="f-fl">&nbsp;&gt;&nbsp;</span>\n    {#else}\n      <a class="f-fl" href="//www.kaola.com">网易考拉</a>\n      <span class="f-fl">&nbsp;&gt;&nbsp;</span>\n    {/if}\n    <span class="ellipsis f-fl f-fs13 crumbs-title" >{@(goodsInfoBase.title||\'\')}</span>\n  {/if}\n\n  {#if !!goodsShopInfo}\n    <span class="ellipsis m-shopname f-vama">\n\n        {#if goodsShopInfo.shopTagInfoList && goodsShopInfo.shopTagInfoList.length}\n            {#list goodsShopInfo.shopTagInfoList as tag}\n                {! shopTagType：打标的类型 0供应链标签 1服务标签 !}\n                {#if this.isTagShow(tag, tag_index)}\n                <span class="shoptag"\n                      r-class="{{\'z-supply\': tag.shopTagType === 0, \'z-service\': tag.shopTagType === 1}}"\n                      on-mouseenter="{this.showHoverTip(tag.tagDesc||\'\', tag_index, $event)}"\n                      on-mouseleave="{this.hideHoverTip(tag_index)}">\n                    <img class="tagimg" src="{(tag.tagLogo||\'\')|imgThumbnailUrl:30}">\n                    <span class="tagmsg">{tag.tagTitle||\'\'}</span>\n                </span>\n                {/if}\n            {/list}\n        {/if}\n\n      <a target="_blank" href="{@(goodsShopInfo.shopHref||\'\')}" title="{@(goodsShopInfo.shopName||\'\')}" class="name f-toe">\n        {@(goodsShopInfo.shopName||\'\')}\n      </a>\n      <a class="link" target="_blank" href="{@(goodsShopInfo.shopHref)}">进店看看&gt;</a>\n    </span>\n  {/if}\n</div>'},function(t,e){t.exports='<div class="n-comboinfo clearfix">\n    <div class="combolist">\n        <ul class="combonamelist clearfix">\n            {#list combolist as combo}\n            {#if combo_index < 7}\n            <li class="nameitm" on-mouseenter={this.changeCombo(combo_index)}><a class="v-link {combo_index===index ? \'active\' : \'\'}">{combo.comboName || \'\'}</a></li>\n            {/if}\n            {/list}\n        </ul>\n        <ul class="prdlist clearfix">\n            {#list comboObj.comboGoodsList as goodsitm}\n            <li class="itm">\n                <a href="/product/{goodsitm.goodsId}.html?zn=packagelist&zp={index}-{goodsitm_index}" class="imgbox">\n                    <img class="v-img" title="{goodsitm.title}" alt="{goodsitm.title}" src="{goodsitm.imageUrl|imgThumbnailUrl:110}" />\n                </a>\n                <p class="tit"><a href="/product/{goodsitm.goodsId}.html?zn=packagelist&zp={index}-{goodsitm_index}" class="v-link" title="{goodsitm.title}">{goodsitm.title}</a></p>\n                {#if goodsitm.goodsAmount > 1}\n                <p class="num">x{goodsitm.goodsAmount}</p>\n                {/if}\n                {#if goodsitm_index !== comboObj.comboGoodsList.length-1}\n                <div class="v-icon">\n                    <p class="vertical"></p>\n                    <p class="transverse"></p>\n                </div>\n                {/if}\n            </li>\n            {/list}\n        </ul>\n    </div>\n    <form class="n-pricebox" action="{formDomainUrl}order/confirm.html?from=detailfp" method="post" ref="buyform">\n        <p class="name">{comboObj.comboName}</p>\n        <p class="comboprice">套餐价：&nbsp;&nbsp;<span class="num">¥{#if comboObj.maxComboTotalPrice > comboObj.minComboTotalPrice}{comboObj.minComboTotalPrice}-{comboObj.maxComboTotalPrice}{#else}{comboObj.maxComboTotalPrice}{/if}</span></p>\n        <p class="curprice">单买价：&nbsp;&nbsp;¥{#if comboObj.maxOnlineTotalPrice > comboObj.minOnlineTotalPrice}{comboObj.minOnlineTotalPrice}-{comboObj.maxOnlineTotalPrice}{#else}{comboObj.maxOnlineTotalPrice}{/if}</p>\n        <div class="btnbox">\n            <a href="javascript:;" on-click={this.showComboDetail(sortComboObj, \'BUYNOW\', $event)} class="v-btn v-btn-1">立即购买</a>\n        </div>\n        <div class="btnbox">\n            <a href="javascript:;" on-click={this.showComboDetail(sortComboObj, \'ADDCART\', $event)} class="v-btn">加入购物车</a>\n        </div>\n        \x3c!-- 提交数据 --\x3e\n        {#if !!selectedGoods && !!selectedGoods.length}\n            <input type="hidden" name="s" value="2"/>\n        {#list selectedGoods as goods}\n            <input type="hidden" name="goods[{goods_index}].selected" value="1" />\n            <input type="hidden" name="goods[{goods_index}].tempBuyAmount" value="{goods.goodsAmount}" />\n            <input type="hidden" name="goods[{goods_index}].goodsId" value="{goods.goodsId}" />\n            <input type="hidden" name="goods[{goods_index}].tempCurrentPrice" value="{goods.comboprice}" />\n            <input type="hidden" name="goods[{goods_index}].tempGoodsActivityType" value="" />\n            <input type="hidden" name="goods[{goods_index}].innerSource" _name="innerSource" value="DETAIL" />\n            <input type="hidden" name="goods[{goods_index}].skuId" value="{goods.skuId}" />\n            <input type="hidden" name="goods[{goods_index}].comboId" value="{goods.comboId}" />\n            {#if !!goods && goods.giftList.length}\n            {#list goods.giftList as mz}\n                {#if mz.storeStatus > 0}\n                <input type="hidden" name="goods[{goods_index}].goodsActivityGiftListTemp[{mz_index}].activityGiftId" value="{mz.activityGiftId}">\n                <input type="hidden" name="goods[{goods_index}].goodsActivityGiftListTemp[{mz_index}].giftType" value="{mz.giftType}">\n                <input type="hidden" name="goods[{goods_index}].goodsActivityGiftListTemp[{mz_index}].freeNumber" value="{mz.freeNumber}">\n                <input type="hidden" name="goods[{goods_index}].goodsActivityGiftListTemp[{mz_index}].giftGoodsId" value="{mz.giftGoodsId}">\n                <input type="hidden" name="goods[{goods_index}].goodsActivityGiftListTemp[{mz_index}].giftSkuId" value="{mz.giftSkuId}">\n                {/if}\n            {/list}\n            {/if}\n        {/list}\n        {/if}\n    </form>\n</div>'},function(t,e){t.exports='\x3c!-- 套餐、推荐模块tab --\x3e\n{#if !!ready}\n    {#if !!combolist.length && !!reclist.length}\n    <ul class="n-combotab">\n        <li class="itm {type===\'COMBO\' ? \'active\' : \'\'}" on-click={type=\'COMBO\'}><a href="javascript:;" class="v-link">优惠套餐</a></li>\n        <li class="itm {type===\'REC\' ? \'active\' : \'\'}"  on-click={type=\'REC\'}><a href="javascript:;" class="v-link">相关推荐</a></li>\n    </ul>\n    {#elseif !!combolist.length}\n    <ul class="n-combotab">\n        <li class="itm"><a href="javascript:;" class="v-link">优惠套餐</a></li>\n    </ul>\n    {#elseif !!reclist.length}\n    <ul class="n-combotab">\n        <li class="itm"><a href="javascript:;" class="v-link">相关推荐</a></li>\n    </ul>\n    {/if}\n{/if}\n{#if !!comboTag && combolist.length > 0}\n<div class="{type===\'REC\' ? \'f-dn\' : \'\'}">\n    <combolist combolist={combolist} sortCombolist={sortCombolist} ref="combobox"></combolist>\n</div>\n{/if}\n<div id="j-listsimilar" class="newRecomWrap m-favrec {type===\'COMBO\' ? \'f-dn\' : \'\'}">\n    <similarList ref="similarList" condition={similarOption.condition} tongji={similarOption.tongji} dapushParam={similarOption.dapushParam} on-getRecData={this.getRecData($event)}></similarList>\n</div>'},function(t,e){t.exports='<div class="commWrap">\n\n{#if !!loading}\n  <p class="noRating c_999">正在加载评论，请稍候……</p>\n\n{#elseif !!hasError || !commentList || commentList.length == 0}\n  <p class="noRating">没有找到符合条件的评价哦~</p>\n\n{#else}\n  {#list commentList as o}\n  <div class="eachInfo m-eachinfonew clearfix">\n    <div class="commItem userinfo f-fl">\n      {! 头像 !}\n      <div class="avatar"\n           style="background:url(\'{o.avatarKaola|noProtocol|appendUrlParam:\'imageView&thumbnail=40z40\'}\') center center no-repeat;"></div>\n      {! 用户 !}\n      <div class="account" r-html="{o.nicknameKaola||o.accountShow}"></div>\n    </div>\n    <ul class="commItem commcnt f-fl">\n      <li class="commcnttop clearfix">\n        {! 星星 !}\n          <span class="commstars comm-left-icon">\n            <span class="emptyStar percentStar">\n              <span><i class="iconfont icon-star-hollow"></i><i class="iconfont icon-star-hollow"></i><i class="iconfont icon-star-hollow"></i><i class="iconfont icon-star-hollow"></i><i class="iconfont icon-star-hollow"></i></span>\n              <span class="fullStar smw{o.a_star}" style="width:{o.a_starWidth}%"><i class="iconfont icon-star"></i><i class="iconfont icon-star"></i><i class="iconfont icon-star"></i><i class="iconfont icon-star"></i><i class="iconfont icon-star"></i></span>\n            </span>\n          </span>\n        {! sku信息 !}\n        <div class="commskulist">\n          {#list o.skuPropertyList as sku}\n          <span>{sku.propertyName}：{sku.propertyValue}</span>\n          {/list}\n        </div>\n      </li>\n\n      {! 用户评论 !}\n      {#if !!o.commentContent}\n      <li class="clearfix c_666">\n        <span class="itemDetail">\n          {#if !!o.commentStatus && o.commentStatus == 2}\n            <label class="aliasItem">{o.alias || \'精华评价\'}</label>\n          {/if}\n          {o.a_commentContent || o.commentContent}\n        </span>\n      </li>\n      {/if}\n\n      {! 用户晒单 !}\n      {#if !!o.imgUrls && o.imgUrls.length > 0}\n      <li class="clearfix c_666">\n        <div class="pic_list clearfix" r-class="{{\'z-open\': !!o.open}}">\n          {#list o.imgUrls as iurl}\n          <a href="javascript:void(0);" title="点击预览" class="pic_item" name="js_preview"\n             on-click="{this.toggleImg(o, iurl_index)}"\n             r-class="{{\'z-open\': !!o.open && !!o.viewList[iurl_index].open}}">\n            <img on-load="{this.viewImgLoaded($event, o, iurl_index)}" class="img"\n                 src="{iurl|imgThumbnailUrl:75,75}"\n                 r-style="{o.viewList[iurl_index].style || {}}"/><i\n            class="align_center"></i><i class="mask"></i>\n          </a>\n          {/list}\n        </div>\n\n        {! 图片预览 大图 !}\n        <div class="preview_box preview_style" style="width:290px;" r-hide="{!o.open}">\n          <div style="height:290px;width:290px;overflow:hidden;">\n            <ul class="clearfix" style="height:290px;padding:0;width:1000px"\n                r-style="{{\'margin-left\': o.marginLeft + \'px\', \'width\': (o.imgUrlsFor435.length||0)*290 + \'px\'}}">\n              {#list o.imgUrlsFor435 as iurl435}\n              {#if o.open}\n              <img on-load="{this.viewLargeImgLoaded($event, o, iurl435_index)}"\n                   src="{iurl435|imgThumbnailUrl:290,290}" style="display:none;">\n              {/if}\n              <li class="preview_item" style="height:290px;width:290px;"\n                  on-click="{this.toggleImg(o, iurl435_index)}">\n                {#if o.viewList[iurl435_index].lLoaded}\n                <img src="{iurl435|imgThumbnailUrl:290,290}"\n                     r-style="{o.viewList[iurl435_index].lStyle || {}}"><i\n                class="align_center" style="height:290px;"></i>\n                {#else}\n                <img src="//haitao.nos.netease.com/4dcc7814-59c1-48a5-bee8-cbaadd2c9813.jpg"><i class="align_center" style="height:290px;"></i>\n                {/if}\n              </li>\n              {/list}\n            </ul>\n          </div>\n          <div class="previewbtn previewleft" on-click="{this.prev(o)}" r-hide="{o.hidePrevArr}">\n            <em title="上一张"></em>\n            <i class="icon icon-arrow-left"></i>\n          </div>\n          <div class="previewbtn previewright" on-click="{this.next(o)}" r-hide="{o.hideNextArr}">\n            <em title="下一张"></em>\n            <i class="icon icon-arrow-right"></i>\n          </div>\n        </div>\n\n      </li>\n      {/if}\n\n      {! 追加评价和客服回复 !}\n      {#if o.a_replys.length > 0}\n\n        {#list o.a_replys as rpl}\n          {! replyType:1主评客服回复 3主评pop商家回复 !}\n          {#if !!rpl.replyType && (rpl.replyType == 1 || rpl.replyType == 3)}\n          {! 主评客服回复 !}\n          <li class="clearfix c_3b6ba0 replyLi replyserv">\n            <span class="replytitle f-fl">\n              <i class="replyavatar"></i>\n              <span>考拉客服</span>\n            </span>\n            <span class="itemDetail">\n              {rpl.replyContent}\n            </span>\n          </li>\n          {/if}\n        {/list}\n\n        {#if !!o.a_appendReply.replyType}\n\n          {! 用户追评及追评图片 !}\n          <hr class="hr"/>\n\n          {! 用户追评 !}\n          <li class="clearfix c_666 replyLi">\n            <span class="itemDetail">\n              <span class="c_999 appendTop">{o.a_afterDayComm}</span>\n              <br>\n              {o.a_appendReply.replyContent}\n            </span>\n          </li>\n\n          {! 追评图片 !}\n          {#if !!o.a_appendReply.imgUrls && o.a_appendReply.imgUrls.length > 0}\n          <li class="clearfix c_666">\n\n            <div class="pic_list clearfix mleft18" r-class="{{\'z-open\': !!o.a_appendReply.open}}">\n              {#list o.a_appendReply.imgUrls as aiurl}\n              <a href="javascript:void(0);" title="点击预览" class="pic_item" name="js_preview"\n                 on-click="{this.toggleImg(o.a_appendReply, aiurl_index)}"\n                 r-class="{{\'z-open\': !!o.a_appendReply.open && !!o.a_appendReply.viewList[aiurl_index].open}}">\n                <img on-load="{this.viewImgLoaded($event, o.a_appendReply, aiurl_index)}"\n                     src="{aiurl|imgThumbnailUrl:100,100}"\n                     r-style="{o.a_appendReply.viewList[aiurl_index].style || {}}"/><i\n                class="align_center"></i><i class="mask"></i>\n              </a>\n              {/list}\n            </div>\n\n            {! 图片预览 大图 !}\n            <div class="preview_box preview_style" style="width:290px;" r-hide="{!o.a_appendReply.open}">\n              <div style="height:290px;width:290px;overflow:hidden;">\n                <ul class="clearfix" style="height:290px;padding:0;width:1000px"\n                    r-style="{{\'margin-left\': o.a_appendReply.marginLeft + \'px\', \'width\': (o.a_appendReply.imgUrlsFor435.length||0)*290 + \'px\'}}">\n                  {#list o.a_appendReply.imgUrlsFor435 as iurl435}\n                  {#if o.a_appendReply.open}\n                  <img on-load="{this.viewLargeImgLoaded($event, o.a_appendReply, iurl435_index)}"\n                       src="{iurl435|imgThumbnailUrl:290,290}" style="display:none;">\n                  {/if}\n                  <li class="preview_item" style="height:290px;width:290px;"\n                      on-click="{this.toggleImg(o.a_appendReply, iurl435_index)}">\n                    {#if o.a_appendReply.viewList[iurl435_index].lLoaded}\n                    <img src="{iurl435|imgThumbnailUrl:290,290}"\n                         r-style="{o.a_appendReply.viewList[iurl435_index].lStyle || {}}"><i\n                    class="align_center" style="height:290px;"></i>\n                    {#else}\n                    <img src="/res/images/loading3.jpg"><i class="align_center" style="height:290px;"></i>\n                    {/if}\n                  </li>\n                  {/list}\n                </ul>\n              </div>\n              <div class="previewbtn previewleft" on-click="{this.prev(o.a_appendReply)}" r-hide="{o.a_appendReply.hidePrevArr}">\n                <em title="上一张"></em>\n                <i class="icon icon-arrow-left"></i>\n              </div>\n              <div class="previewbtn previewright" on-click="{this.next(o.a_appendReply)}" r-hide="{o.a_appendReply.hideNextArr}">\n                <em title="下一张"></em>\n                <i class="icon icon-arrow-right"></i>\n              </div>\n            </div>\n          </li>\n          {/if}\n\n          {! 追评客服回复 !}\n          {#if !!o.a_appendReply.replysList && o.a_appendReply.replysList.length > 0}\n            {#list o.a_appendReply.replysList as irpl}\n            <li class="clearfix c_3b6ba0 replyLi">\n              <span class="itemDetail">\n                <span class="c_d22046">客服回复：</span>\n                {o.a_appendReply.replysList[irpl_index].replyContent}\n              </span>\n            </li>\n            {/list}\n          {/if}\n\n        {/if}\n\n      {/if}\n      {! 组合评论共享 !}\n      {#if !!o.oriGoodsTitle && !!o.oriGoodsImgUrl}\n      <div class="commentgroup">\n        <img class="shareimgurl" src="{o.oriGoodsImgUrl|imgThumbnailUrl:75,75}">\n        <p class="sharetitle">\n          {o.oriGoodsTitle}\n        </p>\n      </div>\n      {/if}\n    \n    </ul>\n    <ul class="commItem-1 commopts f-fr">\n      {! 点赞 !}\n      <li class="thumbup" on-click="{this.zan(o)}">\n        <i class="ic"></i><span class="num">{o.zanStr}</span>\n      </li>\n      {! 移动端 !}\n      <li class="clearfix">\n        {#if !!o.appType && (o.appType == 31 || o.appType == 32)}\n        <a href="//app.kaola.com?from=comment" rel="nofollow" class="comm-from-app f-fl app" target="_blank">\n          来自{o.appType==31?\'iOS\':\'Android\'}手机版\n        </a>\n        {/if}\n      </li>\n      {! 评价时间 !}\n      {#if !!o.a_createTimeStr}\n      <li class="clearfix c_999 dateColor">\n        <span>{o.a_createTimeStr}</span>\n      </li>\n      {/if}\n    </ul>\n  </div>\n  {/list}\n\n{/if}\n\n</div>\n\n<div id="pageNavWrap">\n  <div id="pageNav">\n    <div class="m-centerpager clearfix">\n      <commentPager total={Math.ceil(totalSize/pageSize)} current={pageNo}></commentPager>\n    </div>\n  </div>\n</div>\n'},function(t,e){t.exports="{#if total > 0}\n<ul class=\"m-commentpager f-cb\" r-hide=\"!total\">\n    <li on-click={ this.nav(current-1)} r-hide=\"hidePre\" class='pageprv {current==1? \"disabled\": \"\"}'>\n        <a  href='javascript:void(0);'>&lt;&lt;上一页</a>\n    </li>\n\n    {#if total > 3}\n            <li  on-click={ this.nav(1)} class={current==1? 'active': ''}>\n                <a href='javascript:void(0);'>1</a>\n            </li>\n            <li  on-click={ this.nav(2)} class={current==2? 'active': ''}>\n                <a href='javascript:void(0);'>2</a>\n            </li>\n        {#if begin > 3}\n            <li><a>...</a></li>\n        {/if}\n        {#list begin..end as i}\n            <li on-mouseenter={this.onEnter(i)} on-click={ this.nav(i)} class={current==i? 'active': ''}>\n                <a href='javascript:void(0);'>{i}</a>\n            </li>\n        {/list}\n        {#if (end < total-1)}\n            <li><a>...</a></li>\n        {/if}\n    {#else}\n        {#list 1..total as i}\n            <li on-mouseenter={this.onEnter(i)} on-click={ this.nav(i)} class={current==i? 'active': ''}>\n                <a href='javascript:void(0);'>{i}</a>\n            </li>\n        {/list}\n    {/if}\n\n    <li on-click={ this.nav(current + 1)} r-hide=\"hideNext\" class='pagenxt {current==total? \"disabled\": \"\"}'>\n        <a  href='javascript:void(0);'>下一页&gt;&gt;</a>\n    </li>\n</ul>\n{/if}"},function(t,e){t.exports='{#if !!content}\n  {#include content}\n{#else}\n<div class="m-dlgcont {inclazz}">\n  <p class="title">\n    {#if iconType}\n      <i class="iconfont main-icon icon" r-style="{{color: iconType[1]}}" r-html="{iconType[0]}"></i>\n    {/if}\n    {#include descOne}\n  </p>\n  <p class="desc">{#include descTwo}</p>\n</div>\n{/if}'},function(t,e){t.exports='<div class="m-memberdiscount">\n    <p class="tit">{tips}</p>\n    <div class="qrcodebox">\n    \t<div class="qrcode" ref="qrcode"></div>\n    </div>\n    <p class="tips">{qrcodeTips}</p>\n</div>'},function(t,e){t.exports='<div class="sizechartcnt">\n    <div class="imgbox">\n        {#list sizechartImgs as img}\n        <img src="{img}" class="v-img" />\n        {/list}\n    </div>\n    {#if !!sizechartTips}\n    <div class="tipbox">\n        <p>温馨提示：</p>\n        <p class="tips" r-html="{sizechartTips}"></p>\n    </div>\n    {/if}\n</div>'},function(t,e){t.exports='<div class="n-skubox">\n    <ul class="cardlist">\n        {#list renderList as goodslist}\n        <div class="rowitm clearfix">\n            {#list goodslist as goods}\n            <li class="carditm {!goods.selectedSku && !!shouldCheck ? \'f-bd\' : \'\'}">\n                <skucard skudata={goods} on-switchsku={this.switchSku($event, goods)}></skucard>\n            </li>\n            {/list}\n        </div>\n        {/list}\n    </ul>\n</div>\n<div class="n-skubottom clearfix">\n    <p class="priceinfo clearfix">\n        {#if isSelectedAll}\n            <span class="comboprice">套餐价：<i class="price">¥{comboPrice|formatNum:\'0.##\'}</i></span>\n            {#if !!saveNum}<span class="savetxt">可省：<i class="price">¥{saveNum|formatNum:\'0.##\'}</i></span>{/if}\n            <span class="tips tips-1">规格都选好啦，快快购买吧</span>\n        {#else}\n            <span class="comboprice">套餐价：<i class="price">¥{#if comboData.maxComboTotalPrice > comboData.minComboTotalPrice}{comboData.minComboTotalPrice}起{#else}{comboData.maxComboTotalPrice}{/if}</i></span>\n            {#if shouldCheck}\n            <span class="tips"><i class="v-icon iconfont icon-emotion"></i>您有商品未选定规格，选定规格后才能购买哦</span>\n            {/if}\n        {/if}\n    </p>\n    {#if btnType === \'ADDCART\'}\n    <a href="javascript:;" on-click={this.addcart($event)} class="v-btn">加入购物车</a>\n    {#elseif btnType === \'BUYNOW\'}\n    <a href="javascript:;" on-click={this.buynow()} class="v-btn">立即购买</a>\n    {/if}\n</div>'},function(t,e){t.exports='<div ref="mdialog" class="m-favsucdlgW m-dialog {clazz}" animate style="z-index:10001;width:{width}px; max-height:{height}px;margin-left:-{width/2}px; left:50%; margin-top:-{height/2}px; top:50%; ">\n\t<div class="head">\n\t\t<h1>提示</h1>\n\t</div>\n\t<a class="close" hidefocus="true" href="javascript:;" on-click="{this.onclose()}"></a>\n\t<div class="body">\n\t\t<div class="message">\n\t\t\t<div class="m-favsucdlg">\n\t\t\t\t<h3 class="tit">\n\t\t\t\t\t<i class="iconfont sucicon icon-check-circle"></i>收藏成功！\n\t\t\t\t</h3>\n\t\t\t\t<div class="link">\n\t\t\t\t\t您可以在&ensp;个人中心&ensp;&gt;&ensp;<a hidefocus="true" href="//www.kaola.com/personal/listfavorite.html?zn=favor" target="_blank">我收藏的商品</a>&ensp;查看此商品\n\t\t\t\t</div>\n\t\t\t\t<div class="otherfav f-hkdn">\n\t\t\t\t\t<h4>喜欢此商品的人还喜欢</h4>\n\t\t\t\t\t<div class="otherfavlist">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class="m-pcarousel m-pcarousel-s">\n\t\t\t\t\t\t\t<i class="leftarr iconfont icon-arrow-left {current==0?\'z-dis\':\'\'}" on-click="{this.__scrollLeft()}" hidefocus=true></i>\n\t\t\t\t\t\t\t<i class="rightarr iconfont icon-arrow-right {current==pages.length-1?\'z-dis\':\'\'}" on-click="{this.__scrollRight()}" hidefocus=true></i>\n\t\t\t\t\t\t\t<div class="m-pcarouselw">\n\t\t\t\t\t\t\t\t<ul style="width:{scrollbarWidth}px;left:{left}px">\n\t\t\t\t\t\t\t\t\t{#list goodsList as goods}\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<a class="imgw" href="/product/{goods.goodsId}.html?rp=detail&zp=favor&zn=rec&recid={goods.recReason||\'\'}" target="_blank">\n\t\t\t\t\t\t\t\t\t\t\t<img src="{goods.imageUrl|imgThumbnailUrl:98}" alt="{goods.title}">\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t<a class="protit" href="/product/{goods.goodsId}.html?rp=detail&zp=favor&zn=rec&recid={goods.recReason||\'\'}" target="_blank">{goods.title}</a>\n\t\t\t\t\t\t\t\t\t\t<p class="price">￥{goods.currentPrice|price}</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t{/list}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ul class="dots">\n\t\t\t\t\t\t\t\t{#list pages as page}\n\t\t\t\t\t\t\t\t<li class="dot {page_index==current?\'z-act\':\'\'}"></li>\n\t\t\t\t\t\t\t\t{/list}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n<div class="u-mask" style="z-index:10000;"></div>'},function(t,e){t.exports='<StoreProvider store={store}>\n    \n    {! 用来初始化-模板为空 !}\n    {! 也用来监听和处理全局事件 !}\n    {! 也用来触发外部事件 !}\n    <Common\n        on-loaded={this.loaded($event)}\n        on-refreshTopBar={this.refreshTopBar($event)}\n        ></Common>\n\n    <div class="PInfoWrap clearfix">\n        {! 图片模块 !}\n        <Image></Image>\n\n        <dl class="PInfo PInfo-standout">\n\n            {! 品牌国、跨境超市标、主副标题 !}\n            <Title></Title>\n\n            {! 大促提示条 !}\n            <Promotionbar></Promotionbar>\n\n            {! 商品级别预售信息 !}\n            <PreSaleGoods></PreSaleGoods>\n\n            {! 价格&促销标签区域 !}\n            <dd class="m-price-wrap">\n\n                {! 价格 !}\n                <Price></Price>\n\n                {! 定金预付-规则提示 !}\n                <DepositRule></DepositRule>\n\n                {! 黑卡会员 !}\n                <Vipmember></Vipmember>\n\n                {! 不良品 !}\n                <SpecialGoods></SpecialGoods>\n\n                {! 组合装销售属性 !}\n                <MultipackGoods></MultipackGoods>\n\n                {! 考拉豆抵扣 !}\n                <KaolaBean></KaolaBean>\n\n                {! 优惠券 !}\n                <Coupon></Coupon>\n            </dd>\n\n            {! 活动栏标签 !}\n            <ActivityTag></ActivityTag>\n\n            {! 税费栏 !}\n            <TaxFee></TaxFee>\n\n            {! 运费 !}\n            <Postage on-savedAddress={this.savedAddress($event)}></Postage>\n\n            {! 服务 !}\n            <Service></Service>\n\n            {! 发货公告 !}\n            <Notice></Notice>\n\n            {! sku级别预售信息 !}\n            <PreSaleSku></PreSaleSku>\n\n            {! sku属性 !}\n            <SkuProps on-firstChangeSku={this.firstChangeSku($event)}></SkuProps>\n\n            {! 数量控件 !}\n            <BuyNum></BuyNum>\n\n            {! 服务保障 - 质保延保 !}\n            <Guarantee></Guarantee>\n\n            {! 表单 !}\n            <Form ref=form\n                on-btnChange={this.btnChange($event)}></Form>\n\n            {! 精华评论 !}\n            <ExcellentComment on-scroll2Comment={this.scroll2Comment($event)}></ExcellentComment>\n\n        </dl>\n\n\n    </div>\n\n    {! 通栏 - 榜单标识图 > 大促标识图 !}\n    <BottomBanner></BottomBanner>\n</StoreProvider>'},function(t,e){t.exports='{! ------ 表单按钮 加入购物车部分：到货通知、加车、收藏 按钮逻辑 ------ !}\n\n{! 到货通知 !}\n{!  - 到货通知按钮：已选中了某个sku 且 已经缺货 !}\n{#if !!skuId && buyNum.noStore}\n<span class="btn-arrivalNotice" on-click="{this.arrivalNotice()}"><b></b>到货通知</span>\n<FavBtn isLarge={false}></FavBtn>\n\n{#elseif !hideCart} {! 加入购物车 & 收藏按钮 !}\n<a href="javascript:void(0);" id="addCart"\n    class="{add2CartClazz}"\n    r-class="{{\'disabled\': buyNum.btnDisabled}}" hidefocus=true\n    on-click="{this.add2Cart($event)}"><span class="sign icon-cart20 icon-cart"></span>加入购物车</a>\n<FavBtn isLarge={false}></FavBtn>\n\n{#else}\n{! (!加入购物车 && !到货通知) => 大按钮 !}\n<FavBtn isLarge={true}></FavBtn>\n\n{/if}\n'},function(t,e){t.exports='{! ------ 表单按钮 通用逻辑 ------ !}\n\n{! 区域不可配送：不展示缺货按钮，置灰立即购买 !}\n{#if buyNum.noDeliver}\n    <a id="buyBtn"\n        r-class="{{\'buynowonly\': hideCart}}"\n        class="disabled" href="javascript:void(0)">{form.buyBtnStr || \'立即购买\'}</a>\n    {#if !hideCart}\n        <a id="addCart" href="javascript:void(0);" class="disabled">\n            <span class="sign icon-cart20 icon-cart"></span>加入购物车\n        </a>\n        <FavBtn isLarge={false}></FavBtn>\n    {#else}\n        <FavBtn isLarge={true}></FavBtn>\n    {/if}\n\n{! App新人专享，缺货情况不显示 !}\n{#elseif appNewcomerOnly && !buyNum.noStore}\n    <div style="display: none;" ref="newcomerQrCode"></div> {! 存放生成的二维码 !}\n    <a id="buyBtn" hidefocus=true href="javascript:void(0)"\n        on-mouseenter="{this.showHoverTip($event)}"\n        on-mouseleave="{this.hideHoverTip()}">\n        <span class="icontxt">手机扫码购买</span><i class="iconfont icon-scan"></i>\n    </a>\n    <FavBtn isLarge={false}></FavBtn>\n\n{#else}\n\n    {! 暂时缺货 !}\n    {#if buyNum.noStore}\n    <span class="btn-nogoods">暂时缺货</span>\n\n    {! 立即购买 !}\n    {#else}\n    <a id="buyBtn"\n        class="{buyNowClazz}"\n        r-class="{{\'buynowonly\': hideCart, \'disabled\': buyNum.btnDisabled}}"\n        on-click="{this.buyNow()}" hidefocus=true href="javascript:void(0)">{form.buyBtnStr || \'立即购买\'}</a>\n    {/if}\n\n    {! 到货通知 !}\n    {!  - 到货通知按钮：已选中了某个sku 且 已经缺货 !}\n    {#if !!skuId && buyNum.noStore}\n    <span class="btn-arrivalNotice" on-click="{this.arrivalNotice()}"><b></b>到货通知</span>\n    <FavBtn isLarge={false}></FavBtn>\n\n    {! 未选中sku 且 已经缺货 !}\n    {#elseif !skuId && buyNum.noStore}\n    <FavBtn isLarge={true}></FavBtn>\n\n    {! 未缺货 且 不隐藏购物车 !}\n    {#elseif !hideCart} {! 加入购物车 & 收藏按钮 !}\n    <a href="javascript:void(0);" id="addCart"\n        class="{add2CartClazz}"\n        r-class="{{\'disabled\': buyNum.btnDisabled}}" hidefocus=true\n        on-click="{this.add2Cart($event)}"><span class="sign icon-cart20 icon-cart"></span>加入购物车</a>\n    <FavBtn isLarge={false}></FavBtn>\n\n    {! 未缺货 且 隐藏购物车 !}\n    {#else}\n    {! (!加入购物车 && !到货通知) => 大收藏按钮 !}\n    <FavBtn isLarge={true}></FavBtn>\n\n    {/if}\n\n{/if}\n'},function(t,e){t.exports='<div ref=\'wrap\' class="m-savemoneytip {wrapperClass}" r-style={wrapStyle}>\n    <div class="tip-tri tip-tri-up" r-style={arrowStyle}><i class="tip-tri1">◆</i><i class="tip-tri2">◆</i></div>\n    <div class="tip-contents">\n        <div class="detail">\n            <p class="title">{saveViewTitle || \'省钱明细\'}</p>\n            {#if !!saveExpressInfoList && !!saveExpressInfoList.length}\n            <div class="detailbox f-cb">\n                {#list saveExpressInfoList as itm}\n                <div class="curinfo curinfo-{itm_index}">\n                    <p class="tlt" r-html={(itm.title || \'\') | font2i}></p>\n                    {#if !!itm.value}\n                    <p class="price" r-html={(itm.value || \'\') | font2i}></p>\n                    {/if}\n                </div>\n                {#if !!itm.connectSymbol}\n                <span class="symbol" r-html={itm.connectSymbol | font2i}></span>\n                {/if}\n                {/list}\n            </div>\n            {/if}\n            {#list saveDetailInfo as li}\n            <div class="saveli">\n                <span class="name">{li.saveName || \'\'}</span>\n                <span class="money" r-html={(li.saveValue || \'\') | fontcolor}></span>\n            </div>\n            {/list}\n        </div>\n        <div class="tips" r-hide={!saveExplain}>\n            <p class="tip" r-html={saveExplain | fontcolor}></p>\n        </div>\n    </div>\n</div>'},function(t,e){t.exports='{! 非卖品（与其他活动互斥） !}\n{#if notSaleGoods}\n\n<dd class="m-zd-prt m-zd-prt-1">\n    <span class="m-line-title">活动</span>\n    <span class="m-zd-prt-desc ellipsis newer-desc">本商品为非卖品，不支持购买</span>\n</dd>\n\n{#elseif activityTagList && activityTagList.length}\n\n<dd class="m-promotiontitle f-cb">\n    <span class="m-line-title f-fl">活动</span>\n    <div class="promotionwrap f-fl">\n        {#list activityTagList as pro}\n            {! 非黑卡会员 + 有会员专享 => 设置一行，分割开其他活动与会员专享活动 !}\n            {#if pro.hasExclusive}\n            <div class="m-zd-prt" r-class={{\'z-first\': pro_index === 0}}>\n                <div class="m-zd-prt-line ellipsis">\n                    <div class="linein">\n                        <img src="//haitao.nos.netease.com/6c0ba6fa-3faa-4b12-a114-66e9d74dca70.png" class="m-dp-prt-tag">\n                    </div>\n                    <a class="m-zd-prt-desc ellipsis z-exclusive"\n                        href="javascript:;" on-click="{this.becomeVip()}">\n                        以下促销黑卡会员专享，开通黑卡，立享优惠＞\n                    </a>\n                </div>\n            </div>\n\n            {#else}\n            <div class="m-zd-prt" r-class={{\'z-first\': pro_index === 0}}>\n                <div class="m-zd-prt-line ellipsis">\n                    <div class="linein">\n                        <span class="m-dp-prt-title">{pro.promotionTitle || \'\'}</span>\n                        {! 大促预告期的凑单类促销 !}\n                        {#if pro.promotionStartTime}\n                            <span class="pstarttime">{pro.promotionStartTime}</span>\n                        {/if}\n                    </div>\n                    <span class="m-zd-prt-desc ellipsis">\n\n                        {#if pro.promotionUrl}\n                            {! 非黑卡会员 & 会员专享 => 点击提示加入会员 !}\n                            {#if !isBlackVipUser && pro.promotionForenoticeType == 2}\n                                <a href="javascript:void(0)"\n                                    on-click="{this.becomeVip()}"\n                                    class="link-desc ellipsis"\n                                    r-html="{(pro.promotionContent || \'\') + \'&emsp;\'}">\n                                </a>\n                                <a class="link-tag" href="javascript:void(0)" on-click="{this.becomeVip()}">\n                                    {#if pro.promotionStartTime}提前查看>{#else}点击凑单>{/if}\n                                </a>\n                            {#else}\n                                <a href="{pro.promotionUrl|addParam:\'zn\',\'title\',\'zp\',\'activity\'}"\n                                    target="_blank"\n                                    class="link-desc ellipsis"\n                                    r-html="{(pro.promotionContent || \'\') + \'&emsp;\'}">\n                                </a>\n                                <a class="link-tag" href="{pro.promotionUrl|addParam:\'zn\',\'title\',\'zp\',\'activity\'}" target="_blank">\n                                    {#if pro.promotionStartTime}提前查看>{#else}点击凑单>{/if}\n                                </a>\n                            {/if}\n                        {#else}\n                            <span r-html="{(pro.promotionContent || \'\') + \'&emsp;\'}"></span>\n                        {/if}\n\n                        {! 买赠4 !}\n                        {#if pro.gift && !!pro.goodsPresentGiftList && pro.goodsPresentGiftList.length}\n                            &ensp;<a class="cblue" href="javascript:void(0)"\n                                on-mouseenter="{this.showHoverTip($event)}"\n                                on-mouseleave="{this.hideHoverTip()}">说明</a>\n                        {/if}\n                    </span>\n                </div>\n\n                {! 买赠4 !}\n                {#if pro.gift && !!pro.goodsPresentGiftList && pro.goodsPresentGiftList.length}\n                    <div class="m-gift-list">\n                        {#list pro.goodsPresentGiftList as img}\n                            <a target="_blank"\n                                href="{detailDomain}product/{img.giftGoodsId}.html"\n                                title="{img.title||\'\'}"\n                                class="m-gl-img"\n                                r-class=\'{{"m-gl-img-n":!img.storeStatus}}\'>\n                                <img src="{img.imageUrl|imgThumbnailUrl:35}" alt="{img.title||\'\'}" />\n                            </a>\n                            {#if img.storeStatus}\n                                <span class="m-gl-number" r-html="{\'&#215;\'+img.freeNumber}"></span>\n                            {#else}\n                                <span class="m-gl-number m-gl-number-n">赠完</span>\n                            {/if}\n                        {/list}\n                    </div>\n                {/if}\n\n            </div>\n            {/if}\n        {/list}\n\n    </div>\n</dd>\n\n{/if}'},function(t,e){t.exports='{! 大促标识图-通栏 !}\n{#if goodsDetailBannerImgUrl}\n  <div class="bannerRankMark">\n    {#if goodsDetailBannerLink}\n    <a href="{goodsDetailBannerLink|addParam:\'rt\',\'activity\'}" target="_blank">\n      <img src="{goodsDetailBannerImgUrl|imgThumbnailUrl:1090,80}">\n    </a>\n    {#else}\n    <img src="{goodsDetailBannerImgUrl|imgThumbnailUrl:1090,80}">\n    {/if}\n  </div>\n\n{! 榜单标识图-通栏 !}\n{#elseif pcMarkingRanksImageUrl}\n  <div class="bannerRankMark">\n    {#if pcLandingPageUrl}\n      <a href="{pcLandingPageUrl|addParam:\'zn\',\'rank\'}" target="_blank">\n        <img src="{pcMarkingRanksImageUrl|imgThumbnailUrl:1090,80}">\n      </a>\n    {#elseif ranksTopId}\n      <a href="{kaolaDomain}activity/ranksTop/ranksTopInfo.html?zn=rank&ranksTopId={ranksTopId}" target="_blank">\n        <img src="{pcMarkingRanksImageUrl|imgThumbnailUrl:1090,80}">\n      </a>\n    {#else}\n      <img src="{pcMarkingRanksImageUrl|imgThumbnailUrl:1090,80}">\n    {/if}\n  </div>\n\n{/if}\n'},function(t,e){t.exports='{! 数量控件 !}\n{#if onlineStatus === 1}\n<div class="m-buyBox">\n  <span class="m-line-title fl m-line-am-30">数量</span>\n  <em name="js_buyBox" class="buybox" id="j_buyboxnum">\n    <span class="ctrnum-wrap">\n      <a on-click="{this.reduce()}" r-class="{{\'ctrnum-b-dis\': buyNum.reduceHide}}"\n        href="javascript:void(0);" class="ctrnum-b ctrnum-b-rd icon-minus" hidefocus=true></a>\n      <input on-blur="{this.change()}" type="text" value="1" r-model="{number}" name="goods[0].tempBuyAmount" class="ctrnum-qty" autocomplete="off"/>\n      <a on-click="{this.increase()}" r-class="{{\'ctrnum-b-dis\': buyNum.addHide}}"\n        href="javascript:void(0);" class="ctrnum-b ctrnum-b-ad icon-plus" hidefocus=true></a>\n    </span>\n    <span class="domeTips" r-class="{{\'z-isRed\': buyNum.isRed}}" id="js_dometxt">{buyNum.msg || \'\'}</span>\n    <span class="dome hide" id="js_dome"></span>\n  </em>\n</div>\n{/if}'},function(t,e){t.exports='{#if !!goodsYearOverLimitString && !buyNum.noDeliver && !buyNum.noStore && onlineStatus == 1}\n<div class="n-buytips">\n    <p class="tips">{goodsYearOverLimitString}</p>\n    <img src="//haitao.nos.netease.com/c550f7d3-f82a-4790-aa67-f3c38746588d.png" class="v-img" />\n    <a href="//community.kaola.com/novels/1060842.html" class="link">为你支招 <i class="v-atrr">></i></a>\n</div>\n{/if}'},function(t,e){t.exports='{! 初始化通用逻辑 !}\n<i style="display: none" ref="test"></i>'},function(t,e){t.exports='{! 非卖品 与其他活动互斥 !}\n{#if !notSaleGoods}\n\n    {! 优惠券 !}\n    {#if goodsCouponList && goodsCouponList.length}\n\n    <div class="m-couponkaolabean f-cb">\n        <div class="couponwrap">\n            <div class="line f-cb" r-hide="{!showAll}">\n                <div class="desc f-fl"></div>\n            </div>\n            <div class="line f-cb"\n                r-class="{{\'z-showall\': showAll}}"\n                on-mouseenter="{this.showCouponEnter(goodsCouponList.length > 1)}"\n                on-mouseleave="{this.showCouponLeave()}">\n                <div class="icon coupon f-fl"></div>\n                <div class="desc f-fl">\n                    {#list goodsCouponList as cp}\n                        {#if !!cp.blackCardCoupon}\n                            <img class="v-coupontag" src="//haitao.nos.netease.com/6c0ba6fa-3faa-4b12-a114-66e9d74dca70.png" />\n                        {/if}\n                        {#if !!cp.tipTitleLink}\n                            <a class="li ellipsis"\n                                href="{cp.tipTitleLink|addParam:\'zn\',\'title\',\'zp\',\'promotion\'}"\n                                target="_blank">{cp.tipTitle || \'\'}</a>\n                        {#elseif !!cp.tipTitle}\n                            <span class="li ellipsis">{cp.tipTitle || \'\'}</span>\n                        {/if}\n\n                        {#if !!cp.redeemCode}\n                            <a class="getcoupon" on-click=\'{this.getCoupon(cp.redeemCode)}\' href="javascript:void(0);">点击领取</a>\n                        {/if}\n                        <br>\n                    {/list}\n                </div>\n                {#if goodsCouponList.length > 1}\n                <span class="toggle">\n                    <span>全部<i class="num">{goodsCouponList.length}</i>张优惠券</span>\n                    <i class="iconfont up icon-arrow-top" r-hide="{!showAll}"></i>\n                    <i class="iconfont down icon-arrow-down" r-hide="{showAll}"></i>\n                </span>\n                {/if}\n            </div>\n        </div>\n    </div>\n\n    {/if}\n\n{/if}\n'},function(t,e){t.exports='{! 定金预付-规则提示 !}\n\n{#if payStartTime}\n<div class="m-deposit-process">\n    <span class="m-line-title">规则</span>\n    <span class="process">先付定金，{payStartTime|format:\'MM月dd日\'}开始付全款（自动退定金）</span>\n    <a class="rule" href="{kaolaDomain}footer/depositfaq.shtml" target="_blank">查看规则></a>\n</div>\n{/if}\n'},function(t,e){t.exports='{! 精华评价 !}\n{#if onlineStatus == 1}\n<dd class="m-comment-bar j-commentbar">\n    {#if !!percent}\n    <span class="emptyStar percentStar" r-class="{{\'greystar\': commentsCount==0}}">\n        <span><i class="iconfont icon-star-hollow"></i>\n            <i class="iconfont icon-star-hollow"></i>\n            <i class="iconfont icon-star-hollow"></i>\n            <i class="iconfont icon-star-hollow"></i>\n            <i class="iconfont icon-star-hollow"></i>\n        </span>\n        <span class="fullStar" r-style="{{\'width\': width}}">\n            <i class="iconfont icon-star"></i>\n            <i class="iconfont icon-star"></i>\n            <i class="iconfont icon-star"></i>\n            <i class="iconfont icon-star"></i>\n            <i class="iconfont icon-star"></i>\n        </span>\n    </span>\n    <span class="goodPercent">{percent|decimal:0,false}%</span>\n    {/if}\n\n    <span class="comnum comm">\n        <a href="javascript:void(0);"\n            on-click="{this.scroll2Comment({type:1, category:\'商品详情页\', event:\'评价\', label:\'\'})}"\n        >{commentsCount}人</a>评价\n    </span>\n    \n    {#if (goodsCommentStatistics.commentImagesCount || 0) > 0}\n    <span class="commWithImg comm">\n        <a href="javascript:void(0);"\n            on-click="{this.scroll2Comment({type:2, category:\'商品详情页\', event:\'晒单\', label:\'\'})}"\n        >{goodsCommentStatistics.commentImagesCount}人</a>晒单\n    </span>\n    {/if}\n</dd>\n\n{#if excellentCommentList.length}\n<dd class="m-excelComm j-excelcomm"\n    on-mouseenter="{this.enter()}"\n    on-mouseleave="{this.leave()}"\n    r-class="{{\'m-excelComm-show\': showDetail}}">\n\n    <p class="tit" r-style="{{\'opacity\': opacity}}" r-html="{(currentComment.nicknameKaola || currentComment.accountShow || \'\')+\'&nbsp;&nbsp;&nbsp;&nbsp;\'+currentComment.createTime}"></p>\n    <p class="detail" r-style="{{\'opacity\': opacity}}">{currentComment.commentContent || \'\'}</p>\n    {#if excellentCommentList.length > 1}\n    <div class="tg">\n        <div class="tgbtn up dis iconfont icon-arrow-top"\n            r-class="{{\'dis\': curr === 0}}"\n            on-click="{this.prev()}"\n        ></div>\n        <div class="tgbtn down iconfont icon-arrow-down"\n            r-class="{{\'dis\': curr === (excellentCommentList.length-1)}}"\n            on-click="{this.next()}"\n        ></div>\n    </div>\n    {/if}\n\n</dd>\n{/if}\n\n{/if}'},function(t,e){t.exports='{! 收藏按钮 !}\n\n<a class="m-favbtn {clazz}" href="javascript:void(0)" style="visibility: visible;"\n   on-click="{this.toggleFav($event)}"\n   on-mouseenter="{this.mouseenter($event)}"\n   on-mouseleave="{this.mouseleave($event)}">\n  <i class="iconfont ic icon-heart" r-hide="{!userFavoriteGoods}"></i>\n  <i class="iconfont ic icon-heart-hollow" r-hide="{userFavoriteGoods}"></i>\n  <span class="txt">{userFavoriteGoods ? (hover ? \'取消收藏\' : \'已收藏\') : \'收藏\'}</span>\n</a>\n'},function(t,e){t.exports='{! 表单 !}\n\n{! 非卖品 !}\n{#if notSaleGoods}\n<dd class="f-mt20">\n    <span class="btn-nogoods not4sale">本商品不支持购买</span>\n</dd>\n\n{! 已下架 !}\n{#elseif onlineStatus != 1}\n<dd>\n    <div class="j-goodsnotonsale">\n        <div class="buyBox noGoods not-on-sale"></div>\n        {! 商品说明提示标签 !}\n        <GoodsTips></GoodsTips>\n    </div>\n</dd>\n\n{#else}\n<dd>\n    <form action="{(form.submitUrl || \'/order/confirm.html?from=detailfp\')|addDomain:form.formDomain}"\n        method="post"\n        id="j-formEl"\n        ref="formEl">\n\n        {! 商品说明提示标签 !}\n        <GoodsTips></GoodsTips>\n\n        {! 2万元超限提示 !}\n        <BuyTips></BuyTips>\n\n        <div class="buyBtns">\n            {#if !!source && source == \'orderSnapshot\'}\n            <div class="n-shadow">\n                <h4 class="n-shadowtext">按钮不可点击</h4>\n            </div>\n            {/if}\n            {! ------ 秒杀 ------ !}\n            {#if type === C.SECKILL_TYPE}\n                {! 预热期 && 预热期间不可购买 !}\n                {#if step < C.SECKILL_STEP.DOING && currentPromotion.buyType == 0}\n                <div>\n                    {! 缺货 !}\n                    {#if currentPromotion.soldout}\n                        <div class="j-seckillToBuy seckillToBuy">\n                            {#if currentPromotion.afterSelloutGoodsId}\n                                <span>原商品正在低价促销中，请</span>\n                                <a href="{C.DETAIL_DOMAIN}product/{currentPromotion.afterSelloutGoodsId}.html?nm=1" target="_blank">点击此处</a>\n                            {#else}\n                                <span>该活动商品已抢光，下次早点来哦</span>\n                            {/if}\n                        </div>\n\n                    {! 有货 !}\n                    {#else}\n                        <span class="j-seckillAbout2Begin seckillAbout2Begin">\n                            {step < C.SECKILL_STEP.IN15 ? \'敬请期待\' : \'即将开始\'}\n                        </span>\n                    {/if}\n                    <FavBtn isLarge={false}></FavBtn>\n                </div>\n\n                {! 预热期 && 预热期可购买 && 缺货 && 有锁定库存 => 不展示缺货按钮，改为展示「即将开抢」 !}\n                {#elseif step < C.SECKILL_STEP.DOING && currentPromotion.buyType == 1}\n                    {#if buyNum.noStore && buyNum.lockStore}\n                        <span class="seckillAbout2Begin">即将开抢</span>\n                        <FavBtn isLarge={false}></FavBtn>\n                    {#else}\n                        {! 通用逻辑 !}\n                        <FormCommonBtn\n                            goodsId={goodsId}\n                            buyNum={buyNum}\n                            form={form}\n                            hideCart={hideCart}\n                            appNewcomerOnly={appNewcomerOnly}\n                            skuId={skuId}\n                            buyNowClazz={buyNowClazz}\n                            add2CartClazz={add2CartClazz}\n                            on-buyNow={this.buyNow($event)}\n                            on-add2Cart={this.add2Cart($event)}\n                            on-arrivalNotice={this.arrivalNotice($event)}\n                            ></FormCommonBtn>\n                    {/if}\n\n                {! 进行中 !}\n                {#elseif step === C.SECKILL_STEP.DOING}\n                    {! 通用逻辑 + 不可加车（hideCart设为true） !}\n                    <FormCommonBtn\n                        goodsId={goodsId}\n                        buyNum={buyNum}\n                        form={form}\n                        hideCart={true}\n                        appNewcomerOnly={appNewcomerOnly}\n                        skuId={skuId}\n                        buyNowClazz={buyNowClazz}\n                        add2CartClazz={add2CartClazz}\n                        on-buyNow={this.buyNow($event)}\n                        on-add2Cart={this.add2Cart($event)}\n                        on-arrivalNotice={this.arrivalNotice($event)}\n                        ></FormCommonBtn>\n\n                {! 售完 !}\n                {#elseif step === C.SECKILL_STEP.NO_GOODS}\n                    {! 预热期间（售完后也是）不可购买 !}\n                    {#if currentPromotion.buyType == 0}\n                        <div class="j-seckillToBuy seckillToBuy">\n                            {#if currentPromotion.afterSelloutGoodsId}\n                                <span>原商品正在低价促销中，请</span>\n                                <a href="{C.DETAIL_DOMAIN}product/{currentPromotion.afterSelloutGoodsId}.html?nm=1" target="_blank">点击此处</a>\n                            {#else}\n                                <span>该活动商品已抢光，下次早点来哦</span>\n                            {/if}\n                        </div>\n                        <FavBtn isLarge={false}></FavBtn>\n\n                    {#else}\n                        {! 通用逻辑 !}\n                        <FormCommonBtn\n                            goodsId={goodsId}\n                            buyNum={buyNum}\n                            form={form}\n                            hideCart={hideCart}\n                            appNewcomerOnly={appNewcomerOnly}\n                            skuId={skuId}\n                            buyNowClazz={buyNowClazz}\n                            add2CartClazz={add2CartClazz}\n                            on-buyNow={this.buyNow($event)}\n                            on-add2Cart={this.add2Cart($event)}\n                            on-arrivalNotice={this.arrivalNotice($event)}\n                            ></FormCommonBtn>\n                    {/if}\n                {/if}\n\n\n            {! ------ 特卖/限时购 ------ !}\n            {#elseif type === C.TEMAI_TYPE}\n                \n                {! 预热期 && 缺货 && 有锁定库存 => 不展示缺货按钮，改为展示「即将开抢」 !}\n                {#if step < C.TEMAI_STEP.DOING && buyNum.noStore && buyNum.lockStore}\n                    <span class="seckillAbout2Begin">即将开抢</span>\n                    <FavBtn isLarge={false}></FavBtn>\n\n                {#else}\n                    {! 通用逻辑 !}\n                    <FormCommonBtn\n                        goodsId={goodsId}\n                        buyNum={buyNum}\n                        form={form}\n                        hideCart={hideCart}\n                        appNewcomerOnly={appNewcomerOnly}\n                        skuId={skuId}\n                        buyNowClazz={buyNowClazz}\n                        add2CartClazz={add2CartClazz}\n                        on-buyNow={this.buyNow($event)}\n                        on-add2Cart={this.add2Cart($event)}\n                        on-arrivalNotice={this.arrivalNotice($event)}\n                        ></FormCommonBtn>\n                {/if}\n\n\n            {! ------ 定时售卖 ------ !}\n            {#elseif type === C.TIMINE_SALE_TYPE}\n                <a id="buyBtn" class="disabled" href="javascript:void(0)">\n                    {step === C.TIMGINE_SALE_STEP.MONTH ? \'暂未开售\' : \'即将开售\'}\n                </a>\n                {! 加入购物车部分：到货通知、加车、收藏 按钮逻辑 !}\n                <FormAddCartBtn\n                    buyNum={buyNum}\n                    hideCart={hideCart}\n                    skuId={skuId}\n                    on-add2Cart={this.add2Cart($event)}\n                    on-arrivalNotice={this.arrivalNotice($event)}\n                ></FormAddCartBtn>\n\n            {! ------ 大促 ------ !}\n            {#elseif type === C.PRO_TYPE}\n                {! 通用逻辑 !}\n                <FormCommonBtn\n                    goodsId={goodsId}\n                    buyNum={buyNum}\n                    form={form}\n                    hideCart={hideCart}\n                    appNewcomerOnly={appNewcomerOnly}\n                    skuId={skuId}\n                    buyNowClazz={buyNowClazz}\n                    add2CartClazz={add2CartClazz}\n                    on-buyNow={this.buyNow($event)}\n                    on-add2Cart={this.add2Cart($event)}\n                    on-arrivalNotice={this.arrivalNotice($event)}\n                    ></FormCommonBtn>\n\n\n            {! ------ 预付定金 ------ !}\n            {#elseif type === C.DEPOSIT_TYPE}\n                {! (预付阶段 && (缺货||区域不可配送)) || 预付结束待付款阶段 !}\n                {#if (step <= C.DEPOSIT_STEP.TODAY && (buyNum.noStore || buyNum.noDeliver)) || step >= C.DEPOSIT_STEP.DONE_MONTH}\n                    <a id="buyBtn" class="disabled" href="javascript:void(0)">\n                        {#if step >= C.DEPOSIT_STEP.DONE_MONTH}\n                            定金支付已结束\n\n                        {#elseif buyNum.noDeliver}\n                            不支持配送，无法参加活动\n\n                        {#elseif buyNum.noStore}\n                            预付定金名额已抢完\n                        {/if}\n                    </a>\n                    <FavBtn isLarge={false}></FavBtn>\n                {#else}\n                    {! 通用逻辑 + 不可加车（hideCart设为true） !}\n                    <FormCommonBtn\n                        goodsId={goodsId}\n                        buyNum={buyNum}\n                        form={form}\n                        hideCart={true}\n                        appNewcomerOnly={appNewcomerOnly}\n                        skuId={skuId}\n                        buyNowClazz={buyNowClazz}\n                        add2CartClazz={add2CartClazz}\n                        on-buyNow={this.buyNow($event)}\n                        on-add2Cart={this.add2Cart($event)}\n                        on-arrivalNotice={this.arrivalNotice($event)}\n                        ></FormCommonBtn>\n                {/if}\n\n\n            {! ------ 通用逻辑 ------ !}\n\n            {#else}\n            <FormCommonBtn\n                goodsId={goodsId}\n                buyNum={buyNum}\n                form={form}\n                hideCart={hideCart}\n                appNewcomerOnly={appNewcomerOnly}\n                skuId={skuId}\n                buyNowClazz={buyNowClazz}\n                add2CartClazz={add2CartClazz}\n                on-buyNow={this.buyNow($event)}\n                on-add2Cart={this.add2Cart($event)}\n                on-arrivalNotice={this.arrivalNotice($event)}\n                ></FormCommonBtn>\n                \n            {/if}\n            \n        </div>\n\n        {! 秒杀即将开始提示，不支持购物车结算 !}\n        {#if seckillAboutToStart}\n        <p class="m-secskilltip">提醒：秒杀开始后，商品不支持购物车结算</p>\n        {/if}\n\n        {#if depositId}\n            <input type="hidden" name="depositId" value="{depositId}" />\n        {/if}\n\n        <input type="hidden" name="goods[0].selected" value="1" />\n        <input type="hidden" name="goods[0].goodsId" value="{goodsId}" />\n        <input type="hidden" name="goods[0].tempCurrentPrice" value="{formPrice}" />\n        <input type="hidden" name="goods[0].tempGoodsActivityType" value="" />\n        <input type="hidden" name="goods[0].innerSource" _name="innerSource" value="{innerSource}" />\n        <input type="hidden" name="s" value="2"/>\n        <input type="hidden" name="goods[0].skuId" value="{skuId || minPriceSkuId || \'\'}" />\n        <input type="hidden" name="goods[0].productType" value="{productType}" />\n\n        {! 商品数量 !}\n        <input type="hidden" name="goods[0].tempBuyAmount" value="{buyNum.number || 1}" autocomplete="off"/>\n\n        {! 质保延保 !}\n        {#if guaranteeServiceIds && guaranteeServiceIds.length}\n            {#list guaranteeServiceIds as sid}\n            <input type="hidden" name="goods[0].serviceGoodsParams[{sid_index}].serviceId" value="{sid}" />\n            <input type="hidden" name="goods[0].serviceGoodsParams[{sid_index}].buyCount" value="{buyNum.number || 1}" />\n            {/list}\n        {/if}\n        \n        {! 赠品 !}\n        {#if currentGoodsPresentGiftList && currentGoodsPresentGiftList.length}\n        {#list currentGoodsPresentGiftList as gift}\n            {#if gift.storeStatus}\n            <input type="hidden"\n                name="goods[0].goodsActivityGiftListTemp[{gift_index}].activityGiftId"\n                value="{gift.activityGiftId}">\n            <input type="hidden"\n                name="goods[0].goodsActivityGiftListTemp[{gift_index}].giftType"\n                value="{gift.giftType}">\n            <input type="hidden"\n                name="goods[0].goodsActivityGiftListTemp[{gift_index}].freeNumber"\n                value="{gift.freeNumber}">\n            <input type="hidden"\n                name="goods[0].goodsActivityGiftListTemp[{gift_index}].giftGoodsId"\n                value="{gift.giftGoodsId}">\n            <input type="hidden"\n                name="goods[0].goodsActivityGiftListTemp[{gift_index}].giftSkuId"\n                value="{gift.giftSkuId}">\n            {/if}\n        {/list}\n        {/if}\n\n    </form>\n\n</dd>\n\n{/if}'},function(t,e){t.exports='{! 商品说明标签 !}\n\n{#if contentList.length > 0}\n\n<div class="buynowonly-wrap clearfix">\n    <span class="f-fl m-line-title fl m-line-am-34">说明</span>\n    <ul class="buynowonly-tip-lis point clearfix">\n    {#list contentList as tip}\n        {! 会员96折 !}\n        {#if tip_index === memberTipIndex}\n        <li on-click={this.showMemberTips(title[tip_index] || \'\', tip)}\n            class="link f-fl membertip">\n            <i></i>{title[tip_index] || \'\'}\n        </li>\n        {#else}\n        <li class="f-fl"><i r-class="{{\'unsupport\': this.isUnsupportTag(tip_index)}}"></i>{title[tip_index] || \'\'}</li>\n        {/if}\n    {/list}\n    </ul>\n</div>\n\n{/if}\n'},function(t,e){t.exports='{! 质保延保模块 !}\n\n{#if onlineStatus === 1 && guarantee && guarantee.current && guarantee.current.skuValueAddInfoDetailList && guarantee.current.skuValueAddInfoDetailList.length}\n\n{! 未选择sku，显示置灰的样式 !}\n{#if !guarantee.isSelSku}\n\n<div class="guarantee-wrap clearfix">\n    <span class="guarantee-tit m-line-title">服务说明</span>\n    <div class="guarantee-ctt clearfix">\n        {#list guarantee.current.skuValueAddInfoDetailList as gitem}\n        {#if gitem.skuValueAddInfoList && gitem.skuValueAddInfoList.length}\n        <div class="guali">\n            <div class="tit">\n                {#if gitem.select}\n                    {#if gitem.select.buyerType==2}<i class="gift">[赠送]</i>{/if}{gitem.select.serviceName || \'\'}\n                {#else}\n                    {#if gitem.skuValueAddInfoList[0].buyerType==2}[赠送]{/if}{gitem.skuValueAddInfoList[0].serviceName || \'\'}\n                {/if}\n                <div class="iconfont down icon-arrow-down"></div>\n            </div>\n        </div>\n        {/if}\n        {/list}\n    </div>\n</div>\n\n{! 选择了sku，且sku有质保延保数据 !}\n{#else}\n\n<div class="guarantee-wrap clearfix">\n    <span class="guarantee-tit m-line-title">服务说明</span>\n    <div class="guarantee-ctt clearfix">\n        {#list guarantee.current.skuValueAddInfoDetailList as gitem}\n            {#if gitem.skuValueAddInfoList && gitem.skuValueAddInfoList.length}\n            <div class="guali z-act"\n                on-mouseenter={this.mouseEnter(gitem)}\n                on-mouseleave={this.mouseLeave()}\n                r-class={{\'z-hover\': hover === gitem, \'z-sel\': !!gitem.select}}>\n                <div class="tit" r-class={{\'z-sel\': !!gitem.select}}>\n                    {#if gitem.select}\n                        {#if gitem.select.buyerType==2}<i class="gift">[赠送]</i>{/if}{gitem.select.serviceName || \'\'}&ensp;{#if gitem.select.servicePrice}￥{gitem.select.servicePrice}{/if}\n                    {#else}\n                        {#if gitem.skuValueAddInfoList[0].buyerType==2}[赠送]{/if}{gitem.skuValueAddInfoList[0].serviceName || \'\'}&ensp;{#if gitem.skuValueAddInfoList[0].servicePrice}￥{gitem.skuValueAddInfoList[0].servicePrice}{/if}\n                    {/if}\n                    <div class="iconfont up icon-arrow-top"></div>\n                    <div class="iconfont down icon-arrow-down"></div>\n                </div>\n                <div class="ctt">\n                    <ul class="morelist">\n                        {#list gitem.skuValueAddInfoList as gli}\n                        <li class="moreli"\n                            on-click={this.selectGuarantee(gitem_index, gli_index)}\n                            r-class={{\'z-sel\': gitem.select && gitem.select.valueAddServiceId === gli.valueAddServiceId}}>\n                            <span class="check"><i class="iconfont icon-check"></i></span>\n                            <span class="msg">{#if gli.buyerType==2}<i class="gift">[赠送]</i>{/if}{gli.serviceName||\'\'}&emsp;{#if gli.servicePrice}￥{gli.servicePrice}{/if}</span>\n                            <a class="link" href="/product/singleServiceAddInfo.html?skuId={guarantee.current.skuId}&serviceId={gli.valueAddServiceId}" target="_blank">详情&gt;</a>\n                        </li>\n                        {/list}\n                    </ul>\n                </div>\n            </div>\n            {/if}\n        {/list}\n    </div>\n</div>\n\n{/if}\n\n{/if}\n'},function(t,e){t.exports='<div class="PImgBox m-productimgbox">\n    <a on-click="{this.prev()}"\n        href="javascript:void(0);"\n        class="scrollBtn scrollleft sign icon-arrow-left"\n        r-class="{{\'scrollDis\': scrollIndex <= 0}}"\n        hidefocus=true></a>\n    <a on-click="{this.next()}"\n        href="javascript:void(0);"\n        class="scrollBtn scrollRight sign icon-arrow-right"\n        r-class="{{\'scrollDis\': scrollIndex >= webImageList.length-4}}"\n        hidefocus=true></a>\n    <div class="litimg_box">\n        <ul id="litimgUl" class="clearfix" r-style="{{\'left\':imgListLeftS,\'width\':imgListWidth}}">\n            {#list webImageList as gi}\n            <li r-class="{{\'active\': selectIndex == gi_index}}" on-mouseenter="{this.enterli(gi_index)}">\n                <a href="javascript:;">\n                    <img src="{@(gi.imageUrl|imgThumbnailUrl:64)}" />\n                </a>\n            </li>\n            {/list}\n        </ul>\n    </div>\n    <div ref="imgwrap" on-mouseenter="{this.enter($event)}" on-mousemove="{this.move($event)}" on-mouseleave="{this.leave($event)}"\n        id="showImgBox">\n        {! 榜单标识图 !}\n        {#if detailRanksImageUrl}\n        <div class="rankMark j-rankMark">\n            <img src="{@(detailRanksImageUrl|imgThumbnailUrl:120)}" alt="榜单标识图">\n        </div>\n        {/if}\n        <img src="{bigImg|imgThumbnailUrl:800}" />\n        <b class="shadow" r-hide="{!shadowShow}" r-style="{{\'top\':shadowTop,\'left\':shadowLeft}}"></b>\n    </div>\n\n    {! 黑卡会员专享标 !}\n    {#if vipExclusiveGoods && vipExclusiveGoodsLogo}\n        <img class="vipLogo" src="{@(vipExclusiveGoodsLogo|imgThumbnailUrl:200)}" alt="黑卡会员专享">\n    {/if}\n\n\n    <a href="{bigImg|imgThumbnailUrl:800}" target="_blank"\n        class="showLocalImg sign icon-search2"\n        id="showLocalImg" title="查看大图"\n        hidefocus=true></a>\n    <div id="showDetails" r-hide="{!shadowShow}">\n        <img r-style="{{\'top\':shadowTop2,\'left\':shadowLeft2}}"\n            src="{bigImg|imgThumbnailUrl:800}"\n            id="showImgBig"/>\n    </div>\n</div>'},function(t,e){t.exports='{! 非卖品不展示考拉豆 !}\n{#if !notSaleGoods}\n\n{! 考拉豆抵扣 !}\n{#if kaolaBean && kaolaBean.promotionContent}\n<div class="m-couponkaolabean f-cb">\n    <div class="line f-cb">\n        <div class="icon bean f-fl"></div>\n        <div class="desc f-fl">\n            {#if kaolaBean.promotionUrl}\n            <a class="li ellipsis"\n                href="{kaolaBean.promotionUrl|addParam:\'zn\',\'title\',\'zp\',\'promotion\'}"\n                r-html="{kaolaBean.promotionContent}"></a>\n            {#else}\n            <span class="li ellipsis" r-html="{kaolaBean.promotionContent}"></span>\n            {/if}\n        </div>\n    </div>\n</div>\n{/if}\n\n{/if}\n'},function(t,e){t.exports='{! 组合装销售属性显示 !}\n{#if multipackGoodsList.length > 1 && !hasDeposit} {! 预付定金预付阶段屏蔽组合装 !}\n\n<div class="m-multipack f-cb" r-class="{{\'z-hasnext\': !notSaleGoods && (hasKaolaBean || hasCoupon)}}"> {! 展示考拉豆或优惠券 !}\n  <span class="m-line-title m-price-title f-fl">更多组合</span>\n  <ul class="packlst" r-class="{{\'z-show\': showToggle && multipackGoodsList.length > 4}}">\n    {#list multipackGoodsList as li}\n      {#if li.isCur}\n        <li class="packli z-cur"><span class="txt">{li.unitNameDesc || \'\'}</span></li>\n      {#else}\n        <li class="packli"><a class="link" href="/product/{li.goodsId}.html?zn=title&zp=zhz-{li_index}" target="_blank">{li.unitNameDesc || \'\'}</a></li>\n      {/if}\n    {/list}\n  </ul>\n  {#if multipackGoodsList.length > 4}\n    <span on-click="{this.toggle()}" class="toggle">\n      <span>{showToggle ? \'收起\' : \'展开\'}</span>\n      <i class="iconfont up icon-arrow-top" r-hide="{!showToggle}"></i>\n      <i class="iconfont down icon-arrow-down" r-hide="{showToggle}"></i>\n    </span>\n  {/if}\n</div>\n{#elseif similarGoodsList.length > 1 && !hasDeposit } {! 同类聚合属性显示 !}\n\n<div class="m-multipack f-cb" r-class="{{\'z-hasnext\': !notSaleGoods && (hasKaolaBean || hasCoupon)}}"> {! 展示考拉豆或优惠券 !}\n  <span class="m-line-title m-price-title f-fl">更多组合</span>\n  <ul class="packlst" r-class="{{\'z-show\': showToggle && similarGoodsList.length > 3}}">\n    {#list similarGoodsList as li}\n      {#if li.isCur}\n        <li class="similarli z-cur">\n          <span class="txt">\n            {li.text || \'\' | cutLength:7} | {li.onlinePrice || \'\'}元\n          </span>\n        </li>\n      {#else}\n        <li class="similarli">\n          <a class="link" href="/product/{li.goodsId}.html?zn=title&zp=zhz-{li_index}" target="_blank">\n            {li.text || \'\' | cutLength:7} | {li.onlinePrice || \'\'}元\n          </a>\n        </li>\n      {/if}\n    {/list}\n  </ul>\n  {#if similarGoodsList.length > 3}\n    <span on-click="{this.toggle()}" class="toggle">\n      <span>{showToggle ? \'收起\' : \'展开\'}</span>\n      <i class="iconfont up icon-arrow-top" r-hide="{!showToggle}"></i>\n      <i class="iconfont down icon-arrow-down" r-hide="{showToggle}"></i>\n    </span>\n  {/if}\n</div>\n\n{/if}\n'},function(t,e){t.exports='{! 公告、发货公告 !}\n{#if goodsNotice && goodsNotice.text && goodsNotice.contentType == 1}\n    {#if !!goodsNotice.siteUrl}\n        <dd class="spring-fest-alert">\n            <a class="v-siteUrlLink" href="{goodsNotice.siteUrl}">\n                <div class="alert-txt" r-html="{goodsNotice.text||\'\'}"></div>\n            </a>\n        </dd>\n    {#else}\n        <dd class="spring-fest-alert">\n            <div class="alert-txt" r-html="{goodsNotice.text||\'\'}"></div>\n        </dd>\n    {/if}    \n{/if}\n'},function(t,e){t.exports='{! \n    运费 \n    展示条件：未下架 & 不是非卖品\n!}\n{#if onlineStatus == 1 && !notSaleGoods}\n<dd class="postage">\n    <span class="m-line-title">运费</span>\n    <div class="msg">\n        {! 非虚拟商品 显示运费地址 !}\n        {#if !virtualProduct}\n        <span>\n            {#if !!warehouseCityShow}\n                <span class="from f-hkdn">{warehouseCityShow}&ensp;</span>\n            {/if}\n            <span class="from2">至</span>\n\n            {! 地址控件 !}\n            {#if defAddress && defAddress.provinceCode}\n            <Addr\n                clazz="{clazz}"\n                address="{address}"\n                defAddress="{defAddress}"\n                on-selectAddress={this.updateAsyncData($event)}\n                on-saveAddress={this.savedAddress($event)}></Addr>\n            {/if}\n        </span>\n        {/if}\n\n        <span class="feeInfo">\n            {! 运费信息 or 错误提示 !}\n            {#if !!goodsPostageInfo.canDeliver}\n                {#if !!goodsPostageInfo.postageDetail || !!goodsPostageInfo.highPostageReason}\n                    <span class="u-postage">\n                        <i class="fee">\n                            {goodsPostageInfo.postageShowStr}\n                            <span class="arron iconfont"></span><span class="arroff iconfont"></span>\n                        </i>\n                        <span class="desc">\n                            <i r-html={goodsPostageInfo.postageDetail}></i>\n                            {#if !!goodsPostageInfo.highPostageReason}<p class="hightaxtip"><i class="hightipicon iconfont icon-tip"></i>{goodsPostageInfo.highPostageReason}</p>{/if}\n                        </span>\n                    </span>\n                {#elseif !!goodsPostageInfo.postageShowStr}\n                <span class="postagedesc">{goodsPostageInfo.postageShowStr}</span>\n                {/if}\n            {#else}\n            <strong class="notDeliver">所选地区暂不支持配送</strong>\n            {/if}\n        </span>\n    </div>\n</dd>\n{/if}'},function(t,e){t.exports='{! 商品级别预售文案 !}\n{#if !!goodsPreSaleInfo}\n<dd class="m-yushou">\n    <div class="m-yushou-cnt">\n        <span class="m-yushou-t">预售</span>\n        <span class="m-yushou-msg">{goodsPreSaleInfo}</span>\n    </div>\n</dd>\n{/if}'},function(t,e){t.exports='\n{! sku级别预售信息 !}\n\n{#if !!preSaleInfo}\n<dd class="skupresale">\n    <span class="m-line-title">预售</span>\n    <div class="msg">{preSaleInfo}</div>\n</dd>\n{/if}\n'},function(t,e){t.exports='<div class="m-price">\n    {#if isFactoryGoods && !isVipUserAndMemberPrice && !isShowNewUserPrice && type != C.DEPOSIT_TYPE}\n        <span class="m-line-title m-price-title j-price-title">工厂价</span>\n    {#else}\n        <span class="m-line-title m-price-title j-price-title">{price.mainPriceTitle || \'售价\'}</span>\n    {/if}\n    <div class="m-price-cnt">\n        {! 新人直降价格 !}\n        {#if isShowNewUserPrice}\n            <span class="newusertxt">新人价</span>\n            {#if onlineStatus === 1}\n                <span class="PInfo_r newuserprice"><span class="rmb">¥</span>{price.mainPrice | decimal:2,true}</span>{#if isDiffNewUserPrice}<span class="newusertxt">起</span>{/if}\n            {#else}\n                <span class="PInfo_r newuserprice"><span class="rmb">¥</span>暂无报价</span>\n            {/if}\n            \n            {#if price.currentPrice | isPrice}\n                <span class="kaolaprice">{#if isFactoryGoods}工厂价{#else}考拉价{/if}&ensp;￥{price.currentPrice|decimal:2,true}</span>\n            {/if}\n\n        {! 显示会员价 !}\n        {#elseif isVipUserAndMemberPrice}\n            {#if !!newUserMemberPriceImg}\n                <img src="{newUserMemberPriceImg}" class="vipredimg" />\n            {#else}\n                {#if !!isBlackVipUser}<span class="vipmembertxt normalprice">会员价</span>{/if}\n                {#if !!isRedVipUser && !vipRedPriceImg}<span class="vipmembertxt {!!isRedVipUser ? \'vipredprice\' : \'normalprice\'}">会员价</span>{/if}\n                {#if !!isRedVipUser && !!vipRedPriceImg}<img src="{vipRedPriceImg}" class="vipredimg" /> {/if}\n            {/if}\n            {#if onlineStatus === 1}\n                <span class="PInfo_r vipmemberprice {!!isRedVipUser ? \'vipredprice\' : \'normalprice\'}"><span class="rmb">¥</span>{price.mainPrice | decimal:2,true}</span>{#if isDiffMemberPrice}<span class="vipmembertxt {!!isRedVipUser ? \'vipredprice\' : \'normalprice\'}">起</span>{/if}\n            {#else}\n                <span class="PInfo_r vipmemberprice"><span class="rmb">¥</span>暂无报价</span>\n            {/if}\n            \n            {#if price.currentPrice | isPrice}\n                <span class="kaolaprice">{#if isFactoryGoods}工厂价{#else}考拉价{/if}&ensp;￥{price.currentPrice|decimal:2,true}</span>\n            {/if}\n        {#else}\n            {! 价格 !}\n            {#if onlineStatus === 1}\n                {#if type === C.DEPOSIT_TYPE}\n                <span class="PInfo_r currentPrice">\n                    ¥<span>{price.mainPrice|decimal:2,true}</span>{#if currentPromotion.handPriceSuffix}<span class="curpricetxt">{currentPromotion.handPriceSuffix}</span>{/if}\n                </span>\n                {#elseif (type === C.SECKILL_TYPE && step === C.SECKILL_STEP.DOING) || (type === C.TEMAI_TYPE && step === C.TEMAI_TYPE.DOING) }\n                <span class="PInfo_r currentPrice">¥<span>{price.mainPrice|decimal:2,true}</span>{#if isDiffPromotionPrice}<span class="curpricetxt">起</span>{/if}</span>\n                {#else}\n                <span class="PInfo_r currentPrice">¥<span>{price.mainPrice|decimal:2,true}</span>{#if price.isDiffCurPrice}<span class="curpricetxt">起</span>{/if}</span>\n                {/if}\n            {#else}\n                <span class="PInfo_r currentPrice">¥<span>暂无报价</span></span>\n            {/if}\n        {/if}\n\n        {! 定金预付 !}\n        {#if type === C.DEPOSIT_TYPE}\n            {#if currentPromotion.combineDesc}\n                <span class="m-memberLabel">{currentPromotion.combineDesc}</span>\n            {/if}\n            {#if currentPromotion.taxAndDeliveryDesc}\n                <span class="kaolaprice">{currentPromotion.taxAndDeliveryDesc}</span>\n            {/if}\n\n        {#else}\n            {! 标签 !}\n            {#if newLabelSwitch}\n                {#list price.promotionTag as tag}\n                    <span class="m-memberLabel" r-html={tag}></span>\n                {/list}\n\n            {#else}\n                {#if @(notSaleGoods)} {! 非卖品标签 !}\n                    <span class="m-memberLabel">非卖品</span>\n                {#elseif onlineStatus === 1}\n                    {! 虚拟组合商品(几件装) > 折扣，并且两者互斥 !}\n                    {#if price.tagType == 1 && !!combineInfo && !!combineInfo.price}\n                        <span class="m-memberLabel j-memberlabel">\n                        折合单<span class="unit">{combineInfo.unit||\'件\'}</span> ¥<span class="fbold">{combineInfo.price|decimal:2,false}</span>\n                        </span>\n                    {/if}\n\n                    {! 虚拟组合商品(几斤装) > 折扣，并且两者互斥 !}\n                    {#if price.tagType == 3 && !!goodsCatty && goodsCatty > 1}\n                        <span class="m-memberLabel j-memberlabel">\n                        折合单<span class="unit">斤</span>约 ¥<span class="fbold">{(price.mainPrice/goodsCatty)|decimal:2,false}</span>\n                        </span>\n                    {/if}\n\n                    {#list price.promotionTag as tag}\n                        <span class="m-memberLabel" r-html={tag}></span>\n                    {/list}\n\n                    {! 参考价可以展示(看下方的参考价的展示判断逻辑) or 非会员  时展示折扣!}\n                    {#if price.tagType == 2 && price.discount && (!vipUser || (price.marketPrice && !isVipUserAndMemberPrice)) && !isShowNewUserPrice}\n                        <span class="m-memberLabel">{price.discount}</span> {! 显示折扣 !}\n                    {/if}\n                    \n                    {! 包邮标识 !}\n                    {#if @(!!baoyouTipSwitch && !!postageFree)}\n                        <span class="m-memberLabel">包邮</span>\n                    {/if}\n                {/if}\n            {/if}\n\n            {! 参考价 !}\n            {#if price.marketPrice && !isVipUserAndMemberPrice && !isShowNewUserPrice}\n            <span class="PInfo_r marketPrice addprice j-marketprice">\n                参考价&nbsp;&nbsp;¥<span>{price.marketPrice|decimal:2,true}</span>\n            </span>\n            {/if}\n\n        {/if}\n    </div>\n</div>\n\n{! 定金预付 !}\n{#if type === C.DEPOSIT_TYPE}\n    {! 有抵扣金额 !}\n    {#if currentPromotion.deductionPrice}\n        <div class="m-deposit-totalprice">\n            <span class="m-line-title">考拉价</span>\n            <span class="totalprice"><span class="icon">￥</span>{currentPromotion.totalDepositPrice || \'\'}<span class="suffix">{#if currentPromotion.handPriceSuffix}{currentPromotion.handPriceSuffix}{/if}</span></span>\n            <span class="deduction">付定金立减<span class="deductionprice">{currentPromotion.deductionPrice}</span>元</span>\n        </div>\n    {/if}\n{/if}\n'},function(t,e){t.exports='{#if show && onlineStatus === 1}\n\n{! 预付定金 !}\n{#if type === C.DEPOSIT_TYPE}\n<dd class="m-deposit-bar">\n    <div class="depositwrap">\n        <div class="left">\n            <span class="tit">预付定金</span>\n            {#if currentPromotion.totalDepositBuyCount >= 0}\n            <span class="paydesc">\n                已定<i class="num">{currentPromotion.totalDepositBuyCount}</i>件\n                {#if currentPromotion.depositLimitPattern && currentPromotion.totalDepositLimitBuyCount}\n                    （限量<i class="num">{currentPromotion.totalDepositLimitBuyCount}</i>件）\n                {/if}\n            </span>\n            {/if}\n        </div>\n        {! step>C.DEPOSIT_STEP.TODAY，预付定金预付阶段结束 !}\n        <div class="right" r-class="{{\'z-finished\': step > C.DEPOSIT_STEP.TODAY}}">\n            <span class="iconfont icon-wait"></span>\n            <span class="timewrap">\n                {#if step === C.DEPOSIT_STEP.MONTH}\n                    <span class="date">{currentPromotion.depositEndTime|format:\'yyyy年MM月dd日\'}</span>&ensp;<span class="time">{currentPromotion.depositEndTime|format:\'HH:mm\'}</span>&emsp;结束\n\n                {#elseif step === C.DEPOSIT_STEP.TOMORROW}\n                    <span class="txt">明日</span>&ensp;<span class="time">{currentPromotion.depositEndTime|format:\'HH:mm\'}</span>&emsp;结束\n\n                {#elseif step === C.DEPOSIT_STEP.TODAY}\n                    <span class="txt">距结束</span>&ensp;<span class="countdown">{countdown.leftTimeShow|leftTime:\'hh:mm:ss\'}</span>\n\n                {#elseif step === C.DEPOSIT_STEP.DONE_MONTH}\n                    <span class="date">{currentPromotion.payStartTime|format:\'yyyy年MM月dd日\'}</span>&ensp;<span class="time">{currentPromotion.payStartTime|format:\'HH:mm\'}起</span>&emsp;付全款\n\n                {#elseif step === C.DEPOSIT_STEP.DONE_TOMORROW}\n                    <span class="txt">明日</span>&ensp;<span class="time">{currentPromotion.payStartTime|format:\'HH:mm\'}起</span>&emsp;付全款\n                    \n                {#elseif step === C.DEPOSIT_STEP.DONE_TODAY}\n                    <span class="txt">距付全款</span>&ensp;<span class="countdown">{countdown.leftTimeShow|leftTime:\'hh:mm:ss\'}</span>\n                {/if}\n            </span>\n        </div>\n    </div>\n</dd>\n{/if}\n\n{! 定时售卖 !}\n{#if type === C.TIMINE_SALE_TYPE}\n<dd class="m-xianshi m-timingsale">\n    <div class="m-xianshi-cnt xianshi-red">\n        <div class="m-xianshi-banner fl">\n            <span class="left-circle"></span><span class="u-title">开售预告</span><span class="right-circle"></span>\n        </div>\n        {#if step < C.TIMGINE_SALE_STEP.IN10}\n        <div class="u-xianshi-counter fl">\n            {#if step === C.TIMGINE_SALE_STEP.MONTH}\n                <span class="time">{currentPromotion.timingSaleTime|format:\'yyyy年MM月dd日\'}&ensp;</span>\n            {#elseif step === C.TIMGINE_SALE_STEP.TOMORROW}\n                <span class="time">明日&ensp;</span>\n            {#elseif step === C.TIMGINE_SALE_STEP.TODAY}\n                <span class="time">今日&ensp;</span>\n            {/if}\n            <span class="time">{currentPromotion.timingSaleTime|format:\'HH:mm\'}</span>开售，敬请期待\n            <a href="javascript:void(0)" class="xianshi-link" on-click="{this.remindTimingSale(currentPromotion)}">\n                <span>设置开售提醒</span>\n                <span class="u-dots fr">\n                <i class="dot1"></i><i class="dot2"></i><i class="dot3"></i><i class="dot4"></i><i class="dot5"></i>\n                </span>\n            </a>\n        </div>\n        {#elseif step === C.TIMGINE_SALE_STEP.IN10}\n        <div class="u-xianshi-counter fl">\n            <span class="time">今日&ensp;</span>\n            <span class="time">{currentPromotion.timingSaleTime|format:\'HH:mm\'}</span>开售\n            <div class="counter-right">\n                <span>距开售</span>\n                <span class="num">{countdown.leftTimeShow|leftTime:\'hh:mm:ss\'}</span>\n            </div>\n        </div>\n        {/if}\n    </div>\n</dd>\n{/if}\n\n{! 大促预告 !}\n{#if type === C.PRO_TYPE}\n{#if !!currentPromotion.promotionTagImgUrl && !!currentPromotion.texts.length}\n<dd class="m-promotionbar" \n    r-style={{\'background\': currentPromotion.promotionBgImgUrl ? \'url(\'+ (currentPromotion.promotionBgImgUrl|noProtocol) +\') no-repeat\' : \'#E31436\' }}>\n    <p class="clearfix">\n        <img class="premain fl" src="{ (currentPromotion.promotionTagImgUrl || \'\')|noProtocol }">\n        {#list currentPromotion.texts as text}\n            <span class="preslogan {text.type}">{text.txt || \'\'}\n            </span>\n        {/list}\n        <div class="prelimit prelimit_txt_{!!currentPromotion.limitTxt ? 2 : 1}">\n            <p class="txt">{currentPromotion.startTime|format: \'M月d日 HH:mm\'}开抢</p> \n            {#if !!currentPromotion.limitTxt}\n            <p class="txt">{currentPromotion.limitTxt}</p>\n            {/if}\n        </div>\n    </p>\n</dd>\n{/if}\n{/if}\n\n{! 大促进行期间 !}\n{#if type === C.PRO_DOING_TYPE}\n<dd class="m-promotionbar z-doing" r-style={{\'background\': currentPromotion.bgImgUrl ? \'none\' : \'#ea2650\' }}>\n    <div class="clearfix">\n        <img class="main fl" src="{ (currentPromotion.ptTagUrl || \'\')|noProtocol }">\n        <span class="sloganwrap">\n            {#list currentPromotion.activityAreaLabels as text}\n                <span class="slogan">{text || \'\'}</span>\n            {/list}\n        </span>\n\n        <a class="morelink fr"\n            href="{ currentPromotion.linkUrl ? (currentPromotion.linkUrl|noProtocol) : \'javascript:void(0);\' }" target="_blank">\n            <span class="num">距结束还剩</span>\n            {#if step === C.PRO_DOING_STEP.DAY}\n                <span class="num day">{countdown.leftTimeShow|leftTime:\'dd\'}天</span>\n            {/if}\n            {#if step === C.PRO_DOING_STEP.DAY || step === C.PRO_DOING_STEP.HOUR}\n                <span class="num hour">{countdown.leftTimeShow|leftTime:\'hh\'}:</span>\n            {/if}\n            <span class="num min">{countdown.leftTimeShow|leftTime:\'mm\'}:</span>\n            <span class="num sec">{countdown.leftTimeShow|leftTime:\'ss\'}</span>\n            {#if step === C.PRO_DOING_STEP.MINUTE}\n                <span class="num milsec">:{countdown.leftTimeShow|leftTime:\'ms\'}</span>\n            {/if}\n            {#if !!currentPromotion.linkUrl}\n                &nbsp;<i class="right_icon iconfont icon-arrow-right"></i>\n            {/if}\n        </a>\n\n        {! 背景图 !}\n        {#if currentPromotion.bgImgUrl}\n            <img class="mainbg fl" src="{ currentPromotion.bgImgUrl|noProtocol }">\n        {/if}\n    </div>\n</dd>\n{/if}\n\n{! 秒杀 !}\n{#if type === C.SECKILL_TYPE}\n<dd class="m-xianshi">\n    <div class="m-xianshi-cnt"\n            r-class="{{\n            \'xianshi-blue\':step<C.SECKILL_STEP.DOING,\'xianshi-red\':step==C.SECKILL_STEP.DOING,\'xianshi-grey\':step>C.SECKILL_STEP.DOING,\'xianshi-counting\':step==C.SECKILL_STEP.IN5||step==C.SECKILL_STEP.DOING\n            }}">\n        <div class="m-xianshi-banner fl">\n            <span class="left-circle"></span><span class="u-title">秒杀</span><span class="right-circle"></span>\n        </div>\n        {#if step <= C.SECKILL_STEP.IN15}\n        <div class="u-xianshi-counter fl" ref="in15min">\n            秒杀价<span class="price">￥{currentPromotion.seckillPrice|decimal:2,false}{#if currentPromotion.isDiffPromotionPrice}起{/if}</span>，\n\n            {#if !!currentPromotion.limitStore && currentPromotion.limitStore > 0}\n            <span>限<i class="storenum">{currentPromotion.limitStore}</i>件，</span>\n            {/if}\n\n            {#if step === C.SECKILL_STEP.MONTH}\n            <span class="time j-time">{currentPromotion.startMills|format:\'MM月dd日HH:mm\'}</span>开始秒杀\n\n            {#elseif step === C.SECKILL_STEP.TOMORROW}\n            <span class="time j-time">明日{currentPromotion.startMills|format:\'HH:mm\'}</span>开始秒杀\n\n            {#elseif step === C.SECKILL_STEP.TODAY || step === C.SECKILL_STEP.IN15}\n            <span class="time j-time">{currentPromotion.startMills|format:\'HH:mm\'}</span>开始秒杀\n            {/if}\n            {#if step < C.SECKILL_STEP.IN15}\n            <a href="javascript:void(0)" class="xianshi-link" on-click="{this.remindSeckill(currentPromotion)}">\n                <span>设置开抢提醒</span>\n                <span class="u-dots fr">\n                    <i class="dot1"></i><i class="dot2"></i><i class="dot3"></i><i class="dot4"></i><i class="dot5"></i>\n                </span>\n            </a>\n            {/if}\n        </div>\n        {#elseif step == C.SECKILL_STEP.IN5}\n        <div class="u-xianshi-counter fl">\n            秒杀价<span class="price">￥{currentPromotion.seckillPrice|decimal:2,false}</span>，\n\n            {#if !!currentPromotion.limitStore && currentPromotion.limitStore > 0}\n            <span>限<i class="storenum">{currentPromotion.limitStore}</i>件，</span>\n            {/if}\n\n            <span class="num min">{countdown.leftTimeShow|leftTime:\'mm\'}</span>分\n            <span class="num min">{countdown.leftTimeShow|leftTime:\'ss\'}</span>秒\n            <span class="num min">{countdown.leftTimeShow|leftTime:\'ms\'}</span>后开始秒杀\n        </div>\n        {#elseif step == C.SECKILL_STEP.DOING}\n        <div class="u-xianshi-counter fl">\n            该商品距秒杀结束还剩：\n            {#if countdown.hasDay}\n            <span class="num day">{countdown.leftTimeShow|leftTime:\'dd\'}</span><span class="dayw">天</span>\n            {/if}\n            <span class="num hour">{countdown.leftTimeShow|leftTime:\'hh\'}</span>时\n            <span class="num min">{countdown.leftTimeShow|leftTime:\'mm\'}</span>分\n            <span class="num sec">{countdown.leftTimeShow|leftTime:\'ss\'}</span>秒\n            <span class="num milsec">{countdown.leftTimeShow|leftTime:\'ms\'}</span>\n\n            {#if !!currentPromotion.limitStore && currentPromotion.limitStore > 0}\n            <span class="storetxt">限{currentPromotion.limitStore}件</span>\n            {/if}\n        </div>\n        {#elseif step == C.SECKILL_STEP.NO_GOODS}\n        <div class="u-xianshi-counter fl">\n            您来晚啦！秒杀已结束\n            {#if currentPromotion.pcLandingPage}\n            <div class="j-seckill-landingPage">\n                <a href="{currentPromotion.pcLandingPage || \'javascript:void(0)\'}" class="other-seckills" target="_blank">\n                    <span>围观其他秒杀活动</span>\n                    <span class="u-dots fr">\n                        <i class="dot1"></i><i class="dot2"></i><i class="dot3"></i><i class="dot4"></i><i class="dot5"></i>\n                    </span>\n                </a>\n            </div>\n            {/if}\n        </div>\n        {/if}\n    </div>\n</dd>\n{/if}\n\n{! 特卖/限时购 !}\n{#if type === C.TEMAI_TYPE}\n<dd class="m-xianshi">\n    <div class="m-xianshi-cnt"\n            r-class="{{\n            \'xianshi-blue\':step<C.TEMAI_STEP.DOING,\'xianshi-red\':step==C.TEMAI_STEP.DOING,\'xianshi-grey\':step>C.TEMAI_STEP.DOING,\'xianshi-counting\':step==C.TEMAI_STEP.IN5||step==C.TEMAI_STEP.DOING\n            }}">\n        <div class="m-xianshi-banner f-fl f-cb">\n            <span class="left-circle f-fl"></span>\n            {#if currentPromotion.promotionTitle}\n                <span class="u-title f-fl" r-html="{currentPromotion.promotionTitle}"></span>\n            {/if}\n            <span class="right-circle f-fl"></span>\n        </div>\n        {#if step <= C.TEMAI_STEP.IN15}\n        <div class="u-xianshi-counter fl">\n            {#if currentPrice && currentPromotion.activityPrice < currentPrice}\n                抢购价<span class="price">￥{currentPromotion.activityPrice|decimal:2,true}{#if currentPromotion.isDiffPromotionPrice}起{/if}</span>，\n            {/if}\n            {#if !!currentPromotion.limitStore && currentPromotion.limitStore > 0}\n            <span class="storenum">限{currentPromotion.limitStore}件，</span>\n            {/if}\n            {#if step === C.TEMAI_STEP.MONTH}\n            <span class="time j-time">{currentPromotion.startMills|format:\'MM月dd日HH:mm\'}</span>开始抢购\n\n            {#elseif step === C.TEMAI_STEP.TOMORROW}\n            <span class="time j-time">明日{currentPromotion.startMills|format:\'HH:mm\'}</span>开始抢购\n\n            {#elseif step === C.TEMAI_STEP.TODAY || step === C.TEMAI_STEP.IN15}\n            <span class="time j-time">今日{currentPromotion.startMills|format:\'HH:mm\'}</span>开始抢购\n            {/if}\n\n            {! 限时购不显示‘开抢提醒’，只有特卖显示，由后台开关控制 !}\n            {#if specialSaleRemindSwitch && currentPromotion.tabId && step < C.TEMAI_STEP.IN15 && currentPromotion.remindMsg && currentPromotion.temaiType !== 2}\n            <a href="javascript:void(0)" class="remind"\n                on-click="{this.remindSeckill(currentPromotion)}">{currentPromotion.remindMsg}</a>\n            {/if}\n            {#if !!currentPromotion.urlMsg && !!currentPromotion.pcActivitUrl}\n            <a href="{currentPromotion.pcActivitUrl|addParam:\'zn\',\'title\'}" class="xianshi-link" target="_blank">\n                <span>{currentPromotion.urlMsg}</span>\n                <span class="u-dots fr">\n                    <i class="dot1"></i><i class="dot2"></i><i class="dot3"></i><i class="dot4"></i><i class="dot5"></i>\n                </span>\n            </a>\n            {/if}\n        </div>\n        {#elseif step == C.TEMAI_STEP.IN5}\n        <div class="u-xianshi-counter fl">\n            {#if currentPrice && currentPromotion.activityPrice < currentPrice}\n                抢购价<span class="price">￥{currentPromotion.activityPrice|decimal:2,true}</span>，\n            {/if}\n            {#if !!currentPromotion.limitStore && currentPromotion.limitStore > 0}\n            <span class="storenum">限{currentPromotion.limitStore}件，</span>\n            {/if}\n            \n            <span class="num min">{countdown.leftTimeShow|leftTime:\'mm\'}</span>分\n            <span class="num sec">{countdown.leftTimeShow|leftTime:\'ss\'}</span>秒\n            <span class="num milsec">{countdown.leftTimeShow|leftTime:\'ms\'}</span>\n            后开始抢购\n            {#if !!currentPromotion.urlMsg && !!currentPromotion.pcActivitUrl}\n            <a href="{currentPromotion.pcActivitUrl|addParam:\'zn\',\'title\'}" class="xianshi-link" target="_blank">\n                <span>{currentPromotion.urlMsg}</span>\n                <span class="u-dots fr">\n                    <i class="dot1"></i><i class="dot2"></i><i class="dot3"></i><i class="dot4"></i><i class="dot5"></i>\n                </span>\n            </a>\n            {/if}\n        </div>\n        {#elseif step == C.TEMAI_STEP.DOING}\n        <div class="u-xianshi-counter fl">\n            该商品距结束还剩：\n            {#if countdown.hasDay}\n            <span class="num day">{countdown.leftTimeShow|leftTime:\'dd\'}</span><span class="dayw">天</span>\n            {/if}\n            <span class="num hour">{countdown.leftTimeShow|leftTime:\'hh\'}</span>时\n            <span class="num min">{countdown.leftTimeShow|leftTime:\'mm\'}</span>分\n            <span class="num sec">{countdown.leftTimeShow|leftTime:\'ss\'}</span>秒\n            <span class="num milsec">{countdown.leftTimeShow|leftTime:\'ms\'}</span>\n\n            {#if !!currentPromotion.limitStore && currentPromotion.limitStore > 0}\n            <span class="storetxt">限{currentPromotion.limitStore}件</span>\n            {/if}\n\n            {#if !!currentPromotion.urlMsg && !!currentPromotion.pcActivitUrl}\n            <a href="{currentPromotion.pcActivitUrl|addParam:\'zn\',\'title\'}" class="xianshi-link" target="_blank">\n                <span>{currentPromotion.urlMsg}</span>\n                <span class="u-dots fr">\n                    <i class="dot1"></i><i class="dot2"></i><i class="dot3"></i><i class="dot4"></i><i class="dot5"></i>\n                </span>\n            </a>\n            {/if}\n        </div>\n        {/if}\n    </div>\n</dd>\n{/if}\n\n{/if}'},function(t,e){t.exports='{!\n    服务栏\n    展示条件：未下架 & 不是非卖品\n!}\n\n{#if onlineStatus == 1 && !notSaleGoods}\n\n{! hk站药品，预计送达时间配置为不显示时(jit预售)，整个服务行隐藏 !}\n{!  - 1.非自营（pop店）无预计送达时间(jit预售)，因此也不显示 !}\n{!  - 2.次日达/当日达跟是否显示无关 !}\n<dd class="m-service f-cb" r-class="{{\'f-hkdn\': !deliverTimeStr || !selfGoods}}">\n    <span class="m-line-title f-fl">服务</span>\n    {! 自营 !}\n    {#if selfGoods}\n    <span class="send">本商品由&ensp;{warehouseNameAlias||\'\'}&ensp;发货</span>\n\n    {! 非自营（pop店） !}\n    {#else}\n    <span class="send">\n        本商品由&ensp;\n        {#if shopHref && shopName} {! pop商家（已开店铺） !}\n            <a class="shopname" target="_blank" href="{shopHref}">{shopName}</a>\n        {#else} {! pop商家（未开店铺） !}\n            {warehouseNameAlias||\'\'}\n        {/if}\n        &ensp;发货\n    </span>\n    {/if}\n\n    <div style="padding-left:85px">\n        {#if postageTraceItemList && postageTraceItemList.length}\n            <ul class="m-postage-list">\n                {#list postageTraceItemList as item}\n                    <li class="postage-item">\n                        <img class="postage-img" src={item.icon || \'\'} alt="" />\n                        <p class="postage-title" title="{item.contentPrefix || \'\'}{item.contentSuffix || \'\'}"><span class="m-tit">{item.contentPrefix || \'\'}{item.contentSuffix || \'\'}</span></p>\n                        {#if item_index != postageTraceItemList.length - 1}\n                            <span class="postage-line" r-class="{{ \'active\': item_index === 0 }}"></span>\n                        {/if}\n                    </li>\n                {/list}\n            </ul>\n        {/if}\n    </div>\n    {#if !preSale}\n        {! jit预售 (非自营无jit预售) !}\n        {#if !!deliverTimeStr && selfGoods}\n        <div class="tomorrowarr f-fc">\n            <span class="m-line-title f-fl">&ensp;</span>\n            24:00前完成支付，预计{deliverTimeStr || \'\'}个工作日发货\n        </div>\n\n        {! 物流时效 !}\n        {#elseif tomorrowArrival.status != 0}\n        <div class="tomorrowarr f-fc j-tomorrowArrival" r-hide="{!tomorrowArrival.show}">\n            <span class="m-line-title f-fl">&ensp;</span>\n\n            {! tomorrowArrival.status : 0无 1次日达 2次日达的下一天 3物流时效 4物流时效-海外仓 5当日达 6当日达中的下一天 7大促物流时效 !}\n            {! 1次日达 & 6当日达中的下一天 !}\n            {#if tomorrowArrival.status == 1 || tomorrowArrival.status == 6}\n                <span>所选地区支持</span>\n                <a target="_blank" href="{kaolaDomain}footer/deliveryservice.shtml#tomorrowArrival">\n                    <img class="tomorrowIcon" src="//haitao.nos.netease.com/6c1f4a39-4e15-4416-80a7-d7fad5a576da.png" alt="次日达">\n                </a>\n                <span>{tomorrowArrival.divisionTimeStr || \'\'}前完成支付，预计</span>\n                <span class="f-bold">{tomorrowArrival.arrivalTimeStr || \'\'}</span>\n                <span>送达</span>\n                <a target="_blank" class="detail" href="{kaolaDomain}footer/deliveryservice.shtml#tomorrowArrival">详情</a>\n                \n            {! 2次日达的下一天 !}\n            {#elseif tomorrowArrival.status == 2}\n                <span>{tomorrowArrival.divisionTimeStr || \'\'}前完成支付，预计</span>\n                <span class="f-bold">{tomorrowArrival.arrivalTimeStr || \'\'}</span>\n                <span>送达</span>\n                <a target="_blank" class="detail" href="{kaolaDomain}footer/deliveryservice.shtml#tomorrowArrival">详情</a>\n\n            {! 3物流时效 !}\n            {#elseif tomorrowArrival.status == 3}\n                <span>{tomorrowArrival.divisionTimeStr || \'\'}前完成支付，预计</span>\n                <span class="f-bold">{tomorrowArrival.arrivalTimeStr || \'\'}</span>\n                <span>送达</span>\n\n            {! 4物流时效-海外仓 !}\n            {#elseif tomorrowArrival.status == 4}\n                <span>{tomorrowArrival.overSeaTimelinessStr || \'\'}</span>\n                \n            {! 5当日达 !}\n            {#elseif tomorrowArrival.status == 5}\n                <span>所选地区支持</span>\n                <a target="_blank" href="{kaolaDomain}footer/deliveryservice.shtml">\n                    <img class="todayIcon" src="//haitao.nos.netease.com/31ee314f-a8ce-43aa-83b1-2d84fafc4cfb.png" alt="当日达">\n                </a>\n                <span>{tomorrowArrival.divisionTimeStr || \'\'}前完成支付，预计</span>\n                <span class="f-bold">{tomorrowArrival.arrivalTimeStr || \'\'}</span>\n                <span>送达</span>\n                <a target="_blank" class="detail" href="{kaolaDomain}footer/deliveryservice.shtml">详情</a>\n\n            {! 7大促物流时效 !}\n            {#elseif tomorrowArrival.status == 7}\n                <span>{tomorrowArrival.promotionDeliverStr || \'\'}</span>\n\n            {/if}\n            \n        </div>\n        {/if}\n    {/if}\n\n</dd>\n{/if}'},function(t,e){t.exports='{! sku属性 !}\n{#if onlineStatus == 1 && !notSaleGoods}\n\n<dd class="buyBox j-skubox" id="js_skuBox" r-class="{{\'nosku\': skuPropertyList.length == 0}}">\n\n{#if skuPropertyList.length > 0}\n\n<div class="skuWrap" id="j_skuwrap" r-class="{{\'errBox\': noSelectSkuError}}">\n    {#list skuPropertyList as sku}\n    <div class="skuBox clearfix"\n        r-class="{{\'first-skubox\': sku_index == 0, \'last-skuBox\': !sku[sku_index+1]}}">\n        <span class="m-line-title fl"\n            r-class="{{\'m-line-am-54\': !!sku.hasImg, \'m-line-am-34\': !sku.hasImg}}">{sku.propertyName}</span>\n\n        <div class="valueBox">\n            <ul class="clearfix">\n                {#list sku.skuPropertyValueList as value}\n\n                    {#if value.hasImg}\n                    <li title="{value.showMsg || \'\'}" class="imgbox"\n                        on-click="{this.trigger(value.propertyValueId)}"\n                        data-vid={value.propertyValueId}\n                        r-class="{{\'selectedLi\': this.hasSelected(value.propertyValueId),\n                            \'disabledLi\': !this.hasVid(value.propertyValueId),\n                            \'stockout\': this.isStockOut(value.propertyValueId)}}">\n                        <a href="javascript:void(0);" hidefocus="true">\n                            <img src="{value.imageUrl|imgThumbnailUrl:50}" alt="" width="50" height="50" border="0" />\n                            {#if !!value.note}\n                            <span class="note"><i class="arrowup"></i>{value.note}</span>\n                            {/if}\n                        </a>\n                        <i>\n                            <span class="icon-checked"></span>\n                        </i>\n                    </li>\n\n                    {#else}\n                    <li on-click="{this.trigger(value.propertyValueId)}"\n                        data-vid={value.propertyValueId}\n                        r-class="{{\'selectedLi\': this.hasSelected(value.propertyValueId),\n                            \'disabledLi\': !this.hasVid(value.propertyValueId),\n                            \'stockout\': this.isStockOut(value.propertyValueId)}}">\n                        <a href="javascript:void(0);" hidefocus="true">\n                            <span>{value.showMsg || \'\'}</span>\n                            {#if !!value.note}\n                            <span class="note"><i class="arrowup"></i>{value.note}</span>\n                            {/if}\n                        </a>\n                        <i>\n                            <span class="icon-checked"></span>\n                        </i>\n                    </li>\n                    {/if}\n                {/list}\n                \n                {#list sku.skuPropertyValueList as value}\n                    <li class="selectedImgDesc"\n                        r-class="{{\'show\': value.hasImg && value.showMsg && this.hasSelected(value.propertyValueId)}}">\n                        <p class="selectedImgTit">已选择</p>\n                        <p class="selectedDesc">{value.showMsg || \'\'}</p>\n                    </li>\n                {/list}\n\n            </ul>\n        </div>\n\n        {#if sku.propertyName === \'尺码\' && sizeChartImageUrlList.length > 0}\n            <a class="sizechartdetail" on-click="{this.showSizeInfo()}">查看尺码表</a>\n        {/if}\n\n    </div>\n    {/list}\n\n    <div class="clearfix errTip">\n        <span class="m-line-title fl"></span>\n        <div class="valueBox">\n            <i class="sign sign-alert icon-emotion-hollow2"></i>\n            <span>哎哟，规格还没选好呢...</span>\n        </div>\n    </div>\n</div>\n\n{/if}\n    \n</dd>\n\n{/if}'},function(t,e){t.exports='{! 不良品 !}\n{#if specialGoodsTag && specialGoodsDescription}\n<div class="f-cb m-specialgoods">\n    <span class="m-line-title m-price-title f-fl">{specialGoodsTag}</span>\n    <div class="m-line-desc desc f-fl">{specialGoodsDescription}</div>\n</div>\n{/if}'},function(t,e){t.exports='{! 税费栏 !}\n\n{! 虚拟商品不显示税费 !}\n{#if !hide}\n\n<dd class="m-taxrateline f-cb m-taxrateline-2">\n    <span class="m-line-title f-fl">税费</span>\n\n    <div class="descwrap f-fl">\n\n        {! 税费补贴，非卖品不显示 !}\n        {#if skuTaxInfoPc.taxFeeTitle && !notSaleGoods}\n            <div class="m-zd-prt subsidy">\n                <span class="m-dp-prt-title">{skuTaxInfoPc.taxFeeTitle}</span>\n                <span class="m-zd-prt-desc ellipsis">\n                    {#if !!skuTaxInfoPc.taxFeeUrl}\n                    <a href="{skuTaxInfoPc.taxFeeUrl}">\n                        <span>{skuTaxInfoPc.taxFeeContent || \'\'}</span>\n                    </a>\n                    {#else}\n                    <span>{skuTaxInfoPc.taxFeeContent || \'\'}</span>\n                    {/if}\n                </span>\n            </div>\n\n            {!\n            <div class="taxmsg">\n                <span><b class="warn">【{skuTaxInfoPc.taxFeeTitle}】</b>{skuTaxInfoPc.taxFeeContent || \'\'}</span>\n            </div>\n            !}\n        {/if}\n\n        {! 税费信息 !}\n        {#if skuTaxInfoPc.taxAmount}\n        <div class="taxmsg">\n\n            预估￥<b>{skuTaxInfoPc.taxAmount|decimal:2,false,2}</b>，实际税费请以提交订单时为准\n            <span class="skutaxdesc">\n                <span class="maintext">\n                税费收取规则\n                <span class="tri_up iconfont icon-triup"></span>\n                <span class="tri_down iconfont icon-tridown"></span>\n                </span>\n                <span class="desc">\n                {#if skuTaxInfoPc.specificDutyGoods}\n                税费=增值税*70%+消费税*70%+关税（0）<br>\n                优惠券抵扣金额、商品运费均需要计税<br>\n                本品适用从量计征进口环节消费税，<a href="{kaolaDomain}footer/tariff.shtml?zn=title#Q5" target="_blank">了解规则</a>\n                {#else}\n                <a href="{kaolaDomain}footer/tariff.shtml#Q4" target="_blank">税费=购买单价 * 件数 * 税负率</a><br>\n                优惠券抵扣金额、商品运费均需要计税<br>\n                注：不同商品的适用税负率不同，<a href="{kaolaDomain}footer/pricelist.shtml" target="_blank">了解税率</a>\n                {/if}\n                </span>\n            </span>\n\n        </div>\n        {/if}\n\n    </div>\n\n</dd>\n{/if}'},function(t,e){t.exports='<dt class="PTags f-hkdn">\n    {! 全球超市标识 !}\n    {#if title.kaolaSuperMarket}\n        <i class="markettag tag">全球超市</i>\n    {/if}\n\n    {! 自营标识 !}\n    {#if title.needSelfTag}\n        {! 自营+品牌直采 !}\n        {#if title.brandAuth}\n            <i class="selftag z-long tag">\n                <span class="tag-left">自营</span>\n                <span class="tag-mid">|</span>\n                <span class="tag-right">品牌直采</span>\n            </i>\n        {#else}\n            <i class="selftag tag">自营</i>\n        {/if}\n    {/if}\n\n    {! 跨境标识 !}\n    {#if title.crossBorder}\n        <i class="crosstag tag">跨境</i>\n    {/if}\n\n    {! 跨境标识 !}\n    {#if title.overSea}\n        <i class="crosstag tag">海外</i>\n    {/if}\n</dt>\n\n{! 品牌国 !}\n<dt class="orig-country">\n    <img src="{(brandOriginCountryFlag||\'\')|imgThumbnailUrl:48}">\n    <span>{brandOriginCountryName||\'\'}</span>\n    <span class="split">|</span>\n\n    {! hk药品 !}\n    {#if hkMedicine}\n        <span class="brand">{hkMedicine||\'\'}</span>\n    {#else}\n        <a class="brand" target="_blank" href="{kaolaDomain}brand/{(title.brandId||\'\')}.html">{(title.brandName||\'\')}</a>\n    {/if}\n</dt>\n\n{! 主副标题 !}\n<dt class="product-title">\n    {! 组合商品，异步 !}\n    {#if combineInfoTitle}\n        <span class=\'member-lbl\'>{combineInfoTitle || \'\'}</span>&ensp;|&ensp;\n    {#elseif !!goodsCatty && goodsCatty > 0}\n        <span class=\'member-lbl\'>{goodsCatty}斤装</span>&ensp;|&ensp;\n    {/if}\n    <span r-html="{(title.title||\'\')|replacestr:\'\\\\s+\',\'&nbsp;\'}"></span>\n</dt>\n{#if title.subTitle}\n    <dt class="subTit" r-html="{(title.subTitle||\'\')|replacestr:\'\\\\s+\',\'&nbsp;\'}"></dt>\n{/if}'},function(t,e){t.exports='{#if vipLayoutInfo && vipLayoutInfo.iconImg}\n<div class="m-vipmember">\n    <div class="msg">\n        <img class="vicon" src="{vipLayoutInfo.iconImg | imgThumbnailUrl:0,34,90}" alt="">\n        <span class="vtxt" r-html={(vipLayoutInfo.mainText || \'\') | fontcolor}></span>\n        {#if vipLayoutInfo.pointIcon && !!vipLayoutInfo.saveDetailInfo && !!vipLayoutInfo.saveDetailInfo.length}\n            <i class="tipicon iconfont icon-emotion-hollow"\n                on-mouseenter="{this.showHoverTip(vipLayoutInfo, $event)}"\n                on-mouseleave="{this.hideHoverTip(vipLayoutInfo)}"></i>\n        {/if}\n    </div>\n    <div class="msg">\n        <img style="visibility: hidden" class="vicon" src="{vipLayoutInfo.iconImg | imgThumbnailUrl:0,34,90}" alt="">\n        <span class="vtxt z-grey" r-html={(vipLayoutInfo.subText || \'\') | fontcolor}></span>\n        {#if vipLayoutInfo.openCardText && showTakeCouponBtn}\n        <div class="becomevip" on-click={this.becomeVip(vipLayoutInfo)}>\n            <span class="cardtxt">{vipLayoutInfo.openCardText}</span>\n        </div>\n        {/if}\n    </div>\n</div>\n{/if}\n'},function(t,e){t.exports='<div class="n-skucard">\n    <div class="infobox">\n        <a class="v-link" href="/product/{skudata.goodsId}.html?zn=skulist" target="_blank"><img class="v-img" src="{imgUrl|imgThumbnailUrl:62}" /></a>\n        <div class="info">\n            <a href="/product/{skudata.goodsId}.html?zn=skulist" target="_blank" class="tit">{skudata.title}</a>\n            <p class="pricebox">\n                <span class="num">数量：&nbsp;{skudata.goodsAmount || 0}</span>\n                <span class="pricetxt">套餐价：&nbsp;<i class="price">¥{pricetxt}</i></span>\n            </p>\n        </div>\n    </div>\n    <div class="propertybox {skulist.length > 1 ? \'\' : \'f-dn\'}">\n        <ul>\n            <propertybox propList={propList} skuList={skulist} on-switchsku={this.switchSku($event)}></propertybox>\n        </ul>\n    </div>\n</div>'},function(t,e){t.exports='{#if !!propList.length}\n{#list propList as propitm}\n<li class="clearfix">\n    <div class="propertyname">{propitm.propertyName}：</div>\n    <ul class="propvallist clearfix">\n        {#list propitm.skuPropertyValueList as proval}\n        {#if proval.type === \'SELECT-EMPTY\' || proval.type === \'UNSELECT-EMPTY\'}\n        <li class="{typeMap[proval.type]}"><a class="propertyitm" href="javascript:;">{proval.propertyValue}</a><i><span class="icon-checked"></span></i></li>\n        {#else}\n        <li class="{typeMap[proval.type]}" on-click={this.clickProp(proval)}><a class="propertyitm" href="javascript:;">{proval.propertyValue}</a><i><span class="icon-checked"></span></i></li>\n        {/if}\n        {/list}\n    </ul>\n</li>\n{/list}\n{/if}'},function(t,e){t.exports='{! m-timingsalenotice !}\n\n<div class="noticewrap">\n    <div class="tit">考拉客户端接受提醒</div>\n    <div class="msg">\n        <p>没安装立即扫描二维码下载最新版APP吧！</p>\n        <p>已安装的打开考拉APP扫一扫，进入详情页设置开售提醒（仅支持3.8及以上版本APP）。</p>\n    </div>\n    <div class="qrcode" ref="qrcode">\n        <img class="logo" src="/res/images/product/kaola_qrcode_logo.png">\n    </div>\n</div>'},function(t,e){t.exports='<div class="addresslist">\n    <ul class="listwrap">\n        {#list addressList as address}\n        <li class="address"\n            r-class="{{\'z-act\': contactId === address.id}}"\n            on-click="{this.clickAddress(address)}">\n            <i class="iconfont icon-location-hollow"></i><span class="txt">{address | showAddress}</span>\n        </li>\n        {/list}\n    </ul>\n</div>\n'},function(t,e){t.exports='{#if loadingAddress || error}\n\n{#else}\n\n    {#if act === 1 && provinces.length}\n\n    <div class="boxlist clearfix">\n        {#list provincesShow as provLine}\n        <div class="clearfix">\n            <span class="tcli tclitt">{regionList[provLine_index][0]}：</span>\n            {#list provLine as prov}\n            <span class="tcli">\n                  <a title={prov.name} href="javascript:void(0);"\n                     r-class="{{\'selected\': selected.province && prov.code === selected.province.code}}"\n                     on-click="{this.provinceClick(prov)}">\n                      {prov.name | shortName}\n                  </a>\n                </span>\n            {/list}\n        </div>\n        {/list}\n    </div>\n\n    {#elseif act === 2 && citys.length}\n\n    <div class="boxlist boxlist2 clearfix">\n        {#list citys as city}\n        <span r-style="{{\'width\': city.width + \'px\'}}" class="tcli">\n              <a title={city.name} href="javascript:void(0);"\n                 r-class="{{\'selected\': selected.city && city.code === selected.city.code}}"\n                 on-click="{this.cityClick(city)}">\n                  {city.name}\n              </a>\n            </span>\n        {/list}\n    </div>\n\n    {#elseif act === 3 && districts.length}\n\n    <div class="boxlist boxlist2 clearfix">\n        {#list districts as dist}\n        <span r-style="{{\'width\': dist.width + \'px\'}}" class="tcli">\n              <a title={dist.name} href="javascript:void(0);"\n                 r-class="{{\'selected\': selected.district && dist.code === selected.district.code}}"\n                 on-click="{this.districtClick(dist)}">\n                  {dist.name}\n              </a>\n            </span>\n        {/list}\n    </div>\n\n    {/if}\n\n{/if}'},function(t,e){t.exports='{#if !!loadingAddress}\n<p class="tc"><strong>正在获取数据...</strong></p>\n\n{#elseif !!error}\n<p class="tc"><strong>数据获取失败，请刷新页面重试</strong></p>\n\n{/if}'},function(t,e){t.exports='{#if !loadingAddress && !error}\n<div class="tt">\n    <ul class="ttw">\n        {#if tab === 1 || tab === 2 || tab === 3}\n        <li class="tli"\n            r-class="{{\'act\': act === 1}}"\n            on-click=\'{this.provinceTabClick()}\'>省份</li>\n        {/if}\n        {#if (tab === 2 || tab === 3) && !isDirectCity}\n        <li class="tli"\n            r-class="{{\'act\': act === 2}}"\n            on-click=\'{this.cityTabClick()}\'>城市</li>\n        {/if}\n        {#if tab === 3}\n        <li class="tli"\n            r-class="{{\'act\': act === 3}}"\n            on-click=\'{this.districtTabClick()}\'>县区</li>\n        {/if}\n    </ul>\n</div>\n{/if}\n'},function(t,e){t.exports="<div class=\"box\"\n     ref = \"box\"\n     r-style = \"{{'left': boxLeft || '0', 'top': boxTop || '0', 'right': boxRight || '0'}}\"\n     r-hide = \"{!show}\"\n    >\n    {#include this.$body}\n</div>"},function(t,e){t.exports='<div class="iptw" on-click="{this.toggle()}" r-class="{{\'z-nomsg\': !msg}}" ref="target">\n    <span class="iptmsg" title="{msg}">{msg | show}</span>\n    <span class="iptdown icon-tridown"></span>\n</div>\n'},function(t,e){t.exports='{#if addressList && addressList.length}\n<div class="addresslistwrap">\n    <h3 class="subtit">收货地址</h3>\n\n    <addr-list-addresslist\n        addressList = {addressList}\n        contactId = {contactId}\n        on-clickAddress = {this.clickAddress($event)}>\n    </addr-list-addresslist>\n</div>\n{/if}\n'},function(t,e){t.exports='<addr-select-wrapper\n    boxLeft = {boxLeft}\n    boxRight = {boxRight}\n    boxTop = {boxTop}\n    show = {show}\n    on-getBox = "{this.onGetBox($event)}">\n\n    <b class="boxclose iconfont icon-close" on-click={this.hide()}></b>\n\n    <addr-list\n        on-saveAddress = {this.saveAddress($event)}\n        on-selectAddress = {this.selectAddress($event)}>\n    </addr-list>\n\n    <h2 r-hide="{!hasAddressList}" class="subtit">其他区域</h2>\n\n    <addr-select-tab\n        loadingAddress = {loadingAddress}\n        error = {error}\n        tab = {tab}\n        act = {act}\n        isDirectCity = {isDirectCity}\n        on-provinceTabClick = {this.provinceTabClick($event)}\n        on-cityTabClick = {this.cityTabClick($event)}\n        on-districtTabClick = {this.districtTabClick($event)}>\n    </addr-select-tab>\n\n    <addr-select-loading1error\n        loadingAddress = {loadingAddress}\n        error = {error}>\n    </addr-select-loading1error>\n\n    <addr-select-list\n        loadingAddress = {loadingAddress}\n        error = {error}\n        tab = {tab}\n        act = {act}\n        provinces = {provinces}\n        provincesShow = {provincesShow}\n        citys = {citys}\n        districts = {districts}\n        selected = {selected}\n        regionList = {regionList}\n        on-provinceClick = {this.provinceClick($event)}\n        on-cityClick = {this.cityClick($event)}\n        on-districtClick = {this.districtClick($event)}>\n    </addr-select-list>\n</addr-select-wrapper>\n'},function(t,e){t.exports='<div class="{clazz || \'\'} m-addrw">\n    <div class="m-addr">\n        <addr-input></addr-input>\n        <addr-select\n            on-saveAddress = {this.saveAddress($event)}\n            on-selectAddress = {this.selectAddress($event)}>\n        </addr-select>\n    </div>\n</div>\n'},function(t,e){t.exports="<StoreProvider store={store}>\n    <addr-wrapper\n        notSelectAnyAddress = {notSelectAnyAddress}\n        on-getAddress = {this.getAddress($event)}\n        on-saveAddress = {this.saveAddress($event)}\n        on-selectAddress = {this.selectAddress($event)}\n        address = {address}\n        func = {func}>\n    </addr-wrapper>\n</StoreProvider>\n"},function(t,e){t.exports='{#if list.length!=0}\n\t<h4 class="newRecomTitle">猜你喜欢<b>根据你的浏览记录推荐的商品</b>\n       {! <a href="javascript:;" class="rec-refresh" on-click={this.refresh($event)}>\n         <span class="refresh-icon" r-html={refreshIcon}></span>\n         <span class="refresh-txt">换一批</span>\n       </a> !}\n    </h4>\n\t<div class="m-reclst clearfix">\n\t{#list list as item}\n\t<div class="newRecomItemWrap newRecomItemWrap-{item_index+1}" on-click={this.clickRecommendTj(item_index,item.goodsId,tongji.from)}>\n\t\t{#if item.memberCount && item.memberCount>0}\n\t\t<a class="itemImg" target="_blank" href="/product/{item.goodsId}.html?{tongji.query}{item.reason|encode}&istext=0">\n\t\t\t<img border="0" title="{item.memberCount}{item.memberUnitName || \'件\'}装 | {item.title}" alt="{item.memberCount}{item.memberUnitName || \'件\'}装 | {item.title}" src="{(item.imageUrlFor430||item.imageUrl)|imgThumbnailUrl:430}" style="opacity: 1;">\n\t\t</a>\n\t\t<p {#if !!item.saleShow}class="itemTitle hasPromotion"{#else}class="itemTitle"{/if}>\n\t\t\t<a class="protitle" href="/product/{item.goodsId}.html?{tongji.query}{item.reason|encode}&istext=1" title="{item.memberCount}{item.memberUnitName || \'件\'}装 | {item.title}" target="_blank"><b>{item.memberCount}{item.memberUnitName || \'件\'}装</b>&nbsp;|&nbsp;{item.title}</a>\n\t\t</p>\n\t\t{#else}\n\t\t<a class="itemImg" target="_blank" href="/product/{item.goodsId}.html?{tongji.query}{item.reason|encode}&istext=0">\n\t\t\t<img border="0" title="{item.title}" alt="{item.title}" src="{(item.imageUrlFor430||item.imageUrl)|imgThumbnailUrl:430}" style="opacity: 1;">\n\t\t</a>\n\t\t<p {#if !!item.saleShow}class="itemTitle hasPromotion"{#else}class="itemTitle"{/if}>\n\t\t\t<a class="protitle" href="/product/{item.goodsId}.html?{tongji.query}{item.reason|encode}&istext=1" title="{item.title}" target="_blank">{item.title}</a>\n\t\t</p>\n\t\t{/if}\n\t\t{#if !!item.saleShow}\n\t\t<p class="promotion"><span title="{item.saleShow||\'\'}">{item.saleShow||\'\'}</span></p>\n\t\t{/if}\n\t\t<div class="itemInfo clearfix">\n\t\t\t<p class="price"><span class="symbol">¥</span>{item.currentPrice}<span class="marprice">¥<del>{item.marketPrice}</del></span></p>\n\t\t\t<a href="/product/{item.goodsId}.html?{tongji.query}{item.reason|encode}&istext=2#mainBtmWrap" target="_blank" class="comment">{item.commentsCount} 人已评价</a>\n\t\t</div>\n\t</div>\n\t{/list}\n\t</div>\n{/if}'},function(t,e){t.exports='{#if list.length!=0}\n<h4 class="newRecomTitle clearFix">最近浏览<b>你最近一段时间浏览的商品</b>\n{#if Math.ceil(total/limit)>1}\n\t<div class="fright m-recommentPager">\n\t    <a href="javascript:void(0);" class="rec-forward" on-click={this.onNextPageClick()}>&gt;</a>\n\t    <span class="rec-page">{current}/{Math.ceil(total/limit)}</span>\n\t\t<a href="javascript:void(0);" class="rec-backward"  on-click={this.onPrevPageClick()}>&lt;</a>\n    </div>\n{/if}\n</h4>\n<div class="m-reclst clearFix">\n\t{#list list as item}\n\t\t{#if item_index<limit*current&&item_index>=limit*(current-1)}\n\t\t<div class="newRecomItemWrap" on-click={this.clickRecommendTj(item_index)}>\n\t\t\t{#if item.memberCount && item.memberCount>0}\n\t\t\t<a class="itemImg" target="_blank" href="/product/{item.goodsId}.html?{query}{item.reason|encode}&istext=0">\n\t\t\t\t<img border="0" title="{item.memberCount}{item.memberUnitName || \'件\'}装 | {item.title}" alt="{item.memberCount}{item.memberUnitName || \'件\'}装 | {item.title}" src="{(item.imageUrlFor430||item.imageUrl)|imgThumbnailUrl:430}" style="opacity: 1;">\n\t\t\t</a>\n\t\t\t<p class="itemTitle">\n\t\t\t\t<a href="/product/{item.goodsId}.html?{query}{item.reason|encode}&istext=1" title="{item.memberCount}{item.memberUnitName || \'件\'}装 | {item.title}" target="_blank"><b>{item.memberCount}{item.memberUnitName || \'件\'}装</b>&nbsp;|&nbsp;{item.title}</a>\n\t\t\t</p>\n\t\t\t{#else}\n\t\t\t<a class="itemImg" target="_blank" href="/product/{item.goodsId}.html?{query}{item.reason|encode}&istext=0">\n\t\t\t\t<img border="0" title="{item.title}" alt="{item.title}" src="{(item.imageUrlFor430||item.imageUrl)|imgThumbnailUrl:430}" style="opacity: 1;">\n\t\t\t</a>\n\t\t\t<p class="itemTitle">\n\t\t\t\t<a href="/product/{item.goodsId}.html?{query}{item.reason|encode}&istext=1" title="{item.title}" target="_blank">{item.title}</a>\n\t\t\t</p>\n\t\t\t{/if}\n\t\t\t<div class="itemInfo clearfix">\n\t\t\t\t<p class="price">¥{item.currentPrice}<span class="marprice">¥<del>{item.marketPrice}</del></span></p>\n\t\t\t\t<a href="/product/{item.goodsId}.html?{query}{item.reason|encode}&istext=2#mainBtmWrap" target="_blank" class="comment">{item.commentsCount} 人已评价</a>\n\t\t\t</div>\n\t\t</div>\n\t\t{/if}\n\t{/list}\n</div>\n{/if}'},function(t,e){t.exports='{#if list.length!=0}\n\t<div class="m-reclst m-reclst-1 clearfix">\n\t{#list list as item}\n\t<div class="newRecomItemWrap newRecomItemWrap-{item_index+1}" on-click={this.clickRecommendTj(item_index,item.goodsId,tongji.from)}>\n\t\t{#if item.memberCount && item.memberCount>0}\n\t\t<a class="itemImg" target="_blank" href="/product/{item.goodsId}.html?{tongji.query}{item.reason|encode}&istext=0">\n\t\t\t<img border="0" title="{item.memberCount}{item.memberUnitName || \'件\'}装 | {item.title}" alt="{item.memberCount}{item.memberUnitName || \'件\'}装 | {item.title}" src="{(item.imageUrlFor430||item.imageUrl)|imgThumbnailUrl:430}" style="opacity: 1;">\n\t\t</a>\n\t\t<p {#if !!item.saleShow}class="itemTitle hasPromotion"{#else}class="itemTitle"{/if}>\n\t\t\t<a class="protitle" href="/product/{item.goodsId}.html?{tongji.query}{item.reason|encode}&istext=1" title="{item.memberCount}{item.memberUnitName || \'件\'}装 | {item.title}" target="_blank"><b>{item.memberCount}{item.memberUnitName || \'件\'}装</b>&nbsp;|&nbsp;{item.title}</a>\n\t\t</p>\n\t\t{#else}\n\t\t<a class="itemImg" target="_blank" href="/product/{item.goodsId}.html?{tongji.query}{item.reason|encode}&istext=0">\n\t\t\t<img border="0" title="{item.title}" alt="{item.title}" src="{(item.imageUrlFor430||item.imageUrl)|imgThumbnailUrl:430}" style="opacity: 1;">\n\t\t</a>\n\t\t<p {#if !!item.saleShow}class="itemTitle hasPromotion"{#else}class="itemTitle"{/if}>\n\t\t\t<a class="protitle" href="/product/{item.goodsId}.html?{tongji.query}{item.reason|encode}&istext=1" title="{item.title}" target="_blank">{item.title}</a>\n\t\t</p>\n\t\t{/if}\n\t\t{#if !!item.saleShow}\n\t\t<p class="promotion"><span title="{item.saleShow||\'\'}">{item.saleShow||\'\'}</span></p>\n\t\t{/if}\n\t\t<div class="itemInfo clearfix">\n\t\t\t<p class="price"><span class="symbol">¥</span>{item.currentPrice}<span class="marprice">¥<del>{item.marketPrice}</del></span></p>\n\t\t\t<a href="/product/{item.goodsId}.html?{tongji.query}{item.reason|encode}&istext=2#mainBtmWrap" target="_blank" class="comment">{item.commentsCount} 人已评价</a>\n\t\t</div>\n\t</div>\n\t{/list}\n\t</div>\n{/if}'},function(t,e){t.exports='{#if (list.length >= 5 && tongji.from == \'detailphb\') || list.length > 0}\n<h4>{title || \'\'}</h4>\n<ul class="userBuyView">\n\t{#list list as item}\n\t{#if (item_index + 1) <= (limit || 5)}\n\t<li class="clearfix" r-class="{{\'bbNone\': (item_index + 1) == (limit || 5)}}" on-click={this.clickRecommendTj(item_index,item.goodsId,tongji.from)}>\n\n\t\t{#if strategy == \'hotSale\'}\n\t\t\t<b class=\'rank\'>{item_index+1}</b>\n\t\t{/if}\n\n\t\t{#if item.memberCount && item.memberCount>0}\n\t\t\t<a class="aImg" target="_blank" href="/product/{item.goodsId}.html?{tongji.query}{item.reason|encode}&istext=0">\n\t\t\t\t<img border="0" title="{item.memberCount}{item.memberUnitName || \'件\'}装 | {item.title}" alt="{item.memberCount}{item.memberUnitName || \'件\'}装 | {item.title}" src="{item.imageUrl|imgThumbnailUrl:158}" style="opacity: 1;">\n\t\t\t</a>\n\t\t{#else}\n\t\t\t<a class="aImg" target="_blank" href="/product/{item.goodsId}.html?{tongji.query}{item.reason|encode}&istext=0">\n\t\t\t\t<img border="0" title="{item.title}" alt="{item.title}" src="{item.imageUrl|imgThumbnailUrl:158}" style="opacity: 1;">\n\t\t\t</a>\n\t\t{/if}\n\n\t\t{#if !!item.saleShow && strategy == \'alsoView\'}\n\t\t\t<p class="promotion"><span title="{item.saleShow||\'\'}">{item.saleShow||\'\'}</span></p>\n\t\t{/if}\n\n\t\t<p class="productTit">\n\t\t\t<a class="aTit" target="_blank" title="{item.title}" href="/product/{item.goodsId}.html?{tongji.query}{item.reason|encode}&istext=1">{item.title || \'\'}</a>\n\t\t</p>\n\n\t\t<div class="clearfix">\n\t\t\t<p class="productPrice"><span>¥{item.currentPrice}</span><del>¥{item.marketPrice}</del></p>\n\t\t\t<p class="commentCount">\n\t\t\t\t<a href="/product/{item.goodsId}.html?{tongji.query}{item.reason|encode}&istext=2#mainBtmWrap" target="_blank">{item.commentsCount} 人已评价</a>\n\t\t\t</p>\n\t\t</div>\n\n\t</li>\n\t{/if}\n\t{/list}\n</ul>\n{/if}'},,,function(t,e,n){(function(t){var i,o,a,s,r=v(n(139)),c=v(n(245)),l=v(n(246)),d=v(n(107)),u=v(n(120)),p=v(n(119)),f=v(n(13)),m=v(n(28)),h=v(n(152)),g=v(n(108));function v(t){return t&&t.__esModule?t:{"default":t}}"undefined"!=typeof self?self:undefined,s=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||(0,h["default"])(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=14)}([function(t,e){t.exports=function(t){return t&&t.__esModule?t:{"default":t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getType=a,e.typeOf=s,e["default"]=e.isSpreadable=e.isNill=e.isString=e.isObject=e.isNumber=e.isFunction=e.isDate=e.isBoolean=e.isArray=void 0;var i=Object.prototype.toString,o=function(t){try{return i.call(t)}catch(e){return""}};function a(t){return o(t).slice(8,-1).toLowerCase()}function s(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return!!(e=String(e).toLowerCase())&&(null===t?"null"==e:t===undefined?"undefined"==e:o(t).toLowerCase()==="[object ".concat(e,"]"))}var r={getType:a,typeOf:s};["number","array","boolean","date","function","object","string"].forEach(function(t){return r["is".concat(t[0].toUpperCase()).concat(t.substr(1))]=function(e){return s(e,t)}});var c=r.isArray;e.isArray=c;var l=r.isBoolean;e.isBoolean=l;var d=r.isDate;e.isDate=d;var u=r.isFunction;e.isFunction=u;var p=r.isNumber;e.isNumber=p;var f=r.isObject;e.isObject=f;var h=r.isString;e.isString=h,r.isNill=function(t){return null===t||t===undefined};var g=r.isNill;e.isNill=g,r.isSpreadable=function(t){return r.isArray(t)?!!t.length:!(!r.isObject(t)&&!r.isFunction(t))&&(0,m["default"])(t).some(function(e){return function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,e)})};var v=r.isSpreadable;e.isSpreadable=v;var _=r;e["default"]=_},function(t,e){function n(){return t.exports=n=f["default"]||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},n.apply(this,arguments)}t.exports=n},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Base64",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(e,"deleteObjectKeys",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(e,"getHttpsLink",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(e,"getSourceUrl",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(e,"getParamFromUrl",{enumerable:!0,get:function(){return c["default"]}}),Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(e,"object2string",{enumerable:!0,get:function(){return d["default"]}}),Object.defineProperty(e,"qs",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(e,"type",{enumerable:!0,get:function(){return p["default"]}}),Object.defineProperty(e,"clientInfo",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(e,"getUrlParams",{enumerable:!0,get:function(){return m["default"]}});var o=i(n(8)),a=i(n(9)),s=i(n(27)),r=i(n(6)),c=i(n(28)),l=i(n(11)),d=i(n(10)),u=i(n(4)),p=i(n(1)),f=i(n(29)),m=i(n(7))},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=i(n(5)),a=i(n(9)),s=i(n(10)),r=i(n(11)),c=n(1),l=function(t){return t},d={parse:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"&",n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:l;return t="".concat(t||"").replace(/^\?/,""),"function"!=typeof n&&(n=function(t){return n?l(t):t}),(t||"").split(e||"&").reduce(function(t,e){var i=e.split("=");if(i&&i.length>0){var o=i.shift();o&&(t[n(o)]=n(i.join("=")))}return t},{})},stringify:function(t){var e=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1];return(0,s["default"])(t,"&",e)},get:function(t,e){return this.parse(t)[e]||""},setAndReturnObj:function(t,e){var n=this.parse(t);for(var i in(0,r["default"])(n,e),n)n[i]===undefined&&delete n[i];return n},set:function(t,e){return(0,s["default"])(this.setAndReturnObj(t,e),"&",!0)},removeAndReturnObj:function(t,e){var n=this.parse(t)||{};return(0,c.isArray)(e)?(0,a["default"])(n,e):n&&"object"===(0,o["default"])(n)&&delete n[e],n},remove:function(t,e){return(0,s["default"])(this.removeAndReturnObj(t,e),"&",!0)}};e["default"]=d},function(t,e){function n(t){return(n="function"==typeof p["default"]&&"symbol"===(0,g["default"])(u["default"])?function(t){return void 0===t?"undefined":(0,g["default"])(t)}:function(t){return t&&"function"==typeof p["default"]&&t.constructor===p["default"]&&t!==p["default"].prototype?"symbol":void 0===t?"undefined":(0,g["default"])(t)})(t)}function i(e){return"function"==typeof p["default"]&&"symbol"===n(u["default"])?t.exports=i=function(t){return n(t)}:t.exports=i=function(t){return t&&"function"==typeof p["default"]&&t.constructor===p["default"]&&t!==p["default"].prototype?"symbol":n(t)},i(e)}t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i=function(){return location.href};e["default"]=i},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=i(n(6));var a=function(){return((arguments.length>0&&arguments[0]!==undefined?arguments[0]:(0,o["default"])()).split("?")[1]||"").split("#")[0]||""};e["default"]=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,n,o,a,s,r,c,l="",d=0;for(t=i._utf8_encode(t);d<t.length;)a=(e=t.charCodeAt(d++))>>2,s=(3&e)<<4|(n=t.charCodeAt(d++))>>4,r=(15&n)<<2|(o=t.charCodeAt(d++))>>6,c=63&o,isNaN(n)?r=c=64:isNaN(o)&&(c=64),l=l+this._keyStr.charAt(a)+this._keyStr.charAt(s)+this._keyStr.charAt(r)+this._keyStr.charAt(c);return l},decode:function(t){var e,n,o,a,s,r,c="",l=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<t.length;)e=this._keyStr.indexOf(t.charAt(l++))<<2|(a=this._keyStr.indexOf(t.charAt(l++)))>>4,n=(15&a)<<4|(s=this._keyStr.indexOf(t.charAt(l++)))>>2,o=(3&s)<<6|(r=this._keyStr.indexOf(t.charAt(l++))),c+=String.fromCharCode(e),64!=s&&(c+=String.fromCharCode(n)),64!=r&&(c+=String.fromCharCode(o));return c=i._utf8_decode(c)},_utf8_encode:function(t){"string"==typeof t&&(t=t.replace(/\r\n/g,"\n")),"number"==typeof t&&(t=t.toString());for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},_utf8_decode:function(t){for(var e="",n=0,i=0,o=0,a=0;n<t.length;)(i=t.charCodeAt(n))<128?(e+=String.fromCharCode(i),n++):i>191&&i<224?(o=t.charCodeAt(n+1),e+=String.fromCharCode((31&i)<<6|63&o),n+=2):(o=t.charCodeAt(n+1),a=t.charCodeAt(n+2),e+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a),n+=3);return e}},o=i;e["default"]=o},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=i(n(5));var a=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null,e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];if(t&&"object"===(0,o["default"])(t)){var n=e&&e.length?e:(0,m["default"])(t);n.length&&n.forEach(function(e){delete t[e]})}return t};e["default"]=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i=n(1);var o=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:",",n=arguments.length>2&&arguments[2]!==undefined&&arguments[2],o=arguments.length>3&&arguments[3]!==undefined&&arguments[3],a=[],s=n;for(var r in(0,i.isFunction)(n)||(s=function(t){return n?encodeURIComponent(t):t}),t)if(t.hasOwnProperty(r)&&!(0,i.isFunction)(t[r])){var c="";if((0,i.isDate)(t[r]))c=t[r].getTime();else if((0,i.isArray)(t[r]))c=t[r].join(",");else if((0,i.isObject)(t[r]))try{c=(0,d["default"])(t[r])}catch(u){console.warn("object2string",u),c="{}"}else c=t[r];var l=s(c);l===undefined||o&&null===l||a.push("".concat(s(r),"=").concat(l))}return a.join(e||",")};e["default"]=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i=n(1);var o=function a(t,e){var n=(0,i.getType)(t),o=(0,i.getType)(e);if(n!==o)return e;switch(o){case"object":for(var s in e)e.hasOwnProperty(s)&&(t[s]=a(t[s],e[s]));break;case"array":e.forEach(function(e,n){t[n]=a(t[n],e)});break;default:return e}return t};e["default"]=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCookie=function(t){if(document.cookie.length>0){var e=document.cookie.indexOf(t+"="),n="";if(-1!==e)return e=e+t.length+1,-1===(n=document.cookie.indexOf(";",e))&&(n=document.cookie.length),unescape(document.cookie.substring(e,n))}return""}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=i(n(2)),a=i(n(5)),s=n(3),r=n(12),c={},l={init:function(t){!function(t,e,n){if(!e.__SV){var i,o;window;window.DATracker=e,e._i=[],e.init=function(t,n,a){var s=e;function r(t,e){var n=e.split(".");2==n.length&&(t=t[n[0]],e=n[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}for(void 0!==a?s=e[a]=[]:a="DATracker",s.people=s.people||[],s.abtest=s.abtest||[],s.toString=function(t){var e="DATracker";return"DATracker"!==a&&(e+="."+a),t||(e+=" (stub)"),e},s.people.toString=function(){return s.toString(1)+".people (stub)"},i="get_user_id track_heatmap register_attributes register_attributes_once clear_attributes unregister_attributes current_attributes single_pageview disable time_event get_appStatus track set_userId track_pageview track_links track_forms register register_once alias unregister identify login logout signup name_tag set_config reset people.set people.set_once people.set_realname people.set_country people.set_province people.set_city people.set_age people.set_gender people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.set_populationWithAccount  people.set_location people.set_birthday people.set_region people.set_account abtest.get_variation abtest.async_get_variable".split(" "),o=0;o<i.length;o++)r(s,i[o]);e._i.push([t,n,a])},e.__SV=1.6,setTimeout(function(){var e,n;(e=t.createElement("script")).type="text/javascript",e.async=!0,e.src="//hubble-js-bucket.nosdn.127.net/DATracker.globals.1.6.8.js",(n=t.getElementsByTagName("script")[0]).parentNode.insertBefore(e,n)},window._daInfo._delayLoad)}}(document,window.DATracker||[],window),DATracker.init(l.getAppkey(),{persistence:"localStorage",cross_subdomain_cookie:!1,debug:t.debug})},login:function(t){DATracker.login(t)},da:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=t.eventId,n=t.category,i=t.label,r=t.attributes,l=void 0===r?{}:r;s.clientInfo.__isInMiniProgram()&&"object"===(0,a["default"])(l)&&(l.openid=c.openid||""),DATracker.track(e,(0,o["default"])(l,{category:n,label:i}))},getAppkey:function(){if(s.clientInfo.__isInMiniProgram()){c=(0,r.getCookie)("mpinfoquery")||{};try{c=JSON.parse(c)}catch(t){console.log(t)}return window._daInfo._mpKey||c.dakey||"MA-BB8F-E554212ED9BC"}return window._daInfo._hubbleKey}},d=l;e["default"]=d},function(t,e,n){t.exports=n(15)},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.DA=void 0;var o,a=i(n(16)),s=i(n(20)),r=i(n(13)),c=i(n(31)),l=i(n(4)),d=i(n(7)),u="kpm-scroller",p="kpm-exposure",f=document,m=window._daConfig||{},h=m.damac,g=m.hubbleKey,v=m.mpKey,_=m.pv,y=void 0===_||_,b=m.delayLoad,I=void 0===b?0:b;function S(){s["default"].pageView()}function T(t,e){return!(!function(t,e){return t.left<e.right&&t.right>e.left}(t,e)||!function(t,e){return t.top<e.bottom&&t.bottom>e.top}(t,e))}function x(t,e){if(!t.getBoundingClientRect)return!1;var n={top:0,left:0,bottom:window.innerHeight,right:window.innerWidth},i=e===window||e===document.body||e===f?n:e?e.getBoundingClientRect():n;return T(t.getBoundingClientRect(),i)&&T(t.getBoundingClientRect(),n)}function w(t){if(!t)return null;return function e(t){if(t)return t.hasAttribute("".concat(u))?t:e(t.parentElement)}(t.parentElement||window)}function k(t,e){try{if(!t||!t.hasAttribute("".concat(p))||t==document.body||t==document.documentElement)return;var n=t.getAttribute("".concat(p)),i=t._visible,o=e?"appear":"disappear";(e&&!i||i&&i!==e)&&(t._visible=e,s["default"].exposure(n,o))}catch(a){console.log(a)}}function C(t){var e=t.getAttribute&&t.getAttribute(u);if(!t.scrollWatched&&"false"!==e){t.scrollWatched=!0;var n,i,o,a,s,r,c=(n=function(e){try{!function(t,e){var n=t.querySelectorAll("[".concat(p,"]"))||[];Array.prototype.slice.call(n).forEach(function(t){var n=x(t,e);k(t,n)})}(e.target,t)}catch(n){console.log(n)}},o=!0,a=0,s=null,r=(i=25)+(i>25?i:25),function(){try{for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var c=this||null,l=(new Date).getTime();l-a>i&&(o&&(s&&clearTimeout(s),s=setTimeout(function(){s=null,n.apply(c,t)},r)),n.apply(c,t),a=l)}catch(d){console.log(d)}});t.addEventListener("scroll",c,!1)}}function E(){try{(0,a["default"])(Array.prototype.slice.call(document.querySelectorAll("[".concat(u,"]")))).concat([f]).forEach(function(t){C(t)});var t=f.querySelectorAll("[".concat(p,"]"));Array.prototype.slice.call(t).forEach(function(t){k(t,x(t,w(t)||f))})}catch(e){console.log(e)}}function P(){var t=!(arguments.length>0&&arguments[0]!==undefined)||arguments[0];window._daInfo._debug=t}function L(t){return function(){try{return t.apply(void 0,arguments)}catch(e){console.log(e)}}}window._daInfo={version:"1.1.17-5",_selfDaLoaded:!1,_damac:h||window._damac||"DA-A250-E78A2EEA7B9E",_hubbleKey:g||window._hubbleKey||"MA-AE38-1FCC6CD7201B",_mpKey:v||"",_pageView:y,_delayLoad:I,_debug:!1},P(o="true"===l["default"].parse((0,d["default"])()).debugMode),c["default"].init(),r["default"].init({debug:o}),window._daInfo._pageView&&S();var A={da:L(s["default"].da),watchScroller:L(E),watchExposure:L(function(t){var e=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1];if(t&&1===t.nodeType){var n=w(t)||f;e&&k(t,x(t,n)),C(n)}}),watch:L(function(){var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!window.MutationObserver)throw console.log("您的浏览器暂不支持mutaionObserver新特性"),"您的浏览器暂不支持mutaionObserver新特性";E(),new t(E).observe(document.body,{childList:!0,subtree:!0})}),registerDaPush:L(function(t){s["default"].registerDaPush(t)}),pageView:L(S),debugMode:L(P),version:"1.1.17-5"};e.DA=A},function(t,e,n){var i=n(17),o=n(18),a=n(19);t.exports=function(t){return i(t)||o(t)||a()}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if((0,l["default"])(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return(0,c["default"])(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=i(n(2)),a=n(21);var s={da:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=(0,o["default"])({type:"pageView",kpm:(0,a.defaultKpm)(),link:(0,a.fullPathUrl)(),scm:{}},(0,a.removeEmptyKeys)(t)),i=(0,a.parseDaOptions)(n,e),s=n.type;return"pageView"===s?(0,a.addPageViewTrackLink)(n.link,i):"exposure"===s?(0,a.cacheAttrs)(i):void(0,a.daPush)(i)},exposure:function(t,e){(0,a.exposureFromCache)(t,e)},registerDaPush:function(t){"function"==typeof t&&(0,a.registerExposureDaPush)(t)},pageView:function(){(0,a.daPageView)()}};e["default"]=s},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.addPageViewTrackLink=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:P(),e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=(0,s["default"])({link:t,kpmInfo:e.attributes.kpmInfo});window._daInfo._debug&&console.log((0,d["default"])({type:"pageView",url:n}));return n},e.parseDaOptions=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.kpm,i=t.scm,s=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=(0,a["default"])(k(),t),n=e.a,i=e.b,o=e.c,s=e.d;return i=i.split("?")[0]||"",I([n,i,o,s])}(n),c=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if("string"==typeof t)return t;var e=(0,a["default"])(C(),t),n=e.a,i=e.b,s=e.c,c=e.d,l=e.e,d="";if(s&&Array.isArray(s)){var u=(0,o["default"])(s,3),p=u[0],f=void 0===p?1:p,m=u[1],h=void 0===m?"":m,g=u[2],v=void 0===g?"":g;if(h&&v){"u"===h&&(v=String(v).split("?")[0]||""),"u"!==h&&"tg"!==h||(v=r["default"].encode(v));var _=[f,h,v].join("_");d=function(){return(arguments.length>0&&arguments[0]!==undefined?arguments[0]:[]).join(".")}([n,i,_,c,l])}}return d}(i),l={eventId:"h5Page",category:t.type},d={dataFrom:b,ID:P(),actionType:T(t.type),kpm:encodeURIComponent(s),scm:c};return(0,a["default"])(d,e.attributes),(0,a["default"])(l,e),d.c_kpm=d.kpm,d.kpmInfo=encodeURIComponent("".concat(d.kpm,"@@").concat(S(d.scm))),l.attributes=d,l},e.exposureDaPush=x,e.addDaMsg=I,e.converDaParam=S,e.defaultKpm=k,e.defaultScm=C,e.registerExposureDaPush=function(t){"function"==typeof t&&(y=t)},e.cacheAttrs=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=t.attributes.kpmInfo;return _.attrs[e]=t,e},e.exposureFromCache=function(t,e){x(_.attrs[t],e)},e.daPush=E,e.daPageView=function(){var t=(e=(0,c.getSourceUrl)().split("?")[0]||"",n=l["default"].parse((0,f["default"])()),i=n.kpm,o=void 0===i?"":i,a=n.p_kpm,s=void 0===a?"":a,r=n.t_kpm,d=void 0===r?"":r,u=n._h5da,{eventId:"h5Page",category:"pageView",attributes:{ID:e,kpm:o,p_kpm:s,t_kpm:d,_h5da:void 0!==u&&u,dataFrom:b,actionType:T("pageView")}});var e,n,i,o,a,s,r,d,u;y(t)},e.removeEmptyKeys=function L(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e={};"object"===(0,p.getType)(t)&&(0,m["default"])(t).forEach(function(n){var i,o=t[n],a=(0,p.getType)(o);switch(a){case"object":e[n]=L(o);break;default:(i=o)!==undefined&&null!==i&&""!==String(i).trim()&&(e[n]=o)}});return e},e.fullPathUrl=P;var o=i(n(22)),a=i(n(2)),s=i(n(26)),r=i(n(8)),c=n(3),l=i(n(4)),u=n(30),p=n(1),f=i(n(7)),h=500,g=500,v="kpm-exposure",_={attrs:{},exposure:{},exposed:[],timer:null},y=(0,u.daEvent)(),b="kl-fed";function I(){return(arguments.length>0&&arguments[0]!==undefined?arguments[0]:[]).filter(function(t){return!!t||0===t}).map(S).join(".")}function S(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"_";return r["default"].encode(String(t)||"_")}function T(t){return"pageView"===t?"page":t}function x(){var t,e;!function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"appear",n=_.exposure,i=_.exposed,o=t.attributes.kpmInfo;if(~i.indexOf(o))return void w(o);var a=(new Date).getTime();"appear"===e?n[o]={appearTime:a,daOptions:t}:n[o]&&(n[o].disAppearTime=a)}(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},arguments.length>1?arguments[1]:undefined),t=_.exposure,e=_.timer,(0,m["default"])(t).length&&!e&&(_.timer=setTimeout(function(){!function t(){var e=_.exposure,n=_.exposed;(0,m["default"])(e).forEach(function(t){var i=e[t],o=i.disAppearTime||(new Date).getTime();o-i.appearTime>=parseInt(h,10)?(E(i.daOptions),delete e[t],w(t),n.push(t)):i.disAppearTime&&delete e[t]}),(0,m["default"])(e).length?_.timer=setTimeout(function(){t()},parseInt(h,10)+g):(clearTimeout(_.timer),_.timer=null)}()},parseInt(h,10)+g))}function w(t){delete _.attrs[t];var e=document.querySelectorAll("[".concat(v,'="').concat(t,'"]'));Array.prototype.slice.call(e).forEach(function(t){t.removeAttribute(v)})}function k(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=t.a,n=void 0===e?2018:e,i=t.b,o=void 0===i?P():i,a=t.c,s=void 0===a?"_":a,r=t.d;return{a:n,b:o,c:s,d:void 0===r?"_":r}}function C(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=t.a,n=void 0===e?"v1":e,i=t.b,o=void 0===i?"1999":i,a=t.c,s=void 0===a?"":a,r=t.d,c=void 0===r?"_":r,l=t.e;return{a:n,b:o,c:s,d:c,e:void 0===l?"_":l}}function E(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};delete t.attributes.kpmInfo,window._daInfo._debug&&console.log((0,d["default"])(t)),y(t)}function P(){return(0,c.getSourceUrl)().split("?")[0]||""}},function(t,e,n){var i=n(23),o=n(24),a=n(25);t.exports=function(t,e){return i(t)||o(t,e)||a()}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var n=[],i=!0,o=!1,a=undefined;try{for(var s,c=(0,r["default"])(t);!(i=(s=c.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){o=!0,a=l}finally{try{i||null==c["return"]||c["return"]()}finally{if(o)throw a}}return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){var t=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{})||{},e=t.link,n=t.kpmInfo,o=void 0===n?"":n;if("string"!=typeof e||""===e)return;var a=(e=(0,i.getHttpsLink)(e)).split("?")[0]||"",s=i.qs.removeAndReturnObj((0,i.getUrlParams)(e),["kpm","scm","p_kpm","t_kpm"]);s.kpm=o,s._h5da=!0;var r=(0,i.getParamFromUrl)(null,(0,i.getSourceUrl)())||{};r.kpm&&(s.p_kpm=r.kpm);r.p_kpm&&(s.t_kpm=r.p_kpm);"2"===r.noklappbanner&&e.match(/^((http:)?\/\/)?\w+\.kaola\.com/)&&(s.noklappbanner=s.noklappbanner||"2");return"".concat(a).concat(/\?/.test(a)?"&":"?").concat(i.qs.stringify(s,!1))};var i=n(3)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return"string"==typeof t&&t.match(/^((http:)?\/\/)?\w+\.kaola\.com/)&&(t=t.replace(/^(http:)?\/\//,"https://")),t};e["default"]=i},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=i(n(4)),a=i(n(6));var s=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",e=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",n=((e=e||(0,a["default"])({original:!0})).split("?")[1]||"").split("#")[0]||"",i=(n?o["default"].parse(n):null)||{};return t?i[t]||"":i}("",arguments.length>1&&arguments[1]!==undefined?arguments[1]:"")||{};return t?e[t]||"":e};e["default"]=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i={};function o(t){return t.test(window&&window.navigator&&window.navigator.userAgent||"")}i._$isAppVerEqOver=function(t){return this.__compareVersion(this._$getAppVersion(),t)>=0},i.__compareVersion=function(t,e){for(var n,i,o=(t||"").split("."),a=(e||"").split("."),s=Math.max(o.length,a.length),r=0;r<s;r++)if((n=parseInt(o[r]||"",10)||0)!==(i=parseInt(a[r]||"",10)||0))return n-i>0?1:-1;return 0},i._$getAppVersion=function(){var t=window.navigator.userAgent;if(!this.__isApp())return"";var e=/(kaolaApp\/|kaolaAppSpring\/)[\d\.]+/.exec(t);return e&&e.length&&e[0].split("/")[1]||""},i.__isApp=function(){return!!window.__isKaolaApp||o(/kaolaApp/)||o(/kaolaAppSpring/)},i.__isIOS=function(){return o(/(iPhone|iPod|iPad)/i)},i.__isAndroid=function(){return o(/Android/i)},i.__isYiupin=function(){return o(/iOS_distApp/)||o(/Android_distApp/)},i.__isInMiniProgram=function(){return"miniprogram"===window.__wxjs_environment||o(/MicroMessenger.*miniProgram/i)};var a=i;e["default"]=a},function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.daEvent=void 0;var o=i(n(2)),a=n(3),s=n(12),r=i(n(13)),c=[],l=!1,d="";function u(){return a.clientInfo.__isApp()&&a.clientInfo._$isAppVerEqOver("4.3.0")}function p(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(window&&window._dapush){d||(d=(0,s.getCookie)("P_INFO").split("|")[0]||"")&&r["default"].login(d),r["default"].da(t);var e=t.eventId,n=void 0===e?"h5Page":e,i=t.category,a=void 0===i?"click":i,c=t.label,l=void 0===c?"":c,u=t.attributes,p=void 0===u?{}:u;if("pageView"===a)!window._daInfo._selfDaLoaded&&window._daInfo._pageView||window._dapush&&window._dapush("page_view");else{var f=(0,o["default"])({userAccount:d,userId:d},p);window._dapush,window._dapush("_trackEvent",n,a,l,f)}}}function f(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=t.category,n=t.attributes._h5da;"pageView"===e&&"true"!==n&&u()||(a.clientInfo.__isIOS()?function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.HTNativeStatistics?window.webkit.messageHandlers.HTNativeStatistics.postMessage(t):window.HTNativePageLoadFinish?window.HTNativeStatistics(t):p(t)}(t):window.WeixinJSBridge?m(t):(c.push(t),l||(document.addEventListener("WeixinJSBridgeReady",function(){c.forEach(function(t){m(t)}),c=[]}),l=!0)))}function m(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};window.WeixinJSBridge?window.WeixinJSBridge.invoke("statistics",t,function(t){console.log(t)}):p(t)}var h=function(){return u()||a.clientInfo.__isYiupin()?f:p};e.daEvent=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i={init:function(){var t,e;window._dapush||document.querySelector('script[src*="rev.da.netease.com/da.js"]')||(window._daInfo._selfDaLoaded=!0,t=window,document,e="_dapush",t.AnalyticsObject=e,t[e]=t[e]||function(){(t[e].ops=t[e].ops||[]).push(arguments)},setTimeout(function(){i.create()},window._daInfo._delayLoad),window._dapush("create",window._daInfo._damac))},create:function(){var t,e,n;window,t=document,(e=t.createElement("script")).type="text/javascript",n=t.getElementsByTagName("script")[0],e.async=!0,e.src="//haitao.nos.netease.com/b70fa986-bd9a-4862-ace6-b1157c7b163e.js",n.parentNode.insertBefore(e,n)}},o=i;e["default"]=o}])},"object"===(0,g["default"])(e)&&"object"===(0,g["default"])(t)?t.exports=s():(o=[],(a="function"==typeof(i=s)?i.apply(e,o):i)===undefined||(t.exports=a))}).call(e,n(567)(t))},function(t,e,n){var i=n(384);t.exports=i},function(t,e,n){var i=d(n(249)),o=d(n(28)),a=d(n(152)),s=d(n(247)),r=d(n(120)),c=d(n(108)),l=d(n(119));function d(t){return t&&t.__esModule?t:{"default":t}}var u,p="function"==typeof l["default"]&&"symbol"===(0,c["default"])(r["default"])?function(t){return void 0===t?"undefined":(0,c["default"])(t)}:function(t){return t&&"function"==typeof l["default"]&&t.constructor===l["default"]&&t!==l["default"].prototype?"symbol":void 0===t?"undefined":(0,c["default"])(t)},f=n(547),m=(u=f)&&u.__esModule?u:{"default":u};var h=n(382).DA,g="pc";/Android|webOS|iPhone|iPod|Windows Phone|SymbianOS|BlackBerry/i.test(navigator.userAgent)&&E("UA","mobile");var v=".proto-mask{width:100%;height:100%;background-color:#999;position: fixed;top: 0;left: 0;z-index:12998 !important}.proto-modal{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:640px;height:348px;background-color:#FFF;z-index:12999 !important}.proto-modal-header{height:52px;font-size:16px;color:#9e9e9e;line-height:52px;border-bottom:1px dashed #eaeaea;padding-left:30px}.proto-modal-body ul{margin:30px;font-size:16px;color:#666;line-height:30px;padding-inline-start:0}.proto-modal-body ul li{list-style:none}.proto-modal-body .policy{color:#59baf3;text-decoration: none}.proto-modal-body button{width:158px;height:40px;font-size:14px;color:#666;line-height:40px;margin:0;padding:0;border:1px solid transparent;outline:0;border-radius:2px;cursor:pointer}.proto-modal-body .button-wrap{text-align:center}.proto-modal-body .agree-proto{color:#666;background:#FFF;border:1px solid #CCC}.proto-modal-body .refuse-proto{margin-left:24px;color:#FFF;background:#e41335}",_=".proto-mask{width:100%;height:100%;background-color:#999;position: fixed;top: 0;left: 0;z-index:12998 !important}.proto-modal{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:274px;height:290px;background-color:#FFF;z-index:12999 !important;border-radius:6px}.proto-modal-header{padding-top:12px;font-size:16px;font-weight:700;color:#333;text-align:center}.proto-modal-body{padding:20px;font-size:12px;font-weight:700;color:#252525;letter-spacing:0;line-height:20px}.proto-modal-body .policy{color:#59BAF3;text-decoration:none}.proto-modal-body button{width:122px;height:35px;font-size:15px;line-height:35px;margin:0;padding:0;border:1px solid transparent;outline:0;border-radius:35px;cursor:pointer;letter-spacing:3px}.proto-modal-body .button-wrap{text-align:center;width:274px;margin:10px 0 0 -20px}.proto-modal-body .agree-proto{color:#9B9B9B;background:#FFF;border:1px solid #CCC}.proto-modal-body .refuse-proto{margin-left:8px;color:#FFF;background:#E41335}",y='\n    <div class="proto-modal-header">隐私政策更新</div>\n    <div class="proto-modal-body">\n        <ul>\n            <li>欢迎使用网易考拉。</li>\n            <li>为了加强对您个人信息的保护，根据最新法律法规要求，我们更新了隐私政策，以向您说明我们在收集和使用您相关个人信息时的处理规则。</li>\n            <li>请您仔细阅读并确认“\n                <a class="policy" href="https://www.kaola.com/common/page.html?key=Privacy_policy" target="_blank">隐私权相关政策</a>\n                ”（特别是加粗或下划线标注的内容），我们将严格按照政策内容使用和保护您的个人信息，为您提供更好的服务。\n            </li>\n        </ul>\n        <div class="button-wrap">\n            <button id="agreeProto" onclick="logout()" class="agree-proto">不同意，退出登录</button>\n            <button id="refuseProto" onclick="agree()" class="refuse-proto">同意，继续使用</button>\n        </div>\n    </div>',b='\n    <div class="proto-modal-header">隐私政策更新</div>\n    <div class="proto-modal-body">\n        欢迎使用网易考拉。<br/>\n        为了加强对您个人信息的保护，根据最新法律法规要求，我们更新了隐私政策，以向您说明我们在收集和使用您相关个人信息时的处理规则。<br/>\n        请您仔细阅读并确认“\n        <a class="policy" href="https://m-element.kaola.com/common/page.html?key=Privacy_policy" target="_blank">隐私权相关政策</a>”（特别是加粗或下划线标注的内容），我们将严格按照政策内容使用和保护您的个人信息，为您提供更好的服务。\n        <div class="button-wrap">\n            <button id="agreeProto" onclick="logout()" class="agree-proto">不同意</button>\n            <button id="refuseProto" onclick="agree()" class="refuse-proto">同意</button>\n        </div>\n    </div>';function I(){C("DA").da({type:"click",kpm:{c:"隐私政策更新弹窗",d:"不同意"}},{attributes:{actionType:"点击"}}),location.href="https://www.kaola.com/logout.html?url="+location.href}function S(){C("DA").da({type:"click",kpm:{c:"隐私政策更新弹窗",d:"同意"}},{attributes:{actionType:"点击"}}),C("axios").get("https://m-user.kaola.com/account/accept/privacy.html",{withCredentials:!0}).then(function(t){console.log(t),t&&t.data&&200===t.data.code&&(document.getElementsByClassName("proto-modal")[0].style.display="none",document.getElementsByClassName("proto-mask")[0].style.display="none",location.reload())})["catch"](function(t){console.log(t)})}function T(){var t=document.head||document.getElementsByTagName("head")[0],e=document.body||document.getElementsByTagName("body")[0],n=document.createElement("style"),i=document.createElement("div"),o=document.createElement("div");i.className="proto-modal",o.className="proto-mask",n.type="text/css",window.agree=C("agree"),window.logout=C("logout"),"pc"===C("UA")?(n.innerHTML=C("pcCss"),i.innerHTML=C("pcHtml")):(n.innerHTML=C("mobileCss"),i.innerHTML=C("mobileHtml")),C("axios").get("https://m-user.kaola.com/account/check.html",{withCredentials:!0}).then(function(a){console.log(a),a&&a.data&&a.data.data&&1===a.data.data.action?(t.appendChild(n),e.appendChild(o),e.appendChild(i)):a&&a.data&&a.data.data&&2===a.data.data.action&&"mobile"===C("UA")&&(location.href="https://m.kaola.com/personal/redirectBind.html?target="+location.href)})["catch"](function(t){console.log(t)})}t.exports=C("loadModal");var x=(0,s["default"])(null),w="__INTENTIONAL_UNDEFINED__",k={};function C(t){if(x===undefined||x[t]===undefined)return function(t){switch(t){case"UA":return g;case"DA":return h;case"axios":return m["default"];case"agree":return S;case"logout":return I;case"pcCss":return v;case"pcHtml":return y;case"mobileCss":return _;case"mobileHtml":return b;case"loadModal":return T}return undefined}(t);var e=x[t];return e===w?undefined:e}function E(t,e){return x===undefined||x[t]===undefined?function(t,e){switch(t){case"UA":return g=e}return undefined}(t,e):x[t]=e}function P(t,e){if("object"!==(void 0===t?"undefined":p(t)))return e===undefined?x[t]=w:x[t]=e,function(){L(t)};(0,o["default"])(t).forEach(function(e){x[e]=t[e]})}function L(t){delete x[t]}function A(t){var e=(0,o["default"])(t),n={};function i(){e.forEach(function(t){x[t]=n[t]})}return function(o){e.forEach(function(e){n[e]=x[e],x[e]=t[e]});var a=o();return a&&"function"==typeof a.then?a.then(i)["catch"](i):i(),a}}!function(){function t(t,e){(0,a["default"])(k,t,{value:e,enumerable:!1,configurable:!0})}t("__get__",C),t("__GetDependency__",C),t("__Rewire__",P),t("__set__",P),t("__reset__",L),t("__ResetDependency__",L),t("__with__",A)}();var D=p(t.exports);function N(e,n){(0,a["default"])(t.exports,e,{value:n,enumerable:!1,configurable:!0})}"object"!==D&&"function"!==D||!(0,i["default"])(t.exports)||(N("__get__",C),N("__GetDependency__",C),N("__Rewire__",P),N("__set__",P),N("__reset__",L),N("__ResetDependency__",L),N("__with__",A),N("__RewireAPI__",k))},,,,,,function(t,e,n){n(1),n(4),n(3),n(2);var i=n(36),o=n(296),a=i.extend({content:o,data:{title:"到货提醒",width:520,icon:"yes",text:"设置成功",detail:"",btnText:"确认",customClass:"",timeout:0},init:function(){this.supr();var t=this.data.timeout;0!=t&&this.timeout(t)},confirm:function(){this.destroy()}});t.exports=a},function(t,e,n){var i=n(1),o=n(36),a=n(297);t.exports=o.extend({config:function(){var t=this.data;i.extend(t,{}),t.content=a,this.supr()}})},function(t,e,n){var i=n(6),o=n(2),a=n(17),s=n(12),r=(n(3),n(9)),c=(n(4),n(36)),l=n(298),d=(n(8),n(10)),u=n(45),p={},f={},m=/(^1[3-9]\d{9}$)|(^1[3-9][0-9]{1}[*]{4}[0-9]{4}$)/,h=c.extend({content:l,data:{title:"开抢提醒",width:520},init:function(){var t=this;t.supr(),t.__initDate(),t.$on("success",function(){t.__successDialog()}),t.$on("error",function(){t.__errorDialog()}),t.$on("hide",function(){t.__hide()})},__initDate:function(){var t=this.data;t.title=t.title||"开抢提醒",t.msg=t.msg||"我们将在开抢前通过手机发送通知提醒您。";var e=t.msg.split("*");(e.length%2==1||e.length>1)&&(t.msg="",o._$forEach(e,function(e,n){t.msg+=n%2==1?"<em>"+e+"</em>":e})),this.__initPhoneNumber(),t.phoneCheck=t.phoneCheck||!0,t.appCheck=t.appCheck||!0,t.errorDialog=!1,t.successDialog=!1,this.$update()},__hide:function(){this.$refs&&this.$refs.modal&&this.destroy()},__successDialog:function(){var t=this,e=t.data;e.successDialog=!0,e.errorDialog=!1,e.phoneNumber&&e.phoneCheck&&s._$cookie("NTES_KAOLA_NUMREG",{value:e.phoneNumber,path:"/",domain:".kaola.com",expires:7});var n,i=2;e.counter=3,n=setInterval(function(){if(-1==i)return clearInterval(n),void t.__hide();e.counter=i--,t.$update()},1e3),t.$update()},__errorDialog:function(){var t=this.data;t.errorDialog=!0,t.successDialog=!1,this.$update()},__confirm:function(){var t=this.data,e=t.phoneCheck,n=t.appCheck,i=t.phoneNumber,o={};if(e||n){if(e){if(!this.__checkPhoneNumber(i))return;o.phoneNum=i}n&&(o.appNotification=!0),this.$emit("sending",o)}},__checkPhoneNumber:function(t){var e,n=this.data;return e=""!=t&&m.test(t),n.errMsg=e?"":""==t?"手机号不能为空":"请填写正确的手机号码",e},__phoneNumFocus:function(){this.data.errMsg=""},__phoneNumBlur:function(){this.__checkPhoneNumber(this.data.phoneNumber||"")},__initPhoneNumber:function(){var t=this,e=t.data,n=s._$cookie("NTES_KAOLA_NUMREG");n&&t.__checkPhoneNumber(n)?e.phoneNumber=n:d(u.domainUrl+"getUserMobile.html",{method:"GET",type:"json",norest:!0,onload:function(i){if(i&&200==i.retcode&&(n=i.result.userMobile,t.__checkPhoneNumber(n)))return e.phoneNumber=n,void t.$update();e.phoneNumber="",t.$update()},onerror:function(){e.phoneNumber="",t.$update()}})}});p._$$smsNoticeTpl=i._$klass(),(f=p._$$smsNoticeTpl._$extend(r._$$EventTarget)).__init=function(t){this.__supInit(t),this.__confirm=t.confirm||function(){},this.__msg=t.msg||"",this.__title=t.title||""},f._$show=function(){var t=this;return a.afterLogin(function(){t._smsNotice=new h({data:{title:t.__title,msg:t.__msg}}),t._smsNotice.$on("sending",t.__confirm)}),t},f._$hide=function(){this._smsNotice.$emit("hide")},f._$successDialog=function(){this._smsNotice.$emit("success")},f._$errorDialog=function(){this._smsNotice.$emit("error")},t.exports=p._$$smsNoticeTpl},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports={handleData:function(){this.PropValMap={},this.PropValList=[],this.data.propList.forEach(function(t){t.propertyValues.forEach(function(t){this.PropValMap[t.propertyValueId]=t,this.PropValList.push(t)}._$bind(this))}._$bind(this)),this.skuList=this.data.skuList||[],this.initRenderData(this.PropValMap,this.skuList),this.setShowInfo()},initRenderData:function(){for(var t in this.PropValMap)this.skuList.forEach(function(e){e.skuPropertyValueId4View.match(this.PropValMap[t].propertyValueId)&&("UNSELECT-ENABLE"!==this.PropValMap[t].type&&e.actualStore>0?this.PropValMap[t].type="UNSELECT-ENABLE":"UNSELECT-ENABLE"===this.PropValMap[t].type||(this.PropValMap[t].type="UNSELECT-EMPTY"))}._$bind(this));this.getSkuObjById(this.data.selectedSkuId)?this.initSelectedSku(this.data.selectedSkuId):(this.initOnlyOneSku(),this.initOnlyOnePropval())},initSelectedSku:function(t){var e=this.getSkuObjById(t);e.actualStore>0&&e.skuPropertyValueIdList.forEach(function(t){this.PropValMap[t].type="SELECT-ENABLE"}._$bind(this))},getSkuObjById:function(t){var e="";return this.skuList.forEach(function(n){n.skuId&&n.skuId==t&&(e=n)}._$bind(this)),e},initOnlyOneSku:function(){var t=[];this.skuList.forEach(function(e){e.actualStore>0&&t.push(e)}._$bind(this)),1===t.length&&t[0].skuPropertyValueIdList.forEach(function(t){this.PropValMap[t].type="SELECT-ENABLE"}._$bind(this))},initOnlyOnePropval:function(){this.data.propList.forEach(function(t){1===t.propertyValues.length&&this.skuList.forEach(function(e){e.skuPropertyValueId4View.match(t.propertyValues[0].propertyValueId)&&(t.propertyValues[0].type="SELECT-ENABLE")}._$bind(this))}._$bind(this))},selectprop:function(t){this.setSelectProp(t);var e=this.getSelectedProps();this.setSelectedPropval(e),this.setUnselectPropval(e,t),this.setShowInfo()},setSelectProp:function(t){var e=function(){this.PropValList.forEach(function(e){e.propertyNameId===t.propertyNameId&&(e.type="SELECT-ENABLE"===e.type?"UNSELECT-ENABLE":e.type,e.type="SELECT-EMPTY"===e.type?"UNSELECT-EMPTY":e.type)}._$bind(this))}.bind(this);switch(t.type){case"UNSELECT-EMPTY":e(),t.type="SELECT-EMPTY";break;case"UNSELECT-ENABLE":e(),t.type="SELECT-ENABLE";break;case"SELECT-EMPTY":t.type="UNSELECT-EMPTY";break;case"SELECT-ENABLE":t.type="UNSELECT-ENABLE";break;default:return}},getSelectedProps:function(){var t=[];return this.PropValList.forEach(function(e){"SELECT-EMPTY"!==e.type&&"SELECT-ENABLE"!==e.type||t.push(e)}._$bind(this)),t},setSelectedPropval:function(t){t.forEach(function(t){t.type="SELECT-EMPTY"}),this.skuList.forEach(function(e){var n=!0;t.forEach(function(t){e.skuPropertyValueId4View.match(t.propertyValueId)||(n=!1)}._$bind(this)),n&&e.actualStore>0&&t.forEach(function(t){t.type="SELECT-ENABLE"})})},setUnselectPropval:function(t,e){this.PropValList.forEach(function(n){if(e.propertyNameId!==n.propertyNameId){var i=!1;if(t.forEach(function(t){n.propertyValueId===t.propertyValueId&&(i=!0)}._$bind(this)),!i){var o=this.setNewSelectedProps(t,n);n.type="UNSELECT-EMPTY",this.skuList.forEach(function(t){if(t.skuPropertyValueId4View.match(n.propertyValueId)){var e=!0;o.forEach(function(n){t.skuPropertyValueId4View.match(n.propertyValueId)||(e=!1)}),e&&t.actualStore>0&&(n.type="UNSELECT-ENABLE")}}._$bind(this))}}}._$bind(this))},setNewSelectedProps:function(t,e){var n=!1,i=[];return t.forEach(function(t){t.propertyNameId===e.propertyNameId&&(n=!0)}),n?(i.push(e),t.forEach(function(t){t.propertyNameId!==e.propertyNameId&&i.push(t)})):t.forEach(function(t){i.push(t)}),i},setShowInfo:function(){var t=this.getSelectedProps(),e=this.getSku(t),n={storage:this.getStorage(t)||0,selectedPropObjs:t||[],selectedSkuObj:e||void 0};this.data.selectedSku=e,this.data.showDetail=n,this.$emit("switchsku",n)},getSku:function(t){var e="";return t.length===this.data.propList.length&&this.data.skuList.forEach(function(n){var i=!0;t.forEach(function(t){n.skuPropertyValueId4View.match(t.propertyValueId)||(i=!1)}),i&&(e=n)}),e},getStorage:function(t){var e=0;return this.data.skuList.forEach(function(n){var i=!0;t.forEach(function(t){n.skuPropertyValueId4View.match(t.propertyValueId)||(i=!1)}),i&&(e+=n.actualStore)}),e}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var i=n(1),o=n(36),a=n(320),s=n(12),r=n(390),c=new RegExp("(^1[3-9]\\d{9}$)|(^1[3-9][0-9]{1}[*]{4}[0-9]{4}$)"),l=o.extend({content:a,data:{title:"到货提醒",width:520},init:function(){this.supr()},config:function(){var t=s._$cookie("arrNotPho");this.data.phoneNum=t||"请输入接收通知的手机号"},onPhoneNumBlur:function(){this.data.phoneNum||(this.data.errorMsg="不能为空"),c.test(this.data.phoneNum)?this.data.errorMsg="":this.data.errorMsg="请填写正确的手机号码！"},onPhoneNumFocus:function(){"请输入接收通知的手机号"==this.data.phoneNum&&(this.data.phoneNum=""),this.data.errorMsg=""},confirm:function(){if(c.test(this.data.phoneNum)){var t=i.extend({email:window.account,phoneNo:this.data.phoneNum},this.data.param);this.$request("/stockreg.json",{data:t,method:"POST",norest:!0,onload:function(t){200===t.code?(s._$cookie("arrNotPho",{value:t.data,path:"/",expires:3650}),this.$emit("confirm",t),this.destroy(),new r({data:{icon:"yes",text:"设置成功"}})):8==t.code?(this.destroy(),new r({data:{icon:"yes",text:"该邮箱或手机号已登记过该商品"}})):9==t.code?(this.destroy(),new r({data:{icon:"fail",text:"每日最多可设10个手机号，已达上限"}})):(this.destroy(),new r({data:{icon:"fail",text:"设置失败"}}))}._$bind(this)})}else this.data.phoneNum||(this.data.errorMsg="不能为空"),c.test(this.data.phoneNum)||(this.data.errorMsg="请填写正确的手机号码！")}});t.exports=l},function(t,e,n){var i=n(7),o=n(321),a=i.extend({template:o,config:function(){this.supr(),this.data.goodsDetailContent.switchNewContent&&this.getRuleData()},init:function(){this.supr()},getRuleData:function(){var t=this,e="",n=this.data.goodsDetailContent.factoryGoods||!1;e=n?"product_goodsdetail_rule_factory":"product_goodsdetail_rule",this.$request("//cms-docs.kaola.com/publish/getPublishContentByKey.html",{method:"get",data:{key:e},ignoreTime:!0,norest:!0,onload:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};200===e.code&&e.body&&(t.data.ruleData=e.body.content||"",t.$update(),t.data.ruleData&&!n&&t.resetRuleModules())},onerror:function(){}})},resetRuleModules:function(){var t=document.querySelector("#sexpromise"),e=document.querySelector("#nourishmentreturn"),n=document.querySelector("#foodreturn");1!=this.data.goodsDetailContent.sexyProduct&&t&&(t.style.display="none"),1!=this.data.goodsDetailContent.nourishmentGoods&&e&&(e.style.display="none"),1!=this.data.goodsDetailContent.globalFoodGoods&&n&&(n.style.display="none")}});t.exports=a},function(t,e,n){var i=n(7),o=n(322),a=n(15),s=n(48),r=i.extend({template:o,config:function(){this.supr(),this.getBarData()},init:function(){this.supr()},getBarData:function(){var t="";t=this.data.breadcrumbSwitchOld?a.KAOLA_DOMAIN+"product/breadcrumbTrail/"+this.data.goodsId+".html":a.DETAIL_DOMAIN+"product/breadcrumbTrail/"+this.data.goodsId+".json",this.$request(t,{method:"get",onload:function(t){200===t.retcode?(this.data.breadCatList=t.retdata.categoryList||[],this.data.brandId=t.retdata.brandId||"",this.data.brandName=t.retdata.brandName||""):t.retcode},onerror:function(){}})},showSubCatList:function(t,e){if(t.showSubTag=!0,t.index=20,t.subCatList)this.$update();else{var n="";n=this.data.breadcrumbSwitchOld?a.KAOLA_DOMAIN+"product/breadcrumbTrail/subCategorys/"+e+".html":a.DETAIL_DOMAIN+"product/breadcrumbTrail/subCategorys/"+e+".json",this.$request(n,{method:"get",onload:function(e){200===e.retcode&&e.retdata&&e.retdata.length>0&&(t.subCatList=e.retdata,t.subCatList.forEach(function(e,n){e.categoryId===t.categoryId&&t.subCatList.splice(n,1)}._$bind(this)),this.$update())},onerror:function(){}})}},hideSubCatList:function(t){t.index=1,t.showSubTag=!1},showHoverTip:function(t,e,n){var i=n.target;this.data.shopInfo=this.data.shopInfo||{};var o=this.data.shopInfo;o[e]=o[e]||{},!o[e].tip&&i&&(o[e].tip=new s({data:{anchor:i,maxWidth:150,contentHtml:t,orientation:"up",wrapperClass:"f-c333"}}).$inject(document.body))},hideHoverTip:function(t){this.data.shopInfo=this.data.shopInfo||{};var e=this.data.shopInfo;e[t]&&e[t].tip&&(e[t].tip=e[t].tip.destroy())},isTagShow:function(t,e){return t.tagLogo&&t.tagTitle&&e<2&&(0===t.shopTagType||1===t.shopTagType)},showBrandList:function(){this.data.showBrandListTag=!0,this.data.brandListIndex=20;var t=0;if(this.data.breadCatList.length>0&&(t=this.data.breadCatList[this.data.breadCatList.length-1].categoryId||0),!this.data.brandList&&t){var e="";e=this.data.breadcrumbSwitchOld?a.KAOLA_DOMAIN+"product/breadcrumbTrail/subBrands/"+t+".html":a.DETAIL_DOMAIN+"product/breadcrumbTrail/subBrands/"+t+".json",this.$request(e,{method:"get",onload:function(t){200===t.retcode&&(this.data.brandList=t.retdata||[],this.data.brandList.forEach(function(t,e){t.brandId===this.data.brandId&&this.data.brandList.splice(e,1)}._$bind(this)),this.$update())},onerror:function(){}})}else this.$update()},hideBrandList:function(){this.data.showBrandListTag=!1,this.data.brandListIndex=1}});t.exports=r},function(t,e,n){var i=n(7),o=n(4),a=n(323),s=n(1),r=n(17),c=n(468),l=n(221),d=n(82),u=n(15),p=n(116),f=n(17),m=i.extend({template:a,name:"combolist",config:function(){var t=(window.__kaolaHeadData||{}).goodsDetailContent||{};this.__hkMedicine=t.hkMedicine||!1,this.__hkNourishment=t.hkNourishment||!1,this.supr(),this.data.index=0,this.data.formDomainUrl=this.__hkMedicine?u.BUY_DOMAIN_HK:u.BUY_DOMAIN,this.changeCombo(0)},init:function(){this.supr(),s.daEvent("商品详情页","优惠套餐区域","出现")},refresh:function(t){this.$update(),this.changeCombo(t)},changeCombo:function(t){this.data.index=t,this.data.sortComboObj=this.data.sortCombolist[t],this.data.comboObj=this.data.combolist[t]},showComboDetail:function(t,e,n){var i=this;(this.__hkMedicine||this.__hkNourishment)&&"ADDCART"===e?r.afterLogin(function(){i.__showComboDetail(t,e,n)}):this.__showComboDetail(t,e,n)},__showComboDetail:function(t,e,n){this.checkComboSelected(t.comboGoodsList)?"BUYNOW"===e?this.buynow(t):"ADDCART"===e&&(t.evtnode=n.target,this.addcart(1,t)):(this.skuDia=new c({data:{comboData:t,btnType:e}}),this.skuDia.$inject(document.body),this.skuDia.$on("buynow",this.buynow._$bind(this)),this.skuDia.$on("addcart",this.addcart._$bind(this,0)))},checkComboSelected:function(t){var e=!0;return t.forEach(function(t){1===t.skuList.length?t.selectedSku=t.skuList[0]:e=!1}),e},buynow:function(t){var e=[];t.comboGoodsList.forEach(function(n){n.selectedSku&&e.push({comboId:t.comboId||"",goodsId:n.goodsId||"",skuId:n.selectedSku.skuId||"",goodsAmount:n.goodsAmount||0,giftList:n.selectedSku.goodsPresentGiftList||[],comboprice:n.selectedSku.comboPrice||""})}._$bind(this)),this.data.selectedGoods=e,this.$update(),setTimeout(function(){this.doSubmit()}._$bind(this),0)},doSubmit:function(){var t=this;f.isLogin(function(e){e?t.$refs.buyform.submit():p._$allocate({logincallback:function(){t.$refs.buyform.submit()}})._$show()})},addcart:function(t,e){this.$request(u.TRADE_DOMAIN+"cart/addCartItem.html",{method:"POST",data:this.getParams(e),onload:function(n){200==n.retcode?(0===t?this.skuDia.destroy():this.fly2cart({from:e.evtnode,imageUrl:e.comboGoodsList[0].imageUrl}),this.setCartNum(n.cartGoodsNum||0)):101==n.retcode&&n.retdesc?this.overNumAlert(n.retdesc):this.alert(n.retdesc)},onerror:function(t){this.alert(t.retdesc)}})},getParams:function(t){var e={comboId:t.comboId||"",innerSource:"DETAIL"},n=[];return t.comboGoodsList.forEach(function(t){t.selectedSku&&n.push({goodsId:t.goodsId||0,skuId:t.selectedSku.skuId||"",count:t.goodsAmount||0,selected:1,isHuanGou:0})}),e.goodsList=n,e},fly2cart:function(t){(t.to=o._$getByClassName("rightBarNew","shopcart")[0],t.devx=0,t.devy=-40,t.plus=!1,t.to)&&l._$allocate(t)._$play()},setCartNum:function(t){var e=o._$get("newcartnum"),n=o._$get("rightBarNew"),i=o._$getByClassName(n,"num"),a=o._$getByClassName(window.body,"custom-cart-num")||[];a=a.concat(e||[]),t=(t=t||0)<=0?0:t<=99?t:"99+";for(var s=0,r=a.length;s<r;s++)e=a[s],0==t?e&&(e.style.display="none"):e&&(e.innerText=t,e.style.display="");0==t?i&&i.length>0&&(i[0].style.visibility="hidden"):i&&i.length>0&&(i[0].style.visibility="visible",i[0].innerText=t),window.cartAmount=t,"[object Function]"=={}.toString.call(window.updateCustomCart)&&window.updateCustomCart(t)},overNumAlert:function(t){new d({data:{height:270,title:"购物车满啦",msg:'<i class="iconfont main-icon notice icon-emotion"></i>'+(t||"啊哦~您的购物车商品已满，清理一下再加入新商品吧！"),clazz:"m-dialogalert",txtOk:"暂不清理",txtCC:"去购物车清理",oncancel:function(){return window.open("//buy.kaola.com/cart.html","_blank"),!1}}}).$inject(document.body)},alert:function(t){new d({data:{height:220,msg:'<i class="iconfont main-icon notice icon-emotion"></i>'+t,clazz:"m-dialogalert",hideOkBtn:!0,hideCCBtn:!0,timeout:3e3}}).$inject(document.body)}});t.exports=m},function(t,e,n){var i=n(7),o=n(324),a=(n(540),n(462),i.extend({template:o,config:function(){this.supr(),this.data.similarOption={strategy:"bindBuy",limit:6,condition:{goodsId:this.data.goodsId,account:window.account||"",recommendType:1},tongji:{category:"推荐区域展示",action:"商品详情页",lable:"买了又买",position:"商品详情页面：相关推荐（DETAIL）",from:"detailmlym",query:"rp=detail&zp=mlym&zn=rec&recId="},dapushParam:{id:"j-listsimilar",page:"商品详情页",module:"相关推荐"}},this.data.comboTag=!1,this.getComboData()},init:function(){this.supr()},getRecData:function(t){this.data.reclist=t||[],this.data.recTag=!0,this.initTab()},refresh:function(t){this.$refs.similarList.refresh(),this.data.addrObj=t,this.getComboData()},getComboData:function(){var t={goodsId:this.data.goodsId};this.data.addrObj&&(t.districtCode=this.data.addrObj.districtCode,t.cityCode=this.data.addrObj.cityCode,t.provinceCode=this.data.addrObj.provinceCode),this.$request("/product/combolist.json",{method:"get",data:t,onload:function(t){200==t.code&&(this.data.combolist=t.data.comboInfoList||[],this.data.sortCombolist=t.data.sortComboInfoList||[],this.data.comboTag=!0,this.$refs.combobox&&this.$refs.combobox.refresh(0),this.initTab())},onerror:function(){}})},initTab:function(){this.data.comboTag&&this.data.recTag&&(this.data.ready=!0,this.data.combolist.length?this.data.type="COMBO":this.data.reclist.length&&(this.data.type="REC"),this.$update())}}));t.exports=a},function(t,e,n){var i=n(6),o=n(17),a=n(1),s=n(3),r=n(9),c=n(116),l=n(117),d=n(8),u=n(10),p=n(465),f={},m=void 0;f._$$ActivSlide=i._$klass(),(m=f._$$ActivSlide._$extend(r._$$EventTarget)).__init=function(t){this.__supInit(t);this.__goods=t||{},this.scroll2load=t.scroll2load||!1,this.__ajaxBusy=!1,this.__isTagActive=!1,this.__state={goodsId:this.__goods.goodsId,grade:0,tagType:0,hasContent:0,showSelfGoodsComment:!1,paginationContext:null,pageNo:1,pageSize:20},this.__commtag={goodsId:this.__goods.goodsId,tagName:null,pageNo:1,paginationContext:null,pageSize:20};var e=d(".j-userrating"),n=d(".j-userratingTab");e.length&&(this.__$wrap=e,this.__$tab=n,this.__initGivenBean(),this.__initShowSelfSwitch(),this.__bindEvent())},m.__initShowSelfSwitch=function(){u("/commentAjax/queryShowSelfGoodsCommentSwitch.json",{method:"GET",type:"json",onload:function(t){200==t.code&&t.data&&t.data.result&&d(".showSelf")._$delClassName("hide2")}})},m.__initGivenBean=function(){var t=this.__state.goodsId;u("/commentAjax/isGiveKaoLaBean.json",{method:"POST",data:{goodsIds:t},type:"json",norest:!0,onload:function(t){200==t.code&&t.data&&t.data.isGiveKaoLaBean&&d(".j-givenbean")._$delClassName("hide")}})},m.__initCommentTag=function(){var t=this,e=t.__commtag,n=t.__state,i=d(".j-commenttag"),o=d(".tabw",i);if(!i.length&&!o.length){u("//www.kaola.com/commentAjax/getGoodsImpression.html",{method:"POST",data:{goodsId:n.goodsId},type:"json",onload:function(n){if(200==n.retcode&&n.impressionMap){var i="";(function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({key:n,val:t[n]});return e})(n.impressionMap||{}).forEach(function(t){i+='<dd class="tabli" data-tagName="'+t.key+'">'+t.key+"&ensp;<i>("+t.val+")</i></dd>"}),""!==i&&o.html('<dt class="tabt">大家印象：</dt>'+i).show(),o.delegate(".tabli","click",function(){e.pageNo=1,t.__showComment(!1,!0,d(this))})}}})}},m.__showComment=function(t,e,n){var i=this.__state,o=this.__commtag,s=d(".j-commenttag .tabli"),r=d(".j-commenttabs .j-tab.active");if(t&&a.daEvent("商品详情页","评价区","区域出现"),this.__isTagActive=!!e,n=n||d(".j-commenttag .tabli.z-sel"),e&&n&&1==n.length){o.tagName=n._$attr("data-tagName"),s._$delClassName("z-sel"),n._$addClassName("z-sel");this.__updateCommentList("//www.kaola.com/commentAjax/getGoodsCommentByImpression.html",o),r._$delClassName("active")._$children(".wrapnRadio",!0)._$delClassName("nRadioChecked")._$addClassName("nRadioUnchecked")}e||(s._$delClassName("z-sel"),this.__updateCommentList("/commentAjax/comment_list_new.json",i))},m.__updateCommentList=function(t,e){var n=this;if(n.__commentListRgl)n.__commentListRgl.$emit("update",{url:t,params:e});else{n.__commentListRgl=new p({data:{url:t,params:e,pageNo:e.pageNo,pageSize:e.pageSize,totalSize:0}});var i=d(".j-commwrap")[0];i.innerHTML="",n.__commentListRgl.$inject(i),n.__commentListRgl.$on("ajaxbusy",function(t){n.__ajaxBusy=t}),n.__commentListRgl.$on("paginationContext",function(t){n.__state.paginationContext=t,n.__commtag.paginationContext=t}),n.__commentListRgl.$on("changePageNo",function(t){n.__state.pageNo=t||1,n.__commtag.pageNo=t||1}),n.__commentListRgl.$on("initCommentTab",function(t){if(!n.__state.hasInitCommentTab){n.__state.hasInitCommentTab=!0;var e="";t.forEach(function(t,n){e+='                    <li class="j-tab '+(0===n?"active":"")+'"                        data-tagType="'+(t.tagType||0)+'"                        data-dapush="'+(t.name||"")+'">                        <label>                            <a href="javascript:void(0)"                                class="wrapnRadio '+(0===n?"nRadioChecked":"nRadioUnchecked")+'"></a>                            '+(t.name||"")+" "+(t.count||"")+"                        </label>                    </li>                    "}),d("#j-commenttablist")._$html(e);var i=this.__$wrap,o=d(".j-commenttabs li.j-tab",i),a=d(".j-commenttabs li.j-content",i);n.__bindTabsChange(o,a,n.__showComment._$bind(n,!1))}})}},m.__bindEvent=function(){var t=this,e=t.__$wrap[0],n=t.__$tab[0],i=document.documentElement.clientHeight||0,o=void 0,r=function c(){s._$delEvent(window,"scroll",o),s._$delEvent(n,"click",c),t.__showComment(!0)};o=a.throttle(function(){var t=e.getBoundingClientRect();t&&t.top<=i&&r()}._$bind(t),50,{leading:!1}),n&&t.scroll2load?(s._$addEvent(window,"scroll",o),s._$addEvent(n,"click",r)):t.__showComment(!0)},m.__bindTabsChange=function(t,e,n){var i=this,s=i.__state,r=t._$children("label",!1),l=r._$children("a.wrapnRadio",!1),p=d("label",e);e._$on("click",function(){i.__ajaxBusy||(p._$hasClassName("m-checked")?(p._$delClassName("m-checked"),s.showSelfGoodsComment=!1,s.hasInitCommentTab=!1):(p._$addClassName("m-checked"),s.showSelfGoodsComment=!0,s.hasInitCommentTab=!1),s.pageNo=1,i.__isTagActive||n())}),r._$on("click",function(){var e=d(this),o=e._$parent("li");if(!o._$hasClassName("active")&&!i.__ajaxBusy){var r=d("a.wrapnRadio",e),c=o._$attr("data-tagType"),u=o._$attr("data-dapush");l._$delClassName("nRadioChecked")._$addClassName("nRadioUnchecked"),r._$delClassName("nRadioUnchecked")._$addClassName("nRadioChecked"),t._$delClassName("active"),o._$addClassName("active"),a.daEvent("商品详情页","评价区",u),s.grade=0,s.pageNo=1,s.tagType=c,n()}});var f=!1;d(".j-sendeva")._$on("click",function(){function t(){f=!0;u("//www.kaola.com/commentAjax/hasWaitComment.html",{method:"POST",data:{},type:"json",onload:function(t){t&&200===t.retcode&&t.statusStatic&&parseInt(t.statusStatic.waitComment)>0?window.open((window.__domainUrl||"/")+"personal/my_order_new.html?tradestatus=4_3&zn=addComment","_blank"):(a.daEvent("商品详情页","发表评价","无待评价"),i.__errDlg("Hi，您暂时没有需要评价的商品哟~")),f=!1},onerror:function(){i.__errDlg("网络信号不佳，请稍后重新"),f=!1}})}f||o.isLogin(function(e){e?t():(a.daEvent("商品详情页","发表评价","出现登录框"),c._$allocate({logincallback:function(){window._$refreshTopbar?window._$refreshTopbar():i._$dispatchEvent("refreshTopbar"),t()}})._$show())})})},m.__errDlg=function(t){new l({data:{width:520,title:"提示",icon:"notice",descOne:t||"网络或系统错误",txtOk:"知道了",hideCCBtn:!0}})},t.exports=f._$$ActivSlide},function(t,e,n){var i=n(1),o=n(8),a=n(10),s=n(7),r=n(47),c=n(325),l=n(51),d=(n(466),s.extend({template:c,config:function(){var t=this,e=t.data;t.supr(),e.loading=!0,e.hasError=!1,e.ajaxbusy=!1,t.__update(),t.$on("update",function(e){e&&t.__update(e.url,e.params)}),t.$watch("pageNo",function(n){e.params.pageNo!=n&&(e.params.pageNo=n,t.$emit("changePageNo",n),r._$allocate({scrollTo:o(".j-commwrap")[0],offset:-50,duration:50,timing:"easeinout"}),t.__update())})},__update:function(t,e){var n=this,i=n.data;i.url=t||i.url,i.params=e||i.params||{},i.pageNo=i.params.pageNo||1,i.loading=!0,i.hasError=!1,i.ajaxbusy||(i.ajaxbusy=!0,n.$emit("ajaxbusy",!0),n.$update(),a(i.url,{method:"POST",data:i.params,type:"json",norest:!0,onload:function(t){if(i.loading=!1,i.ajaxbusy=!1,n.$emit("ajaxbusy",!1),i.totalSize=0,t&&200==t.code&&t.data&&t.data.commentTagVOList&&t.data.commentTagVOList.length&&n.$emit("initCommentTab",t.data.commentTagVOList),t&&200==t.code&&t.data&&t.data.commentPage&&t.data.commentPage.result&&t.data.commentPage.result.length){var e=t.data.commentPage;i.commentList=e.result;var o=t.data.paginationContext||null;n.$emit("paginationContext",o),e.result instanceof Array&&(i.totalSize=e.totalCount||0,n._initData()),i.hasError=!1}else i.hasError=!0;n.$update()},onerror:function(){i.totalSize=0,i.hasError=!0,i.ajaxbusy=!1,n.$emit("ajaxbusy",!1),n.$update()}}))},_initData:function(){var t=this.data;t.commentList=t.commentList||[],t.commentList.forEach(function(t){if(t.a_star=2*t.commentPoint||0,t.a_starWidth=10*parseInt(t.a_star),t.a_days=["当日追加","次日追加"],t.a_replys=t.replyList||[],t.a_sysTimeStr=new Date(window.__systemTime),t.zanStr=parseInt(t.zanCount||0)>0?t.zanCount:"赞",t.commentContent&&"该用户没有填写评论。"==t.commentContent&&t.imgUrls&&t.imgUrls.length>0&&(t.a_commentContent="用户晒单"),t.createTime){var e=new Date(+t.createTime);e.getFullYear()==(new Date).getFullYear()?t.a_createTimeStr=i.formatTime(e,"MM.dd"):t.a_createTimeStr=i.formatTime(e,"yyyy.MM.dd")}t.a_replys&&t.a_replys.length>0&&(t.a_appendReply={},t.a_replys.forEach(function(e){e.replyType&&1!=e.replyType&&3!=e.replyType&&(t.a_appendReply=e,t.a_appendReply.afterDays<2?t.a_afterDayComm=t.a_days[t.a_appendReply.afterDays]:t.a_afterDayComm=t.a_appendReply.afterDays+"天后追加")})),t.avatarKaola=t.avatarKaola||"/res/images/product/yonghu.png"})},zan:function(t){var e=this,n=t.zanStatus,i=t.goodsCommentId;a("/commentAjax/zan.json",{method:"POST",data:{commentId:i,status:!n},type:"json",norest:!0,onload:function(i){i&&200===i.code&&(n?t.zanCount--:t.zanCount++,t.zanStr=parseInt(t.zanCount||0)>0?t.zanCount:"赞",t.zanStatus=!t.zanStatus,e.$update())}})},viewImgLoaded:function(t,e,n){e.viewList=e.viewList||[],e.viewList[n]={open:!1,el:t.target,style:{},lEl:null,lStyle:null,lLoaded:!1}},viewLargeImgLoaded:function(t,e,n){e.viewList=e.viewList||[];var i,o,a=e.viewList[n];a&&!a.lStyle&&(o=a.lEl=t.target,i=this.__getImgSizeInBox(290,290,o.width,o.height),a.lStyle={width:i.width+"px",height:i.height+"px"},a.lLoaded=!0)},prev:function(t){if(0!=t.currIdx&&!t.animating){t.animating=!0;var e=this,n=t.viewList||[];t.currIdx--,e.__setImgStyle(n,t),this.__easeInOut(t.marginLeft,t.marginLeft+290,150,function(n){t.marginLeft=n,e.$update()},function(){t.animating=!1})}},next:function(t){if(t.currIdx!=t.imgUrlsFor435.length-1&&!t.animating){t.animating=!0;var e=this,n=t.viewList||[];t.currIdx++,e.__setImgStyle(n,t),this.__easeInOut(t.marginLeft,t.marginLeft-290,150,function(n){t.marginLeft=n,e.$update()},function(){t.animating=!1})}},toggleImg:function(t,e){var n=t.viewList||[],i=n[e]||{};i.el&&(i.open?t.open&&i.open&&(t.open=!1,n.forEach(function(t){t.open=!1,t.style.width="auto",t.style.height="auto"})):(t.open=!0,t.currIdx=e,t.marginLeft=290*-t.currIdx,this.__setImgStyle(n,t)))},__setImgStyle:function(t,e){var n=this,i=e.currIdx;e.hidePrevArr=0==e.currIdx,e.hideNextArr=e.currIdx==e.imgUrlsFor435.length-1,t.forEach(function(t,e){var o,a=e===i,s=a?36:40;t.open=a,o=n.__getImgSizeInBox(s,s,t.el.width,t.el.height),t.style.width=o.width+"px",t.style.height=o.height+"px"})},__getImgSizeInBox:function(t,e,n,i){return!!n&&(n>=t&&(i*=t/n,n=t),i>=e&&(n*=e/i,i=e),{width:n,height:i})},__easeInOut:function(t,e,n,i,o,a){var s=this;a=a===undefined;var r=l._$$AnimEaseInOut._$allocate({from:{offset:t},to:{offset:e},duration:n,onupdate:function(t){i&&i(t.offset),s.$update()},onstop:function(){o&&o(),this._$recycle(),s.$update()}});return a&&r._$play(),r},destroy:function(){this.supr()}}).use("timeout"));d.filter({appendUrlParam:function(t,e){return i.insertParamIntoUrl(t,e)}}),t.exports=d},function(t,e,n){var i=n(326),o=n(7).extend({name:"commentPager",template:i,config:function(t){var e=t.show=Math.floor(2.5);t.current=parseInt(t.current||1),t.total=parseInt(t.total||1),this.$watch(["current","total"],function(n){t.begin=n-e,t.end=n+e,t.begin<3&&(t.begin=3),t.end>t.total&&(t.end=t.total)})},onEnter:function(t){this.data.mouseenter&&(this.$emit("enter",t),this.nav(t))},nav:function(t){var e=this.data;t<1||t>e.total||t!==e.current&&(e.current=t,this.$emit("nav",t))}});t.exports=o},function(t,e,n){var i=n(117),o=n(1),a=n(329),s=i.extend({data:{msg:a},config:function(t){o.extend(t,{content:a,hideCCBtn:!0,hideOkBtn:!0,width:640,clazz:"n-sizechartdialog",title:"尺码表",subTitle:"（请放心挑选尺码，考拉保障正品，假一赔十）"}),this.supr(t)},init:function(t){this.supr(t),this.$root==this&&this.$inject(document.body)}}).use("timeout");t.exports=s},function(t,e,n){var i=n(82),o=n(1),a=n(330),s=(n(516),i.extend({data:{msg:a},config:function(t){o.extend(t,{content:a,hideCCBtn:!0,hideOkBtn:!0,title:"选择商品规格",clazz:"m-dialog-sku",width:937}),this.handleData(this.data.comboData.comboGoodsList),this.supr(t)},init:function(t){o.daEvent("商品详情页","SKU选择弹窗","出现"),this.supr(t)},handleData:function(t){for(var e=[],n=0,i=t.length;n<i;n+=2)e.push(t.slice(n,n+2));this.data.renderList=e},switchSku:function(t,e){e.selectedSku=t.selectedSkuObj||void 0,this.checkAllSku()},addcart:function(t){this.data.shouldCheck=!0,this.data.comboData.evtnode=t.target,this.checkAllSku()&&this.$emit("addcart",this.data.comboData)},checkAllSku:function(){var t=0,e=0,n=!0;return this.data.comboData.comboGoodsList.forEach(function(i){i.selectedSku?(t+=parseFloat(i.selectedSku.comboPrice)*i.goodsAmount,e+=parseFloat(i.selectedSku.onlinePrice)*i.goodsAmount-parseFloat(i.selectedSku.comboPrice)*i.goodsAmount):n=!1}),n?(this.data.comboPrice=t,this.data.saveNum=e,this.data.isSelectedAll=!0,!0):(this.data.isSelectedAll=!1,!1)},buynow:function(){this.data.shouldCheck=!0,this.checkAllSku()&&this.$emit("buynow",this.data.comboData)}}).use("timeout"));t.exports=s},function(t,e,n){var i=n(213),o=n(1),a=n(2),s=n(1),r=n(51),c=n(331),l=i.extend({template:c,config:function(t){s.extend(t,{width:520,height:400}),this.supr(t),o.daEvent("商品详情页","收藏","弹窗出现"),t.dspushScroll=["商品详情页","收藏","切换"],t.goodsList=t.goodsList||[],t.pages=[],t.current=0,t.size=t.size||3;var e=t.size,n=t.goodsList.length,i=parseInt(n/e);i*e<n&&i++;for(var a=0,r=i;a<r;a++)t.pages.push(0);t.scrollbarWidth=120*n+10,t.left=0},__scrollLeft:function(){var t=this.data,e=t.dspushScroll;if(0!=t.current&&!t.animating){o.daEvent(e[0],e[1],e[2]),t.animating=!0;var n=t.left,i=n+120*t.size;this.__easeInOut(n,i,500,function(e){t.left=e},function(){t.current--,t.animating=!1})}},__scrollRight:function(){var t=this.data,e=t.dspushScroll;if(t.current!=t.pages.length-1&&!t.animating){o.daEvent(e[0],e[1],e[2]),t.animating=!0;var n=t.left,i=n-120*t.size;this.__easeInOut(n,i,500,function(e){t.left=e},function(){t.current++,t.animating=!1})}},__easeInOut:function(t,e,n,i,o,a){var s=this;a=a===undefined;var c=r._$$AnimEaseInOut._$allocate({from:{offset:t},to:{offset:e},duration:n,onupdate:function(t){i&&i(t.offset),s.$update()},onstop:function(){o&&o(),this._$recycle(),s.$update()}});return a&&c._$play(),c},onclose:function(){this.supr(),this.data.onclose&&this.data.onclose()}}).use("timeout").filter({price:function(t){return a._$fixed(t||0,2)}});t.exports=l},function(t,e,n){var i=n(2);t.exports={isPrice:function(t){return"number"==typeof t&&t>=0},replacestr:function(t,e,n,i){return t.replace(new RegExp(e,i||"g"),n)},addParam:function(t,e,n,i,o){if(!t)return"javascript:void(0);";function a(t,e,n){return t.indexOf("?")>-1?t=t.replace("?","?"+e+"="+n+"&"):t.indexOf("#")>-1?t=t.replace("#","?"+e+"="+n+"#"):t+="?"+e+"="+n,t}return e&&(t=a(t,e,n)),i&&(t=a(t,i,o)),t},decimal:function(t,e,n,o){if(!(t=parseFloat(t))&&0!==t)return"";o=o===undefined?1:o;var a,s=Math.pow(10,e)||1,r=[Math.floor,Math.round,Math.ceil][o],c=void 0;if(!i._$isFunction(r))return"";if(a=r(Math.round(t*s*10)/10)/s,!n)return a;-1==(c=a+"").indexOf(".")&&(c+=".");var l=e-(c.split(".")[1]||"").length;if(l>0)for(;l--;)c+="0";return c},fontcolor:function(){return(arguments.length>0&&arguments[0]!==undefined?arguments[0]:"").replace(/<font\s+color\s*=\s*"\s*([^>]*)\s*">/g,'<i style="color:$1;">').replace(/<\/font>/g,"</i>")},font2i:function(){return(arguments.length>0&&arguments[0]!==undefined?arguments[0]:"").replace(/<font/gi,"<i").replace(/<\/font/gi,"</i")}}},function(t,e,n){var i=n(5),o=n(505),a=n(501),s=n(11),r=n(332),c=n(479),l=n(486),d=n(499),u=n(494),p=n(491),f=n(492),m=n(493),h=n(500),g=n(481),v=n(497),_=n(488),y=n(487),b=n(480),I=n(475),S=n(498),T=n(490),x=n(495),w=n(489),k=n(496),C=n(477),E=n(485),P=n(483),L=n(482),A=n(476),D=s.extend({template:r,data:{},config:function(t){t.store=i.createStore(o,a(t.sync||{}),[i.middleware.thunk,i.middleware.promise],{})},buyNow:function(t){var e=this.$refs.form;e&&e.buyNow(t)},add2Cart:function(t){var e=this.$refs.form;e&&e.add2Cart(t)},btnChange:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.$emit("btnChange",t)},loaded:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.$emit("loaded",t.async||{},t.address||{})},firstChangeSku:function(t){this.$emit("firstChangeSku",t)},scroll2Comment:function(t){this.$emit("scroll2Comment",t)},refreshTopBar:function(){this.$emit("refreshTopBar")},savedAddress:function(t){this.$emit("savedAddress",t)}});D.component("Common",c),D.component("Image",l),D.component("Title",d),D.component("Promotionbar",u),D.component("PreSaleGoods",p),D.component("PreSaleSku",f),D.component("Price",m),D.component("Vipmember",h),D.component("DepositRule",g),D.component("SpecialGoods",v),D.component("MultipackGoods",_),D.component("KaolaBean",y),D.component("Coupon",b),D.component("ActivityTag",I),D.component("TaxFee",S),D.component("Postage",T),D.component("Service",x),D.component("Notice",w),D.component("SkuProps",k),D.component("BuyNum",C),D.component("Guarantee",E),D.component("Form",P),D.component("ExcellentComment",L),D.component("BottomBanner",A),D.use(i.StoreProvider),t.exports=D},function(t,e,n){var i=n(11),o=n(333),a=n(189),s=i.extend({template:o,data:{add2CartClazz:"j-add2cart-btn"},config:function(){this.supr()},add2Cart:function(t){this.data.buyNum.btnDisabled||this.$emit("add2Cart",t)},arrivalNotice:function(){this.$emit("arrivalNotice")}});s.component("FavBtn",a),t.exports=s},function(t,e,n){var i=n(11),o=n(334),a=n(48),s=n(189),r=n(118),c=!1,l=i.extend({template:o,data:{buyNowClazz:"j-buynow-btn",add2CartClazz:"j-add2cart-btn"},config:function(){var t=this;this.supr(),this.$timeout(function(){t.initQrCode()},100)},initQrCode:function(){var t=(this.$refs||{}).newcomerQrCode,e=this.data.goodsId||"";t&&(c=!0,new r(t,{text:"https://m.kaola.com/product/"+e+".html?from=appzhuanxiang",width:140,height:140,colorDark:"#000000",colorLight:"#ffffff",correctLevel:r.CorrectLevel.H}))},buyNow:function(){this.data.buyNum.btnDisabled||this.$emit("buyNow")},add2Cart:function(t){this.data.buyNum.btnDisabled||this.$emit("add2Cart",t)},arrivalNotice:function(){this.$emit("arrivalNotice")},showHoverTip:function(t){var e=this,n=this.data,i=t.target,o=(this.$refs||{}).newcomerQrCode;if(o)return c?void(!n.appNewcomerOnlyTip&&i&&(n.appNewcomerOnlyTip=new a({data:{anchor:i,maxWidth:140,contentHtml:'\n                        <div class="newcomerwrap">\n                            <div class="imgw">'+(o.innerHTML||"")+'</div>\n                            <span class="t">打开网易考拉APP</span>\n                            <span class="t">扫描二维码购买</span>\n                        </div>\n                    ',orientation:"down",wrapperClass:"m-appnewcomer"}}).$inject(document.body))):(this.initQrCode(),c=!0,void this.$timeout(function(){e.showHoverTip(t)},100))},hideHoverTip:function(){var t=this.data;t.appNewcomerOnlyTip&&(t.appNewcomerOnlyTip=t.appNewcomerOnlyTip.destroy())}});l.component("FavBtn",s),l.use("timeout"),t.exports=l},function(t,e,n){var i=n(1),o=n(335),a=n(11);t.exports=a.extend({template:o,data:{anchor:null,wrapperClass:"",wrapStyle:{},arrowStyle:{},saveDetailInfo:[],saveExplain:"",leftOffset:110},events:{$inject:function(){this.layout()}},config:function(){this.supr()},init:function(){this.supr()},layout:function(){var t=this.data;if(t.anchor){var e=i.getOffset(t.anchor),n=i.getOffset(this.$refs.wrap);t.wrapStyle.top=e.top+e.height+8+"px",t.wrapStyle.left=e.left-n.width/2+e.width/2+t.leftOffset+"px",t.arrowStyle={left:"50%",marginLeft:-8-t.leftOffset+"px"},t.wrapStyle.display="block",t.wrapStyle.visibility="visible",this.$update()}}}).use("timeout")},function(t,e,n){var i=n(48),o=n(5),a=n(11),s=n(336),r=n(15),c=n(134),l=a.extend({template:s,data:{kaolaDomain:r.KAOLA_DOMAIN,detailDomain:r.DETAIL_DOMAIN},config:function(){this.supr()},becomeVip:function(t){new c({data:{title:"开通会员",tips:t||"成为考拉会员，尊享会员价，立享全场自营96折优惠"}})},showHoverTip:function(t){var e=t.target;!this.__tip&&e&&(this.__tip=new i({data:{width:250,offsetX:120,anchor:e,contentHtml:"因发货仓库不同，部分地区赠品数量较少，<br>是否可获得赠品，请以下单时的商品列表为准",orientation:"up",wrapperClass:"f-c333"}}).$inject(document.body))},hideHoverTip:function(){this.__tip&&(this.__tip=this.__tip.destroy())}});t.exports=o.connect({mapState:function(t){var e=t.get("notSaleGoods"),n=t.get("activityTagList");return{vipUser:t.getIn(["vipmember","vipUser"]),isBlackVipUser:t.getIn(["vipmember","isBlackVipUser"]),isRedVipUser:t.getIn(["vipmember","isRedVipUser"]),notSaleGoods:e,activityTagList:n}}})(l)},function(t,e,n){var i=n(5),o=n(11),a=n(337),s=n(15),r=o.extend({template:a,data:{kaolaDomain:s.KAOLA_DOMAIN},config:function(){this.supr()}}),c=(0,i.fromJS)({});t.exports=i.connect({mapState:function(t){var e=t.getIn(["async","promotionBanner"])||c,n=t.getIn(["sync","goodsRanksTop"])||c;return{pcMarkingRanksImageUrl:n.get("pcMarkingRanksImageUrl"),pcLandingPageUrl:n.get("pcLandingPageUrl"),ranksTopId:n.get("ranksTopId"),goodsDetailBannerImgUrl:e.get("goodsDetailBannerImgUrl"),goodsDetailBannerLink:e.get("goodsDetailBannerLink")}},listenStateChange:["async.promotionBanner","asyncIndex"]})(r)},function(t,e,n){var i=n(5),o=n(19),a=o.changeGoodsNumber,s=o.setGoodsNumber,r=n(11),c=n(338),l=r.extend({template:c,data:{number:1,buyNum:{}},config:function(){this.supr()},reduce:function(){this.data.buyNum.reduceHide||this.changeGoodsNumber(-1)},increase:function(){this.data.buyNum.addHide||this.changeGoodsNumber(1)},change:function(){this.setGoodsNumber(this.data.number)}});t.exports=i.connect({mapState:function(t){var e=t.get("buyNum")||{},n=parseInt(t.getIn(["sync","goodsInfoBase","onlineStatus"]));return{number:e.get("number")||0,buyNum:e,onlineStatus:n}},listenStateChange:["buyNum"],mapDispatch:[a,s]})(l)},function(t,e,n){n(286);var i=n(5),o=n(339),a=n(11).extend({template:o,data:{},config:function(){this.supr()}});t.exports=i.connect({mapState:function(t){var e=t.get("buyNum"),n=t.getIn(["sync","goodsInfoBase","onlineStatus"]);return{goodsYearOverLimitString:t.get("goodsYearOverLimitString"),onlineStatus:n,buyNum:e}},listenStateChange:["buyNum","goodsYearOverLimitString"]})(a)},function(t,e,n){var i,o=n(13),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(1),r=n(5),c=n(15),l=n(19),d=l.initSyncData,u=l.getAddress,p=l.initAsyncData,f=l.switchVidList,m=l.buyNow,h=l.setGoodsNumber,g=n(11),v=n(340),_=n(227),y=s.getUrlParam("skupvs")||"",b=s.getUrlParam("skuId")||"",I=g.extend({template:v,data:{},config:function(){var t=this;t.initSyncData(document.referrer||"",y);var e=null;t.getAddress().then(function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:c.DEF_ADDRESS;return e=n,t.initAsyncData((0,a["default"])({},n,{firstLoaded:!0}))}).then(function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};b&&!y&&(n.skuDetailList||[]).some(function(t){return!(!t.skuInfo||t.skuInfo.skuId!==b||!t.skuInfo.skuPropervalueIdString)&&(y=t.skuInfo.skuPropervalueIdString,!0)});var i=y.split("_").filter(function(t){return!!t});t.switchVidList(i),t.$emit("loaded",{async:n||{},address:e||{}})})["catch"](function(t){console.error(t)}),this.addGlobalEvents()},addGlobalEvents:function(){var t=this;_.on(_.name.refreshTopBar,function(){t.$emit("refreshTopBar")}),_.on(_.name.updateAsyncAndBuyAgain,function(){var e=t.data.selVidList||[];t.initAsyncData().then(function(){t.switchVidList(e)}).then(function(){setTimeout(function(){t.buyNow()},100)})["catch"](function(t){throw new Error(t)})}),_.on(_.name.setGoodsNumber,function(e){return t.setGoodsNumber(e)})}});t.exports=r.connect({mapState:function(t){return{selVidList:t.getIn(["skuProps","selVidList"])}},listenStateChange:["skuProps"],mapDispatch:[d,u,p,f,m,h]})(I)},function(t,e,n){var i=n(1),o=n(17),a=n(10),s=n(5),r=n(11),c=n(341),l=n(15),d=n(134),u=r.extend({template:c,data:{showAll:!1},config:function(){this.supr()},showCouponEnter:function(t){var e=this.data;this.__clear&&clearTimeout(this.__clear),this.__clear=this.$timeout(function(){e.showAll=!!t},100)},showCouponLeave:function(){this.showCouponEnter(!1)},getCoupon:function(t){var e=this;if(t){i.daEvent("商品详情页","优惠券","点击领取",{couponId:t});var n='<a href="'+l.YOU_DOMAIN+'personal/my_coupon.html" class="mycoupon color-red" target="_blank">去我的优惠券查看 &gt;</a>';o.afterLogin(function(){a(l.YOU_DOMAIN+"api/exchangeCouponByRedeemCode.html",{method:"POST",data:{redeemCode:t,distributeChannel:"65"},type:"json",norest:!0,onload:function(){var o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},a=o.retcode;200==a?(i.daEvent("商品详情页","优惠券","领取成功",{couponId:t}),e.__dialogCenter("领取优惠券","yes","领取成功",n)):-12==a?e.__dialogCenter("领取优惠券","notice",o.retDesc||"您已经领取了该优惠券",n):-3==a||-8==a||-10==a||-19==a||-20==a||-22==a?e.__dialogCenter("领取优惠券","notice",o.retDesc||"由于服务问题，领取失败",""):-38==a||-39==a?new d({data:{title:"领取优惠券",tips:"该券只有会员用户才能领取"}}):e.__dialogCenter("领取优惠券","fail","领取失败",o.retDesc||"由于服务问题，领取失败")},onerror:function(){e.__dialogCenter("领取优惠券","fail","领取失败","由于服务问题，领取失败")}})})}},__dialogCenter:function(t,e,n,o,a,s){a=a||!1,s=s||{},i.extend(s,{inclazz:"center"}),this._$dialog(t,e,n,o,a,s)}});t.exports=s.connect({mapState:function(t){var e=t.getIn(["async","goodsCouponList"]),n=t.get("notSaleGoods");return!n&&e&&e.size&&1===t.get("asyncIndex")&&i.daEvent("商品详情页","优惠券","出现"),{goodsCouponList:e,notSaleGoods:n}},listenStateChange:["async.goodsCouponList","asyncIndex"]})(u)},function(t,e,n){var i=n(5),o=n(11),a=n(342),s=n(15),r=o.extend({template:a,data:{},config:function(){this.supr()}});t.exports=i.connect({mapState:function(t){var e=t.get("currentPromotion"),n=e.get("type")===s.DEPOSIT_TYPE?e.get("payStartTime"):null;return{kaolaDomain:s.KAOLA_DOMAIN,payStartTime:n}},listenStateChange:["asyncIndex","currentPromotion"]})(r)},function(t,e,n){var i=n(1),o=n(5),a=n(11),s=n(343),r=o.fromJS,c=a.extend({template:s,data:{curr:0,opacity:1},config:function(){this.supr(),this.$on("rdx-injected",this.__addAuto)},__addAuto:function(){var t=this,e=t.data,n=(e.excellentCommentList||[]).length,i=void 0;if(!(n<=1)){var o=+new Date,a=void 0,s=5e3,r=5100;e.autoTimeout=t.$timeout(function c(){(a=+new Date)-o<r&&((i=e.curr+1)>n-1&&(i=0),t.__to(i)),o=a,e.autoTimeout=t.$timeout(c,s)},s)}},scroll2Comment:function(t){i.daEvent(t.category,t.event,t.label),this.$emit("scroll2Comment",t)},enter:function(){var t=this.data;clearInterval(t.autoTimeout),clearTimeout(t.leaveTimeout),t.enterTimeout=this.$timeout(function(){t.showDetail=!0},200)},leave:function(){var t=this.data;this.__addAuto(),clearTimeout(t.enterTimeout),t.leaveTimeout=this.$timeout(function(){t.showDetail=!1},200)},prev:function(){0!==this.data.curr&&(i.daEvent("商品详情页","内容切换",""),this.__to(this.data.curr-1))},next:function(){var t=this.data,e=(t.excellentCommentList||[]).length;t.curr!==e-1&&(i.daEvent("商品详情页","内容切换",""),this.__to(t.curr+1))},__to:function(t){var e=this,n=e.data,i=n.excellentCommentList||[];function o(t){n.opacity=t}e._$easeInOut(1,0,100,o,function(){n.currentComment=i[n.curr=t],e._$easeInOut(0,1,150,o)})}});t.exports=o.connect({mapState:function(t){var e=t.getIn(["sync","goodsInfoBase","onlineStatus"]),n=t.getIn(["sync","excellentCommentList"])||r([]),i=n.get("0"),o=t.getIn(["sync","goodsCommentStatistics"])||r({}),a=o.get("commentsCount")||0,s=void 0;return a>0&&(s=o.get("goodCommentsGrade")||0),{commentsCount:a,width:s&&s>0?s+"%":"100%",percent:s,onlineStatus:e,excellentCommentList:n,currentComment:i,goodsCommentStatistics:o}},listenStateChange:["syncReadyIndex","asyncIndex"],options:{emit:!0}})(c)},function(t,e,n){var i=n(8),o=n(5),a=n(19),s=a.buyNow,r=a.add2Cart,c=n(11),l=n(345),d=n(15),u=n(484),p=n(478),f=n(189),m=n(473),h=n(472),g=n(459),v=n(17),_=o.fromJS,y=c.extend({template:l,data:{appNewcomerOnlyTip:null,buyNowClazz:"j-buynow-btn",add2CartClazz:"j-add2cart-btn",_skuChangeCount:0},config:function(){this.supr(),this.$watch("skuChangeIndex",this.__skuChange)},__skuChange:function(){var t=this,e=this.data,n=this.$refs.formEl;if(!n)return e._skuChangeCount>=3?void(e._skuChangeCount=0):(e._skuChangeCount++,void this.$timeout(function(){t.__skuChange()},1e3));e._skuChangeCount=0;var o=i("."+e.buyNowClazz,n),a=i("."+e.add2CartClazz,n),s=e.buyNum&&e.buyNum.btnDisabled;this.$emit("btnChange",{$buyNow:o,$add2Cart:a,btnDisabled:s})},buyNow:function(){this.buyNow()},add2Cart:function(t){var e=t&&t.target;this.add2Cart(e)},arrivalNotice:function(){var t=this.data||{},e=t.goodsId,n=t.skuId,i=t.address,o=t.addressMsg;n&&e&&i&&i.districtCode&&o&&v.afterLogin(function(){new g({data:{title:"到货通知",addrMsg:o||"",param:{goodsId:e,skuId:n,districtCode:i.districtCode}}}).$inject(document.body)})}});y.component("GoodsTips",u),y.component("BuyTips",p),y.component("FavBtn",f),y.component("FormCommonBtn",m),y.component("FormAddCartBtn",h),y.filter({addDomain:function(t,e){return e=e||"/",/^\//.test(t)&&(t=t.replace(/^\//,"")),e+t}}),t.exports=o.connect({mapState:function(t){var e=t.get("notSaleGoods"),n=t.getIn(["sync","goodsInfoBase","onlineStatus"]),i=t.get("goodsId")||"",o=t.get("innerSource")||"DETAIL",a=t.get("skuId")||"",s=t.getIn(["async","minPriceSkuId"])||"",r=t.getIn(["sync","goodsInfoBase","productType"])||"",c=t.getIn(["price","formPrice"]),l=t.get("currentPromotion"),u=l.get("type"),p=l.get("step"),f=!1;u===d.SECKILL_TYPE&&p<d.SECKILL_STEP.DOING&&(f=!0);var m="";u===d.DEPOSIT_TYPE&&(m=l.get("depositId"));var h=t.get("currentGoodsPresentGiftList"),g=t.get("buyNum"),v=_({});v=function(t,e,n,i){var o="立即购买";if(t===d.DEPOSIT_TYPE&&e<=d.DEPOSIT_STEP.TODAY){o="支付定金";var a=n.get("depositPrice");a>0&&(o+="￥"+a)}return t===d.SECKILL_TYPE&&e===d.SECKILL_STEP.DOING&&(o="立即秒杀"),i=i.set("buyBtnStr",o)}(u,p,l,v);var y=t.get("hkMedicine");v=function(t,e,n,i,o){i=t===d.DEPOSIT_TYPE&&e<=d.DEPOSIT_STEP.TODAY?i.set("submitUrl","/order/confirmDepositOrder.html"):i.set("submitUrl","/order/confirm.html?from=detailfp");var a=o?d.BUY_DOMAIN_HK:d.BUY_DOMAIN;return i=i.set("formDomain",a)}(u,p,0,v,y),t.set("form",v);var b=t.getIn(["sync","goodsInfoBase","hideCart"])||y,I=t.getIn(["async","appNewcomerOnly"]),S=t.get("skuProps"),T=t.get("skuChangeIndex"),x=t.getIn(["guarantee","guaranteeServiceIds"])||[],w=t.get("address")||{},k=t.get("addressMsg")||"",C=t.getIn(["sync","source"])||"";return{guaranteeServiceIds:x,skuChangeIndex:T,type:u,step:p,buyNum:g,form:v,C:d,hideCart:b,appNewcomerOnly:I,goodsId:i,innerSource:o,skuId:a,minPriceSkuId:s,productType:r,formPrice:c,currentGoodsPresentGiftList:h,notSaleGoods:e,onlineStatus:n,seckillAboutToStart:f,depositId:m,skuProps:S,currentPromotion:l,address:w,addressMsg:k,source:C}},listenStateChange:["skuChangeIndex","price","buyNum","currentPromotion","guarantee.guaranteeServiceIds","address","addressMsg"],mapDispatch:[s,r]})(y)},function(t,e,n){var i=n(1),o=n(5),a=n(11),s=n(346),r=n(134),c=n(117),l=a.extend({template:s,data:{},config:function(){this.supr()},isUnsupportTag:function(t){return(this.data.unsupportTagList||[]).some(function(e){return Number(e)===Number(t)})},showMemberTips:function(t,e){i.daEvent("商品详情页","说明栏","会员折扣");var n="";if(this.data.vipUser)return n=(e.detailContentList||["尊贵的考拉会员，此商品可享受96折"]).join("<br>"),void new c({data:{title:t||"",descOne:n||"",txtOk:"确认",hideCCBtn:!0,inclazz:"m-memberdlg"}}).$inject(document.body);var o=this.data.vipGoodsDiscountValue||"96";n=(e.detailContentList||["成为考拉会员，立享全场自营"+o+"折优惠："]).join("<br>"),new r({data:{title:t,tips:n}})}}),d=o.fromJS;t.exports=o.connect({mapState:function(t){var e=t.getIn(["vipmember","vipUser"])||!1,n=t.getIn(["vipmember","vipGoodsDiscountValue"])||"96",i=d([]),o=t.getIn(["async","goodsDeclare","title"])||i,a=t.getIn(["async","goodsDeclare","contentList"])||i,s=-1,r=[];return a.forEach(function(t,e){1===Number(t.get("type"))&&(s=e),~(o.getIn([""+e])||"").indexOf("不")&&r.push(e)}),{title:o,contentList:a,memberTipIndex:s,unsupportTagList:r,vipUser:e,vipGoodsDiscountValue:n}},listenStateChange:["vipmember","async.goodsDeclare"]})(l)},function(t,e,n){var i=n(5),o=n(19).selectGuarantee,a=n(11),s=n(347),r=n(15),c=a.extend({template:s,data:{hover:null,kaolaDomain:r.KAOLA_DOMAIN},config:function(){this.supr()},mouseEnter:function(t){this.data.hover=t},mouseLeave:function(){this.data.hover=null},selectGuarantee:function(t,e){this.data.hover=null,this.selectGuarantee(t,e)}});t.exports=i.connect({mapState:function(t){return{guarantee:t.get("guarantee"),onlineStatus:parseInt(t.getIn(["sync","goodsInfoBase","onlineStatus"]))}},listenStateChange:["guarantee"],mapDispatch:[o]})(c)},function(t,e,n){var i=n(1),o=n(3),a=n(114),s=n(5),r=n(19).changeImg,c=n(11),l=n(348),d=s.fromJS,u=c.extend({template:l,data:{},config:function(t){var e=this;t.shadowTop=0,t.shadowTop2=0,t.shadowLeft=0,t.shadowLeft2=0,t.imgListLeft=0,t.imgListLeftS="0px",t.imgListWidth="0px",t.scrollIndex=0,t.__playing=!1,setTimeout(function(){e.__rankGoodsDaEvent()},500)},__rankGoodsDaEvent:function(){var t=this.data.rankGoodsDaEvent||[];3===t.length&&i.daEvent(t[0],t[1],t[2])},__getPos:function(t){t=t.event||t;var e=this.$refs.imgwrap||t.currentTarget;if(e){var n=e.getBoundingClientRect();if(n)return{x:t.clientX-n.left,y:t.clientY-n.top}}},__setShadow:function(t,e,n,i){var o=this.data;if(o.shadowShow=e||!1,e){var a=n||400,s=i||400,r=t.x,c=t.y;r-100<0&&(r=100),r+100>a&&(r=a-100),c-100<0&&(c=100),c+100>s&&(c=s-100),o.shadowTop=c-100+"px",o.shadowTop2=-2*(c-100)+"px",o.shadowLeft=r-100+"px",o.shadowLeft2=-2*(r-100)+"px"}},enter:function(t){o._$stop();var e=this.__getPos(t);this.__setShadow(e,!0)},move:function(t){o._$stop();var e=this.__getPos(t);this.__setShadow(e,!0)},leave:function(){o._$stop();this.__setShadow({},!1)},enterli:function(t){o._$stop();var e=this.data,n=e.webImageList[t];n.imageUrl&&(e.bigImg=n.imageUrl,e.selectIndex=t,this.changeImg(e.bigImg,e.selectIndex))},next:function(){var t=this,e=t.data,n=e.webImageList||[],i=e.imgListLeft;if(!(e.scrollIndex>=n.length-4||e.__playing)){e.__playing=!0;var o=a._$$AnimLinear._$allocate({from:{offset:0},to:{offset:-80},duration:300,onupdate:function(n){e.imgListLeft=i+n.offset,e.imgListLeftS=e.imgListLeft+"px",t.$update()},onstop:function(){e.scrollIndex++,e.__playing=!1,t.$update(),this._$recycle(o)}});o._$play()}},prev:function(){var t=this,e=t.data,n=e.imgListLeft;if(!(e.scrollIndex<=0||e.__playing)){e.__playing=!0;var i=a._$$AnimLinear._$allocate({from:{offset:0},to:{offset:80},duration:300,onupdate:function(i){e.imgListLeft=n+i.offset,e.imgListLeftS=e.imgListLeft+"px",t.$update()},onstop:function(){e.scrollIndex--,e.__playing=!1,t.$update(),this._$recycle(i)}});i._$play()}}});t.exports=s.connect({mapState:function(t){var e=t.getIn(["sync","vipExclusiveGoods"]),n=t.getIn(["sync","vipExclusiveGoodsLogo"]),i=t.get("image"),o=i.get("webImageList")||d([]);return{vipExclusiveGoods:e,vipExclusiveGoodsLogo:n,selectIndex:i.get("selectIndex")||0,webImageList:o,imgListWidth:80*o.size+"0px",bigImg:i.get("bigImg")||"",detailRanksImageUrl:i.get("detailRanksImageUrl"),rankGoodsDaEvent:i.get("rankGoodsDaEvent")}},listenStateChange:["syncReadyIndex","asyncIndex","image"],mapDispatch:[r]})(u)},function(t,e,n){var i=n(5),o=n(11),a=n(349),s=o.extend({template:a,data:{},config:function(){this.supr()}});t.exports=i.connect({mapState:function(t){var e=t.get("notSaleGoods");return{kaolaBean:t.get("kaolaBean"),notSaleGoods:e}},listenStateChange:["kaolaBean","asyncIndex"]})(s)},function(t,e,n){var i=n(1),o=n(5),a=n(11),s=n(350),r=n(15),c=a.extend({template:s,data:{showToggle:!1,dapushed:!1},config:function(){this.supr()},toggle:function(){var t=this.data;t.showToggle=!t.showToggle,t.dapushed||(t.dapushed=!0,i.daEvent("商品详情页","组合装展开按钮","点击"))}});c.filter({cutLength:function(t,e){var n,i,o=0,a="";n=t.length;for(var s=0;s<n;s++)if(i=t.charAt(s),o++,escape(i).length>4&&o++,a=a.concat(i),o>=2*e&&a!=t)return a=(a=a.slice(0,6)).concat("...");if(o<=14)return t}}),t.exports=o.connect({mapState:function(t){var e=t.get("kaolaBean"),n=e&&!e.isEmpty(),i=t.get("coupon"),o=i&&!i.isEmpty(),a=t.get("currentPromotion").get("type");return{multipackGoodsList:t.get("multipackGoodsList"),similarGoodsList:t.get("similarGoodsList"),hasDeposit:a===r.DEPOSIT_TYPE,notSaleGoods:t.get("notSaleGoods"),hasKaolaBean:n,hasCoupon:o}},listenStateChange:["skuChangeIndex"]})(c)},function(t,e,n){var i=n(5),o=n(11),a=n(351),s=o.extend({template:a,data:{},config:function(){this.supr()}});t.exports=i.connect({mapState:function(t){return{goodsNotice:t.getIn(["async","goodsNotice"])}},listenStateChange:["asyncIndex"]})(s)},function(t,e,n){var i=n(528),o=n(5),a=n(19),s=a.initAsyncData,r=a.switchVidList,c=a.updateAddress,l=n(11),d=n(352),u=n(15),p=o.toJS,f=l.extend({template:d,data:{clazz:"mr20",address:{},defAddress:{}},config:function(){this.supr()},updateAsyncData:function(){var t,e,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:u.DEF_ADDRESS,i=this,o=n.province,a=o===undefined?{}:o,s=n.provinceCode,r=n.city,c=r===undefined?{}:r,l=n.cityCode,d=n.district,p=d===undefined?{}:d,f=n.districtCode,m=n.firstLoaded,h={provinceName:a.name||"",provinceCode:s,cityName:c.name||"",cityCode:l,districtName:p.name||"",districtCode:f,firstLoaded:m},g=(t=h,e=this.data.defAddress,Number(t.provinceCode)!==Number(e.provinceCode)||Number(t.cityCode)!==Number(e.cityCode)||Number(t.districtCode)!==Number(e.districtCode));if(this.updateAddress(h),g){var v=i.data.selVidList||[];i.initAsyncData(h).then(function(){i.switchVidList(v)})["catch"](function(t){console.error(t)})}},savedAddress:function(t){this.$emit("savedAddress",t)}});f.component("Addr",i),t.exports=o.connect({mapState:function(t){return{currentSkuVid:t.get("currentSkuVid"),selVidList:t.getIn(["skuProps","selVidList"]),notSaleGoods:t.get("notSaleGoods"),onlineStatus:t.getIn(["sync","goodsInfoBase","onlineStatus"]),virtualProduct:t.getIn(["sync","virtualProduct"]),warehouseCityShow:t.getIn(["async","warehouseCityShow"]),defAddress:p(t.get("address")),goodsPostageInfo:t.getIn(["async","goodsPostageInfo"])||{}}},mapDispatch:[s,r,c]})(f)},function(t,e,n){var i=n(5),o=n(11),a=n(353),s=o.extend({template:a,data:{},config:function(){this.supr()}});t.exports=i.connect({mapState:function(t){return{goodsPreSaleInfo:t.getIn(["preSale","goodsPreSaleInfo"])||""}},listenStateChange:["preSale.goodsPreSaleInfo"]})(s)},function(t,e,n){var i=n(5),o=n(11),a=n(354),s=o.extend({template:a,data:{},config:function(){this.supr()}});t.exports=i.connect({mapState:function(t){return{preSaleInfo:t.getIn(["preSale","preSaleInfo"])||""}},listenStateChange:["preSale.preSaleInfo"]})(s)},function(t,e,n){var i=n(5),o=n(11),a=n(355),s=n(15),r=o.extend({template:a,data:{},config:function(){this.supr()}});t.exports=i.connect({mapState:function(t){var e=t.get("price"),n=t.getIn(["async","newLabelSwitch"])||!1,i=!!t.get("notSaleGoods"),o=t.get("currentPromotion"),a=o.get("type"),r=o.get("step"),c=o.get("isDiffPromotionPrice"),l=t.getIn(["sync","goodsCatty"])||0,d=e.get("combineInfo"),u=t.getIn(["vipmember","vipUser"]),p=t.getIn(["vipmember","isBlackVipUser"]),f=t.getIn(["vipmember","isRedVipUser"]),m=t.getIn(["vipmember","isCanEnjoyVipUser"]),h=t.getIn(["vipmember","memberCurrentPrice"]),g=t.getIn(["vipmember","isDiffMemberPrice"]),v=t.getIn(["vipmember","vipRedPriceImg"]),_=t.getIn(["vipmember","vipPriceImg"]),y=t.getIn(["vipmember","newUserMemberPriceImg"]),b=t.getIn(["vipmember","newUserMemberPriceDesc"]),I="number"==typeof h&&h>=0,S=m&&I,T=parseInt(t.getIn(["sync","goodsInfoBase","onlineStatus"])),x=t.getIn(["sync","baoyouTipSwitch"]),w=t.getIn(["sync","postageFree"]),k=t.getIn(["newUserInfo","newUserPrice"]),C=t.getIn(["newUserInfo","isDiffNewUserPrice"]),E=!!t.getIn(["newUserInfo","newUser"])&&!!k;E&&S&&k>=h&&(E=!1);var P=t.getIn(["sync","goodsDetailContent","factoryGoods"]);return{price:e,newLabelSwitch:n,notSaleGoods:i,currentPromotion:o,combineInfo:d,hasMemberPrice:I,memberCurrentPrice:h,isDiffMemberPrice:g,isDiffPromotionPrice:c,vipUser:u,isVipUserAndMemberPrice:S,isBlackVipUser:p,isRedVipUser:f,isCanEnjoyVipUser:m,onlineStatus:T,baoyouTipSwitch:x,postageFree:w,isShowNewUserPrice:E,newUserPrice:k,isDiffNewUserPrice:C,type:a,step:r,C:s,vipPriceImg:_,newUserMemberPriceImg:y,newUserMemberPriceDesc:b,vipRedPriceImg:v,goodsCatty:l,isFactoryGoods:P}},listenStateChange:["asyncIndex","currentPromotion","price","vipmember","notSaleGoods","newUserInfo"]})(r)},function(t,e,n){var i=n(1),o=n(8),a=n(26),s=n(5),r=n(15),c=n(228),l=n(19),d=l.initAsyncData,u=l.switchVidList,p=n(11),f=n(356),m=n(392),h=n(518),g=void 0,v=void 0,_=p.extend({template:f,data:{countdown:{now:null,timeout:null,leftTime:null,intervalTime:null}},config:function(t){var e=this;this.supr(),this.$on("rdx-connected",function(){i.daEvent("商品详情页","大促预告价","出现")}),this.$watch(["countdown.leftTime","countdown.timeout"],function(){var n=t.countdown;if(n&&n.now){var i="number"==typeof n.timeout,o="number"==typeof n.leftTime;(i||o)&&(clearInterval(g),clearTimeout(v),i&&(n.timeout=Math.max(n.timeout,1e3),n.timeout=Math.min(n.timeout,r.DAY),v=setTimeout(function(){e.refreshAsyncData()},n.timeout)),o&&(n.leftTime=Math.max(n.leftTime,1e3),g=setInterval(function(){n.leftTimeShow=n.leftTime-(+new Date-n.now),n.leftTimeShow<=100&&(clearInterval(g),e.refreshAsyncData()),e.$update()},n.intervalTime||100)))}})},refreshAsyncData:function(){var t=this,e=t.data.selVidList||[];t.initAsyncData().then(function(){t.switchVidList(e)})["catch"](function(t){console.error(t)})},remindTimingSale:function(){var t=this.data.goodsId,e="";t&&(e=r.WAP_DETAIL_DOMAIN+"product/"+t+".html?isDownload=true"),new h({data:{qrCodeLink:e}})},remindSeckill:function(t){var e=this.data.goodsId,n=t.type;if((n===r.SECKILL_TYPE||n===r.TEMAI_TYPE)&&2!==t.temaiType)var s=o(".j-time",this.$refs.in15min),c=m._$allocate({msg:"该商品将于*"+(s._$text()||"")+"*开始秒抢，我们将在开抢前通过手机发送通知提醒您。",confirm:function(o){var s=t.temaiType||0,l=void 0;var d={method:"GET",type:"json",onload:function(t){t&&function(t){var e=n===r.SECKILL_TYPE?t.code:t.retcode;return n===r.SECKILL_TYPE&&0===e||n===r.TEMAI_TYPE&&1===s&&200===e||n===r.TEMAI_TYPE&&2===s&&200===e}(t)?c._$successDialog():c._$errorDialog()},onerror:function(){c._$errorDialog()}};if(n===r.TEMAI_TYPE&&1===s)l=r.DETAIL_DOMAIN+"short/message/temai/temaiNotify.json",i.extend(o,{goodsId:e,tabId:t.tabId,price:t.activityPrice,startTime:t.startTime});else{if(n!==r.SECKILL_TYPE)return void c._$errorDialog();l=r.DETAIL_DOMAIN+"short/message/seckill/notify.html",i.extend(o,{goodsId:e})}d.url=l,d.query=o,d.headers={"X-Requested-With":"XMLHttpRequest"},a._$request(l,d)}})._$show()}});_.filter({leftTime:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"dd:hh:mm:ss:ms",n=i.millisecond2LeftTime(Math.max(t,0),!0);n.msms=("000"+t).slice(-3,-1),n.ms=n.msms.slice(-2,-1);return["msms","ms","dd","hh","mm","ss","d","h","m","s"].forEach(function(t){n[t]&&(e=e.replace(new RegExp(t,"g"),n[t]))}),e}}),t.exports=s.connect({mapState:function(t){var e=t.get("currentPromotion"),n=e.get("type"),i=e.get("step"),o=null,a={now:+new Date,timeout:null,leftTime:null,intervalTime:null};clearInterval(g),clearTimeout(v),~r.PROMOTION_TYPE_LIST.indexOf(n)&&i>=0&&(o=!0),a=function(t,e,n,i){if(t===r.PRO_DOING_TYPE){var o=Number(n.get("leftTimeMills"))||0;e!==r.PRO_DOING_STEP.DAY&&e!==r.PRO_DOING_STEP.HOUR&&e!==r.PRO_DOING_STEP.MINUTE||(i.leftTime=o,i.intervalTime=100),e===r.PRO_DOING_STEP.DONE&&(i.timeout=0)}return i}(n,i,e,a=function(t,e,n,i){if(t===r.PRO_TYPE){var o=n.get("toDacuStartMills");Number(o)&&o>0&&(i.timeout=o)}return i}(n,0,e,a=function(t,e,n,i){if(t===r.TEMAI_TYPE){var o=n.get("nowToStartMs"),a=n.get("nowToEndMs");e!==r.TEMAI_STEP.MONTH&&e!==r.TEMAI_STEP.TOMORROW&&e!==r.TEMAI_STEP.TODAY&&e!==r.TEMAI_STEP.IN15||(i.timeout=o-c.min5),e===r.TEMAI_STEP.IN5&&(i.leftTime=o,i.intervalTime=100),e===r.TEMAI_STEP.DOING&&(i.leftTime=a,i.intervalTime=100,i.hasDay=a>=25*c.hour),e===r.TEMAI_STEP.DONE&&(i.timeout=0)}return i}(n,i,e,a=function(t,e,n,i){if(t===r.SECKILL_TYPE){var o=n.get("nowToStartMillis"),a=n.get("nowToEndMillis");e!==r.SECKILL_STEP.MONTH&&e!==r.SECKILL_STEP.TOMORROW&&e!==r.SECKILL_STEP.TODAY&&e!==r.SECKILL_STEP.IN15||(i.timeout=o-c.min5),e===r.SECKILL_STEP.IN5&&(i.leftTime=o,i.intervalTime=100),e===r.SECKILL_STEP.DOING&&(i.leftTime=a,i.intervalTime=100,i.hasDay=a>=25*c.hour),e===r.SECKILL_STEP.NO_GOODS&&(i.timeout=a),e===r.SECKILL_STEP.DONE&&(i.timeout=0)}return i}(n,i,e,a=function(t,e,n,i){if(t===r.TIMINE_SALE_TYPE){var o=n.get("toTimingSaleMills");e<r.TIMGINE_SALE_STEP.IN10&&(i.timeout=o-c.min10),e===r.TIMGINE_SALE_STEP.IN10&&(i.leftTime=o),e===r.TIMGINE_SALE_STEP.DOING&&(i.timeout=0)}return i}(n,i,e,a=function(t,e,n,i){if(t===r.DEPOSIT_TYPE){var o=n.get("depositToEndMills"),a=n.get("toPayStartMills");e!==r.DEPOSIT_STEP.MONTH&&e!==r.DEPOSIT_STEP.TOMORROW||(i.timeout=o),e===r.DEPOSIT_STEP.TODAY&&(i.leftTime=o),e!==r.DEPOSIT_STEP.DONE_MONTH&&e!==r.DEPOSIT_STEP.DONE_TOMORROW||(i.timeout=a),e===r.DEPOSIT_STEP.DONE_TODAY&&(i.leftTime=a)}return i}(n,i,e,a))))));var s=t.getIn(["skuProps","selVidList"]),l=parseInt(t.getIn(["price","currentPrice"]))||0,d=parseInt(t.getIn(["sync","goodsInfoBase","onlineStatus"])),u=t.getIn(["sync","specialSaleRemindSwitch"])||!1;return{type:n,step:i,show:o,C:r,countdown:a,currentPromotion:e,goodsId:t.get("goodsId"),skuChangeIndex:t.get("skuChangeIndex"),selVidList:s,currentPrice:l,onlineStatus:d,specialSaleRemindSwitch:u}},listenStateChange:["currentPromotion","skuChangeIndex","asyncIndex","selVidList"],mapDispatch:[d,u],options:{emit:!0}})(_)},function(t,e,n){var i=n(5),o=n(11),a=n(357),s=n(15),r=o.extend({template:a,data:{kaolaDomain:s.KAOLA_DOMAIN},config:function(){this.supr()}});t.exports=i.connect({mapState:function(t){var e=t.getIn(["sync","goodsInfoBase"]),n=t.get("notSaleGoods"),i=e.get("onlineStatus"),o=e.get("selfGoods"),a=t.getIn(["sync","goodsShopInfo","shopHref"]),s=t.getIn(["sync","goodsShopInfo","shopName"]),r=t.getIn(["async","warehouseNameAlias"]),c=t.getIn(["async","goodsPostageInfo","postageTraceItemList"]);return{notSaleGoods:n,onlineStatus:i,selfGoods:o,shopHref:a,shopName:s,warehouseNameAlias:r,tomorrowArrival:t.get("tomorrowArrival"),deliverTimeStr:t.getIn(["deliverTimeInfo","deliverTimeStr"]),postageTraceItemList:c,preSale:t.getIn(["preSale","storePreSale"])}},listenStateChange:["asyncIndex","skuChangeIndex"]})(r)},function(t,e,n){var i=n(1),o=n(5),a=n(19).switchVid,s=n(11),r=n(358),c=n(467),l=o.fromJS,d=s.extend({template:r,data:{},config:function(t){var e=this;this.supr(),this.$on("rdx-connected",function(){(t.sizeChartImageUrlList||[]).length>1&&i.daEvent("商品详情页","出现","尺码表")});var n=this.$watch("skuChangeIndex",function(i){var o=t.buyNum.noStore;1===i&&(e.$emit("firstChangeSku",{noStore:o}),n&&e.$unwatch(n.id))})},trigger:function(t){this.hasVid(t)&&this.switchVid(t)},hasSelected:function(t){return!!~(this.data.selVidList||[]).indexOf(t)},isStockOut:function(t){return!!this.hasVid(t)&&!!~(this.data.stockOutList||[]).indexOf(t)},hasVid:function(t){return!~this.data.noneVidList.indexOf(t)},showSizeInfo:function(){i.daEvent("商品详情页","点击","尺码表"),new c({data:{sizechartTips:this.data.sizeChartTips||"",sizechartImgs:this.data.sizeChartImageUrlList||[]}})}});t.exports=o.connect({mapState:function(t){var e=l([]),n=t.get("skuProps"),i=t.get("notSaleGoods"),o=t.getIn(["sync","goodsInfoBase","onlineStatus"]);return{skuChangeIndex:t.get("skuChangeIndex"),buyNum:t.get("buyNum"),onlineStatus:o,notSaleGoods:i,skuPropertyList:n.get("skuPropertyList")||e,allVidList:n.get("allVidList")||e,selVidList:n.get("selVidList")||e,stockOutList:n.get("stockOutList")||e,noSelectSkuError:n.get("noSelectSkuError")||!1,noneVidList:n.get("noneVidList")||e,skuDetailList:t.get("skuDetailList"),showSizeChart:t.getIn(["sync","goodsDetailContent","showSizeChart"]),sizeChartTips:t.getIn(["sync","goodsDetailContent","sizeChartTips"]),sizeChartImageUrlList:t.getIn(["sync","goodsDetailContent","sizeChartImageUrlList"])}},listenStateChange:["skuChangeIndex","skuProps","notSaleGoods","buyNum"],mapDispatch:[a],options:{emit:!0}})(d)},function(t,e,n){var i=n(5),o=n(11),a=n(359),s=o.extend({template:a,data:{},config:function(){this.supr()}});t.exports=i.connect({mapState:function(t){return{specialGoodsTag:t.getIn(["sync","specialGoodsTag"]),specialGoodsDescription:t.getIn(["sync","specialGoodsDescription"])}},listenStateChange:["syncReadyIndex","asyncIndex"]})(s)},function(t,e,n){var i=n(5),o=n(11),a=n(360),s=n(15),r=i.toJS,c=o.extend({template:a,data:{kaolaDomain:s.KAOLA_DOMAIN},config:function(){this.supr()}});t.exports=i.connect({mapState:function(t){var e=r(t.get("skuTaxInfoPc"))||{},n=t.get("notSaleGoods");return{hide:!e||!e.taxFeeTitle&&!e.taxAmount||e.taxFeeTitle&&n&&!e.taxAmount,skuTaxInfoPc:e,notSaleGoods:n}},listenStateChange:["skuTaxInfoPc","notSaleGoods","async"]})(c)},function(t,e,n){var i=n(5),o=n(15),a=n(11),s=n(361),r=a.extend({template:s,data:{kaolaDomain:o.KAOLA_DOMAIN},config:function(){this.supr()}});t.exports=i.connect({mapState:function(t){return{title:t.get("title"),brandOriginCountryFlag:t.getIn(["sync","goodsInfoBase","brandOriginCountryFlag"])||"",brandOriginCountryName:t.getIn(["sync","goodsInfoBase","brandOriginCountryName"])||"",hkMedicine:t.getIn(["sync","hkMedicine"]),combineInfoTitle:t.getIn(["price","combineInfo","title"])||"",goodsCatty:t.getIn(["sync","goodsCatty"])||0}},listenStateChange:["syncReadyIndex","asyncIndex","title","price.combineInfo"]})(r)},function(t,e,n){var i=n(1),o=n(5),a=n(17),s=n(10),r=n(11),c=n(362),l=n(134),d=n(474),u=n(15),p=r.extend({template:c,data:{},config:function(){this.data.showTakeCouponBtn=!0,this.supr()},becomeVip:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.pcOpenCardAlertView&&t.pcOpenCardAlertView.pcOpenCardAlertTitle&&t.openCardUrl){var e=t.pcOpenCardAlertView,n=e.pcOpenCardAlertTitle,o=e.pcOpenCardAlertContent,a=e.pcOpenCardAlertDesc,s=i.insertParamIntoUrl(t.openCardUrl,"from=pcproduct");new l({data:{title:n,tips:o,qrcodeTips:a,qrCodeLink:s}})}else t.redeemCode&&this.getCoupon(t.redeemCode)},getCoupon:function(t){var e=this;if(t){var n='<a href="'+u.YOU_DOMAIN+'personal/my_coupon.html" class="mycoupon color-red" target="_blank">去我的优惠券查看 &gt;</a>';a.afterLogin(function(){s(u.YOU_DOMAIN+"api/exchangeCouponByRedeemCode.html",{method:"POST",data:{redeemCode:t,distributeChannel:"65"},type:"json",norest:!0,onload:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=t.retcode;200==i?(e.data.showTakeCouponBtn=!1,e.$update(),e.__dialogCenter("领取优惠券","yes","领取成功",n)):-12==i?e.__dialogCenter("领取优惠券","notice",t.retDesc||"您已经领取了该优惠券",n):-3==i||-8==i||-10==i||-19==i||-20==i||-22==i?e.__dialogCenter("领取优惠券","notice",t.retDesc||"由于服务问题，领取失败",""):-38==i||-39==i?new l({data:{title:"领取优惠券",tips:"该券只有会员用户才能领取"}}):e.__dialogCenter("领取优惠券","fail","领取失败",t.retDesc||"由于服务问题，领取失败")},onerror:function(){e.__dialogCenter("领取优惠券","fail","领取失败","由于服务问题，领取失败")}})})}},__dialogCenter:function(t,e,n,o,a,s){a=a||!1,s=s||{},i.extend(s,{inclazz:"center"}),this._$dialog(t,e,n,o,a,s)},showHoverTip:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=arguments[1].target,n=t.saveDetailInfo,i=t.saveExplain,o=t.saveViewTitle,a=t.saveExpressInfoList;!this.__tip&&e&&(this.__tip=new d({data:{anchor:e,saveDetailInfo:n,saveExplain:i,saveExpressInfoList:a,saveViewTitle:o}}).$inject(document.body))},hideHoverTip:function(){this.__tip&&(this.__tip=this.__tip.destroy())}});t.exports=o.connect({mapState:function(t){var e=t.get("vipmember");return e=e?e.toJS():{}},listenStateChange:["vipmember","asyncIndex"]})(p)},function(t,e){t.exports=function(){return{sync:arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},hkMedicine:!1,hkNourishment:!1,hkSiteFlag:!1,categoryId:"",goodsId:"",notSaleGoods:!1,defSkuVid:"",currentSkuVid:"",skuId:"",innerSource:"",image:{selectIndex:-1,bigImg:null,webImageList:[],detailRanksImageUrl:null},title:{memberTitle:""},promotionbar:{defBars:[],skuList:[]},currentPromotion:{type:-1,step:-1},preSale:{goodsPreSaleInfoTmp:"",goodsPreSaleInfo:"",preSaleInfo:""},vipmember:{vipLayoutInfo:{},vipUser:!1,isCanEnjoyVipUser:!1,isBlackVipUser:!1,isRedVipUser:!1,memberCurrentPrice:null,vipGoodsDiscountValue:null,vipRedPriceImg:null,vipPriceImg:null,newUserMemberPriceImg:null,newUserMemberPriceDesc:null,totalTaxCouponAmount:null,vipRedStationingInfo:{}},newUserInfo:{newUser:!1,newUserPrice:null},price:{mainPrice:null,formPrice:null,mainPriceTitle:null,currentPrice:null,marketPrice:null,discount:null,tagType:null,combineInfo:{title:null,unit:null,price:null}},tomorrowArrival:{status:null,show:!1,defShow:!1,divisionTimeStr:null,arrivalTimeStr:null,overSeaTimelinessStr:null,promotionDeliverStr:null},deliverTimeInfo:{deliverTimeStr:null,defDeliverTimeStr:null},multipackGoodsList:[],similarGoodsList:[],kaolaBean:{},activityTagList:[],currentGoodsPresentGiftList:[],buyNum:{buyNumChange:0,number:1,addHide:!1,reduceHide:!1,msg:"",isRed:!1,maxQty:1,minQty:1,bought:0,type:null,noDeliver:!1,noStore:!1,lockStore:!1,btnDisabled:!1},form:{submitUrl:"",formDomain:"/",buyBtnStr:"立即购买"},skuTaxInfoPc:{taxAmount:null,specificDutyGoods:!1,taxFeeTitle:null,taxFeeContent:null},guarantee:{current:null,isSelSku:!1,goodsGuarantee:null,guaranteeList:[],guaranteeServiceIds:[]},skuProps:{skuPropertyList:[],noSelectSkuError:!1,allVidList:[],selVidList:[],stockOutList:[],noneVidList:[]},syncReadyIndex:0,asyncIndex:0,skuChangeIndex:0,address:null,addressMsg:null,nowDate:null,async:{},skuDetailList:[],skuVidMap:{},skuIdMap:{}}}},function(t,e){var n={LIMIT:{DELIVER:0,DEPOSIT:1,MEMBER_ACCOUNT:2,ACCOUNT:3,DAILY:4,ONCE:5,STORE:6},TOP_QTY:99,STORE_THRESH_HOLD:11},i={isImmutable:!1,emptyObject:{},LIMIT:n.LIMIT,TOP_QTY:n.TOP_QTY,STORE_THRESH_HOLD:n.STORE_THRESH_HOLD},o=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return i.isImmutable?t.get(e):t[e]},a=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[""];return i.isImmutable?t.getIn(e):e.reduce(function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return t[arguments.length>1&&arguments[1]!==undefined?arguments[1]:""]},t)},s=function(t){return!t||i.isImmutable&&t&&t.isEmpty&&t.isEmpty()},r=function(t){return i.isImmutable?t&&t.size||0:t&&t.length||0},c=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],n=arguments[2];if(!r(t))return parseInt(o(n,"goodsCurrentStore"))||0;var i=0;return e.forEach(function(e){(function(t,e){var n=a(t,["skuInfo","skuPropervalueIdList"])||[];return e.every(function(t){return n.some(function(e){return""+t==""+e})})})(e,t)&&(i+=parseInt(a(e,["skuStore","currentStore"]))||0)}),i};function l(t){return t.type===n.LIMIT.DELIVER?0:t.minBuyNum||1}i.calcLimit=function(t){var e=t.hasSku,d=t.goods,u=t.selVidList,p=u===undefined?[]:u,f=t.skuDetailList,m=f===undefined?[]:f,h=t.sku,g=t.vipUser,v=t.isImmutable,_=v!==undefined&&v,y=t.emptyObject,b=y===undefined?{}:y;if(i.isImmutable=_,i.emptyObject=b,_&&(!b||!b.isEmpty||!b.isEmpty()))throw new Error('Expected an empty and immutable "emptyObject" object while "isImmutable" is "true"');if(e&&s(h)||!e&&s(d))return{};var I,S=[];if(!(S=e?function(t,e){var a=[];return function(t,e){var a=o(e,"skuStore")||i.emptyObject;2===(parseInt(o(a,"fencangStoreStatus"))||1)&&t.push({type:n.LIMIT.DELIVER,maxQty:0})}(a,t),function(t,e){var a=o(e,"depositSkuInfo")||i.emptyObject,s=parseInt(o(a,"accountDepositLimitBuyCount"))||0,r=parseInt(o(a,"accountDepositBuyCount"))||0;if(s){var c=s-r;t.push({type:n.LIMIT.DEPOSIT,maxQty:c<0?0:c,limit:s,bought:r})}}(a,t),function(t,e){var a=o(e,"blackCardMemberInfo")||i.emptyObject,s=parseInt(o(a,"memberAccountLimitBuyCount"))||0,r=parseInt(o(a,"memberAccountBuyCount"))||0;if(s){var c=s-r;c>0&&t.push({type:n.LIMIT.MEMBER_ACCOUNT,maxQty:c,limit:s,bought:r})}}(a,t),function(t,e){var a=o(e,"skuLimitBuyInfo")||i.emptyObject,s=parseInt(o(a,"accountLimitBuyCount"))||0,r=parseInt(o(a,"accountBuyCount"))||0;if(s){var c=s-r;t.push({type:n.LIMIT.ACCOUNT,maxQty:c<0?0:c,limit:s,bought:r})}}(a,t),function(t,e){var a=o(e,"skuLimitBuyInfo")||i.emptyObject,s=parseInt(o(a,"dailyLimit"))||0,r=parseInt(o(a,"dailyBuyCount"))||0;if(s){var c=s-r;t.push({type:n.LIMIT.DAILY,maxQty:c<0?0:c,limit:s,bought:r})}}(a,t),function(t,e){var a=o(e,"skuLimitBuyInfo")||i.emptyObject,s=parseInt(o(a,"limitBuyOnce"))||0;s&&t.push({type:n.LIMIT.ONCE,maxQty:s,limit:s})}(a,t),function(t,e,a){var s=o(e,"skuStore")||i.emptyObject,r=parseInt(o(s,"fencangStoreStatus"))||1,c=parseInt(o(s,"currentStore"))||0,l=o(e,"blackCardMemberInfo")||i.emptyObject,d=parseInt(o(l,"memberCurrentStore"))||0;t.push({type:n.LIMIT.STORE,maxQty:Math.min(n.TOP_QTY,c),store4loc:3===r,currentStoreIsMemberStore:d>0&&a})}(a,t,e),function(t,e){var n=o(e,"skuLimitBuyInfo")||i.emptyObject,a=parseInt(o(n,"minBuyNum"))||0;a&&t.forEach(function(t){return t.minBuyNum=a})}(a,t),a}(h,g):function(t,e,i){var a=[],s=parseInt(o(t,"fencangStoreStatus"))||0;2===s&&a.push({type:n.LIMIT.DELIVER,maxQty:0});return a.push({type:n.LIMIT.STORE,maxQty:Math.min(n.TOP_QTY,c(e,i,t)),store4loc:3===s}),a}(d,p,m)).length)return{};I=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return t.sort(function(t,e){var n=t.maxQty-e.maxQty;return 0===n?t.type-e.type:n}),t[0]}(S);var T=function(t,e){if(!e)return!1;var n=o(t,"blackCardMemberInfo");if(!n||!n.size&&!n.memberAccountLimitBuyCount)return!1;var i=parseInt(o(n,"memberAccountLimitBuyCount"))||0,a=parseInt(o(n,"memberAccountBuyCount"))||0;return i&&i<=a}(h,e),x=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=arguments[1],i="",o=t.type;o===n.LIMIT.DELIVER&&(i="");o===n.LIMIT.MEMBER_ACCOUNT&&(i=0===t.bought?"会员价限购"+t.limit+"件":"会员价限购"+t.limit+"件(已购"+t.bought+"件)");o===n.LIMIT.ACCOUNT&&(i=0===t.bought?"限购"+t.limit+"件":"限购"+t.limit+"件(您已购买过"+t.bought+"件)");o===n.LIMIT.DEPOSIT&&(i=0===t.bought?"限购"+t.limit+"件":"限购"+t.limit+"件(已购"+t.bought+"件)");o===n.LIMIT.DAILY&&(i=0===t.bought?"单日限购"+t.limit+"件":"单日限购"+t.limit+"件(已购"+t.bought+"件)");o===n.LIMIT.ONCE&&(i="单次限购"+t.limit+"件");o===n.LIMIT.STORE&&(i=t.maxQty>=n.STORE_THRESH_HOLD?"":t.maxQty<n.STORE_THRESH_HOLD&&t.maxQty>0?t.currentStoreIsMemberStore?"限购"+t.maxQty+"件":"仅剩"+t.maxQty+"件":t.store4loc?"所选地区库存不足":"库存不足");var a=l(t);if(a>1){var s=a+"件起售",r="";o===n.LIMIT.STORE?(t.maxQty<n.STORE_THRESH_HOLD+a&&t.maxQty>=a?r=t.currentStoreIsMemberStore?"限购"+t.maxQty+"件":"仅剩"+t.maxQty+"件":t.maxQty<a&&(r=t.store4loc?"所选地区缺货":"缺货"),i=r?s+"，"+r:s):i=s+"，"+i}e&&(i&&(i+="；"),i+="会员价已达限购件数，不再享受优惠");return i}(I,T),w=function(){var t=void 0,e="";if((arguments.length>0&&arguments[0]!==undefined?arguments[0]:[]).some(function(e){if(e.type===n.LIMIT.STORE)return t=e,!0}),!t)return"";var i=t.maxQty,o=t.minBuyNum||1,a=n.STORE_THRESH_HOLD;e=i>=(a+=o)?"":i<a&&i>=o?"仅剩"+i+"件":"缺货";return e}(S),k=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=arguments[1],i=!0;t.type===n.LIMIT.STORE&&t.maxQty>=n.STORE_THRESH_HOLD&&(i=!1);e&&(i=!0);return i}(I,T),C=l(I),E=I.maxQty||0,P=I.bought||0;return{type:I.type||null,maxQty:E,minQty:C,bought:P,msg:x,storeMsg:w,isRed:k,noDeliver:I.type===n.LIMIT.DELIVER,noStore:(e?parseInt(a(h,["skuStore","currentStore"]))||0:parseInt(o(d,"goodsCurrentStore"))||0)<=0,lockStore:function(t,e,n){if(n)return parseInt(a(t,["skuStore","lockStore"]))||0;var i=o(e,"skuDetailList");if(i&&r(i))return i.map(function(t){return parseInt(a(t,["skuStore","lockStore"]))||0}).reduce(function(t,e){return t+e})||0;return 0}(h,d,e)>0}},t.exports=i},function(t,e,n){var i=n(5),o=n(19),a=o.initPostageAndTomorrowArr,s=o.updateTomorrowArr,r=n(135),c=i.fromJS;t.exports=function(t){return t.add(a,function(e){var n=e.getIn(["async","goodsDeliverInfo"]);n=n?n.toJS():{};var i=Number(n.tomorrowArrivalStatus)||0,o={status:i,show:0!==i,defShow:0!==i,divisionTimeStr:n.divisionTimeStr||"",arrivalTimeStr:n.arrivalTimeStr||"",overSeaTimelinessStr:n.overSeaTimelinessStr||"",promotionDeliverStr:n.promotionDeliverStr||""},a={deliverTimeStr:n.deliverTimeStr||"",defDeliverTimeStr:n.deliverTimeStr||""};return e=e.set("tomorrowArrival",c(o)).set("deliverTimeInfo",c(a)),e=t.exec(s,e,{payload:e.get("currentSkuVid")||""})}),t.add(s,function(t,e){var n=e.payload||"",i=r.getSkuInfo(t,n),o=i.sku,a=i.hasSku,s=t.get("skuDetailList"),c=t.get("tomorrowArrival");if(!c||c.isEmpty())return t;var l=a&&o.get("preSaleRemindStr")&&o.getIn(["skuStore","preSale"])||s.every(function(t){return!!t.get("preSaleRemindStr")&&t.getIn(["skuStore","preSale"])}),d=t.getIn(["async","showTimingSale"])||!1,u=a?!!o.get("depositSkuInfo"):!!t.getIn(["async","depositGoodsInfo"]);return t=l||d||u?t.setIn(["tomorrowArrival","show"],!1):t.setIn(["tomorrowArrival","show"],!!t.getIn(["tomorrowArrival","defShow"])),t=d||u?t.setIn(["deliverTimeInfo","deliverTimeStr"],""):t.setIn(["deliverTimeInfo","deliverTimeStr"],t.getIn(["deliverTimeInfo","deliverTimeStr"])||"")}),t}},function(t,e,n){var i=n(1),o=n(5),a=n(19),s=a.updateVipMember,r=a.initPromotionbar,c=a.initPostageAndTomorrowArr,l=a.getAddress,d=a.updateAddress,u=a.initAsyncDataService,p=a.useDegradationData,f=a.initImage,m=n(15),h=o.fromJS,g=o.toJS,v=function(t,e){return e=function(t){var e=t.getIn(["async","depositGoodsInfo"]),n=t.get("skuDetailList"),i=t.get("skuVidMap"),o=t.get("skuIdMap"),a=t.get("nowDate")||+new Date;if(!e||e.isEmpty())return t;var s=function(t){var n=e.get("deposit"),i=t&&t.get("depositSkuInfo"),o=i?i.get("payStartTime"):e.get("payStartTime"),s=i?i.get("depositStartTime"):e.get("depositStartTime");return n&&o&&a<o&&s&&s<a};s()||(t=t.setIn(["async","depositGoodsInfo"],null));return n.forEach(function(e,n){s(e)||(t=t.setIn(["skuDetailList",""+n,"depositSkuInfo"],null))}),i.forEach(function(e,n){s(e)||(t=t.setIn(["skuVidMap",""+n,"depositSkuInfo"],null))}),o.forEach(function(e,n){s(e)||(t=t.setIn(["skuIdMap",""+n,"depositSkuInfo"],null))}),t}(e=t.exec(s,e,{})),e=t.exec(r,e,{}),e=function(t){var e=t.get("async"),n=t.get("skuDetailList"),i=g(t.getIn(["guarantee","guaranteeServiceIds"]));if(i&&i.length)return t;var o=g(e.get("skuValueAddInfoDetailList")),a=g(n.map(function(t){return t.get("skuValueAddInfoDetailList")}));function s(t){return(t=t||[]).forEach(function(t,e){t.select=null,(t.skuValueAddInfoList||[]).some(function(n,i){return 2===parseInt(n.buyerType)&&(t.defSelect=n,t.defSelectIndex={gitemIndex:e,gliIndex:i},!0)})}),t}var r={current:null,isSelSku:!1,goodsGuarantee:{skuValueAddInfoDetailList:s(o)},guaranteeList:a.map(function(t,e){return{skuId:n.getIn([e,"skuInfo","skuId"]),skuValueAddInfoDetailList:s(t)}})};return t.set("guarantee",h(r))}(e=function(t){var e=g(t.getIn(["sync","skuPropertyList"]))||[];if(!e.length)return t;var n={};n.skuPropertyList=e||[],n.noSelectSkuError=!1;var i=[],o=void 0;return n.skuPropertyList.forEach(function(t){t.hasImg=!1,o=[],(t.skuPropertyValueList||[]).forEach(function(e){e.hasImg=!1,e.imageUrl&&(t.hasImg=!0,e.hasImg=!0),e.showMsg=e.propertyValue+(e.nameAlias?" "+e.nameAlias:""),o.push(e.propertyValueId)}),i.push(o)}),n.allVidList=i,n.noneVidList=[],n.selVidList=[],n.stockOutList=[],t.set("skuProps",h(n))}(e=function(t){var e=t.getIn(["async","skuTaxInfoPc"]);return t.set("skuTaxInfoPc",e)}(e=function(t){var e=t.getIn(["async","similarGoodsList"]);if(!e||!e.size)return t;var n=t.get("goodsId");return e.some(function(t,i){if(n===t.get("goodsId"))return e=e.setIn([i,"isCur"],!0),!0}),t.set("similarGoodsList",h(e))}(e=function(t){var e=t.getIn(["async","multipackGoodsList"]);if(!e||!e.size)return t;var n=t.get("goodsId");e.some(function(t,i){if(n===t.get("goodsId"))return e=e.setIn([i,"isCur"],!0),!0}),e.length>4&&i.daEvent("商品详情页","组合装展开按钮","出现");return t.set("multipackGoodsList",h(e))}(e=t.exec(c,e,{})))))),e=t.exec(f,e)};function _(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=~m.DIRECT_CITY_CODE.indexOf(t.provinceCode||""),n=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return"黑龙"===t.slice(0,2)?"黑龙江":t.slice(0,2)}(t.provinceName||""),i=t.cityName||"",o=t.districtName||"";return e||!i?n+"/"+o:n+"/"+i+"/"+o}t.exports=function(t){return t.add([l.fulfilled,l.rejected],function(t,e){var n=e.payload||m.DEF_ADDRESS,i=_(n),o=n||{},a=o.provinceCode,s=o.cityCode,r=o.districtCode;return t.set("address",h({provinceCode:a,cityCode:s,districtCode:r})).set("addressMsg",i)}),t.add(d,function(t,e){var n=e.payload||{},i=parseInt(n.cityCode),o=parseInt(n.districtCode),a=parseInt(n.provinceCode),s=parseInt(n.firstLoaded);if(!a||!i||!o||s)return t;var r=_(n),c={provinceCode:a,cityCode:i,districtCode:o};return t.set("address",h(c)).set("addressMsg",r)}),t.add(u.fulfilled,function(e,n){var i=n.payload||{},o=i.skuDetailList||[],a={},s={};o.forEach(function(t){var e=t.skuInfo||{};a[e.skuId||""]=t,s[e.skuPropervalueIdString||""]=t});var r=i.preSaleRemindStr||"",c=i.preSale||!1,l=r&&c?r:"";return e=(e=(e=e.setIn(["preSale","goodsPreSaleInfoTmp"],l).setIn(["preSale","goodsPreSaleInfo"],l)).set("async",h(i)).set("nowDate",i.nowDate||+new Date).set("skuDetailList",h(o)).set("skuIdMap",h(a)).set("skuVidMap",h(s)).set("userFavoriteGoods",!!i.userFavoriteGoods).set("goodsYearOverLimitString",i.goodsYearOverLimitString).set("asyncLoadedTime",+new Date)).set("asyncIndex",Number(e.get("asyncIndex")||0)+1),e=v(t,e)}),t.add(p,function(t){return t}),t}},function(t,e,n){var i=n(1),o=n(5),a=n(19),s=a.initSyncData,r=a.changeImg,c=a.updateFavBtn,l=a.initImage,d=n(504),u=n(509),p=n(508),f=n(510),m=n(503),h=n(507),g=n(506),v=o.createReducer({}),_=o.fromJS;v.add(s,function(t,e){var n=e.payload||{},o=n.referrer||document.referrer||"",a=n.defSkuVid||"",s=t.get("sync"),r=s.getIn(["goodsDetailContent","hkMedicine"])||!1,c=s.getIn(["goodsDetailContent","hkNourishment"])||!1,d=!!r||!!c,u=parseInt(t.get("syncReadyIndex"))||0;return t=t.set("syncReadyIndex",u+1).set("goodsId",s.getIn(["goodsInfoBase","goodsId"])).set("hkNourishment",!!c).set("hkMedicine",!!r).set("hkSiteFlag",d).set("categoryId",s.getIn(["goodsInfoBase","categoryId"])).set("defSkuVid",a).set("innerSource",function(t){var e=(t||"").toLowerCase();return/\/\/[^/]+?\/search\//.test(e)?"SEARCH":"specialtopic"===i.getUrlParam("from")?"SPETOPIC":"DETAIL"}(o)).set("virtualProduct",s.get("virtualProduct")).set("notSaleGoods",s.getIn(["goodsInfoBase","notSaleGoods"])),t=function(t){var e=t.get("sync")||{},n={};return n.kaolaSuperMarket=e.get("kaolaSuperMarket")||!1,n.needSelfTag=e.get("needSelfTag")||!1,n.brandAuth=e.get("brandAuth")||!1,n.crossBorder=e.get("crossBorder")||!1,n.overSea=e.get("overSea")||!1,n.brandName=e.getIn(["goodsInfoBase","brandName"])||"",n.brandId=e.getIn(["goodsInfoBase","brandId"]),n.title=e.getIn(["goodsInfoBase","title"])||"",n.subTitle=e.getIn(["goodsInfoBase","subTitle"])||"",n.memberTitle="",t.set("title",_(n))}(t=v.exec(l,t))}),v.add(l,function(t){var e=t.get("sync")||_({}),n={selectIndex:0,bigImg:"",webImageList:[],detailRanksImageUrl:""},i=t.getIn(["async","bannerImgList"])||e.getIn(["goodsInfoBase","webImageList"])||_([]);i=i?i.toJS():[];var o=e.getIn(["goodsInfoBase","imageUrl"])||"",a=e.getIn(["goodsDetailContent","brandMainAuthorizationImage"]);if(a){var s={imageUrl:a};i.length>=4?i.splice(3,0,s):i.push(s)}n.webImageList=i,n.bigImg=i.length?i[0].imageUrl||"":o;var r=e.getIn(["goodsRanksTop","detailRanksImageUrl"]);if(n.detailRanksImageUrl=r||"",r){var c=e.getIn(["goodsRanksTop","goodsId"]);n.rankGoodsDaEvent=["商品详情页","榜单标识图",c]}return t.set("image",_(n))}),v.add(r,function(t,e){var n=e.payload||{},i=n.bigImg,o=n.selectIndex;return i&&"number"==typeof o?t.setIn(["image","bigImg"],i).setIn(["image","selectIndex"],o):t}),v.add(c,function(t,e){var n=e.payload||!1;return t.set("userFavoriteGoods",n)}),u(v),p(v),d(v),f(v),m(v),h(v),g(v),t.exports=v},function(t,e,n){var i=n(19),o=i.updateBuyNum,a=i.changeGoodsNumber,s=i.setGoodsNumber,r=n(5),c=n(502),l=n(135),d=(0,r.fromJS)({});t.exports=function(t){return t.add(o,function(e){var n=e.get("currentSkuVid")||"",i=l.getSkuInfo(e,n),o=i.sku,s=i.async,r=i.hasSku,u=e.getIn(["vipmember","vipUser"])||!1,p=c.calcLimit({hasSku:r,goods:s,selVidList:e.getIn(["skuProps","selVidList"]),skuDetailList:e.get("skuDetailList"),sku:o,vipUser:u,isImmutable:!0,emptyObject:d}),f=e.get("buyNum");f=f.set("msg",p.msg).set("isRed",p.isRed).set("maxQty",p.maxQty).set("minQty",p.minQty).set("bought",p.bought).set("type",p.type).set("noDeliver",p.noDeliver).set("noStore",p.noStore).set("lockStore",p.lockStore),e=e.set("buyNum",f);return e=t.exec(a,e,{payload:0})}),t.add(s,function(e,n){var i=n.payload,o=parseInt(e.getIn(["buyNum","number"])||0);return(i===undefined||isNaN(parseInt(i)))&&(i=o),t.exec(a,e,{payload:i-o})}),t.add(a,function(t,e){var n=e.payload;(n===undefined||isNaN(parseInt(n)))&&(n=0);var i=t.get("buyNum"),o=!1,a=!1,s=parseInt(i.get("number"))||0,r=parseInt(i.get("minQty"))||1,c=parseInt(i.get("maxQty"))||0,l=!1;return s+=n,r<c?(s<=r?(s=r,o=!0):s>r&&s<c||s>=c&&(s=c,a=!0),l=!1):(s=r>1?r:c,a=o=!0,l=r>c),i=i.set("buyNumChange",parseInt(i.get("buyNumChange")||0)+1).set("btnDisabled",l).set("number",s).set("addHide",a).set("reduceHide",o),t.set("buyNum",i)}),t}},function(t,e,n){var i=n(5),o=n(19),a=o.buyNow,s=o.add2Cart,r=n(15),c=n(12),l=n(17),d=n(8),u=n(47),p=n(185),f=n(116),m=n(117),h=n(134),g=n(135),v=n(10),_=n(227),y=i.fromJS,b=i.toJS,I=!1;function S(){var t=d("#j-formEl")[0];t&&t.submit&&(c._$cookie("NTES_KAOLA_ORDER_FLAG_NEW",{value:"1",path:"/",domain:".kaola.com"}),t.submit())}function T(t){var e=t.getIn(["sync","vipExclusiveGoods"])||!1,n=t.getIn(["vipmember","isBlackVipUser"])||!1;return!(!e||n)&&(new h({data:{title:"开通会员",tips:"该商品为黑卡会员专享哦，开通黑卡会员即可购买~"||"成为考拉会员，尊享黑卡会员价，立享全场自营96折优惠"}}),!0)}function x(t){var e,n;if(!(g.getSkuInfo(t,t.get("currentSkuVid")).hasSku&&(e=t.getIn(["skuProps","selVidList"]),n=t.getIn(["skuProps","allVidList"]),0===n.size||n.size>0&&e.size===n.size))){var i=d(".j-skubox")[0];return i&&u._$allocate({scrollTo:i,duration:50,offset:-10,timing:"easeinout"}),t.setIn(["skuProps","noSelectSkuError"],!0)}var o=t.get("skuId"),a=t.getIn(["buyNum","number"]),s=t.getIn(["buyNum","btnDisabled"]);return a&&o&&!s?null:t}function w(t,e){var n=g.getSkuInfo(e,e.get("currentSkuVid")).sku;if(T(e))return e;if(function(t){var e=t.get("buyNum"),n=e.get("number"),i=e.get("bought"),o=e.get("maxQty"),a=e.get("type"),s="";return!(isNaN(n)||isNaN(i)||isNaN(o)||o>=n||(a===r.LIMIT.ACCOUNT||a===r.LIMIT.MEMBER_ACCOUNT?s=o>0?'抱歉，这件商品每人最多可购买<span class="xiangou-txt-qty"> '+(i+o)+'</span>, 您已经购买了<span class="xiangou-txt-qty"> '+i+' </span>件, 只能再购买<span class="xiangou-txt-qty"> '+o+" </span>件哦~":'抱歉，这件商品每人最多可购买<span class="xiangou-txt-qty"> '+(i+o)+' </span>件哦~您已经购买了<span class="xiangou-txt-qty"> '+(i+o)+" </span>件, 不能再购买了。":a===r.LIMIT.DAILY&&(s='抱歉，此商品单日限购<span class="xiangou-txt-qty"> '+(i+o)+' </span>件，您单日已购买<span class="xiangou-txt-qty"> '+i+" </span>件, 超出限购了哦~~"),new m({data:{width:520,title:"提示",content:'<i class="iconfont main-icon notice icon-emotion"></i>'+s,clazz:"m-dialogalert z-mid",txtOk:"知道了",hideCCBtn:!0}}),0))}(e))return e;if(function(t,e){var n=t.getIn(["buyNum","number"]),i=parseInt(e.getIn(["skuLimitBuyInfo","isPersonalCustom"])||0),o=e.getIn(["skuLimitBuyInfo","personalCustomInfoStr"])||"",a=parseInt(e.getIn(["skuLimitBuyInfo","personalCustomLimitBuyCount"])||0);return 1===i&&n>a&&(new m({data:{width:520,title:"提示",content:'<div class="noticeText">'+o+'</div><div class="noticeText">您已超限，请分开购买哦~</div>',clazz:"m-limitBuyTipsPop",txtOk:"知道了",hideCCBtn:!0}}),!0)}(e,n)){var i=parseInt(n.getIn(["skuLimitBuyInfo","personalCustomLimitBuyCount"])||0);return _.emit(_.name.setGoodsNumber,i),e}return function(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(){},i=t.get("goodsId"),o=b(t.get("address")),a=o.provinceCode,s=o.cityCode,r=o.districtCode,c=t.get("skuId"),l=t.getIn(["buyNum","number"]),d=e.getIn(["skuPrice","suggestPrice"])||0,u=e.getIn(["skuStore","firstWarehouseId"])||"";v("/product/checkFullAmountCutDown.json",{method:"GET",data:{goodsId:i,skuId:c,buyCount:l,suggestPrice:d,firstWarehouseId:u,provinceCode:a,cityCode:s,districtCode:r},type:"json",onload:function(t){t&&200===t.code&&t.data?t.data.hasStore?n(1):n(2):n(0)},onerror:function(){n(0)}})}(e,n,function(n){1===n?function(t,e){new m({data:{width:520,title:"提示",content:'<i class="iconfont main-icon notice icon-emotion"></i>该商品可参加满赠活动，建议加入购物车并挑选赠品',clazz:"m-dialogalert z-mid",txtOk:"去购物车选赠品",txtCC:"直接结算",onok:function(){t.exec(s,e,{payload:{node:null,callback:function(){location.href=r.BUY_DOMAIN+"cart.html"}}})},oncancel:function(){S()}}})}(t,e):2===n?new m({data:{width:520,title:"提示",content:'<i class="iconfont main-icon notice icon-emotion"></i>因仓库赠品不足，或赠品名额有限，您可能无法获得赠品，是否继续下单？',clazz:"m-dialogalert z-mid",txtOk:"继续下单",txtCC:"返回",onok:function(){S()}}}):S()}),e}function k(t,e,n){if(!T(t)){var i=b(t.getIn(["guarantee","guaranteeServiceIds"]))||[],o=t.get("goodsId"),a=t.get("skuId"),s=t.getIn(["image","bigImg"]),r=t.get("innerSource")||"OTHER",c=t.getIn(["buyNum","number"]),l=void 0,d=void 0;n?(d=p._$allocate({onsuccess:n}),l=function(){d=null}):d=d||p._$allocate();var u={islogin:I,count:c,goodsId:o,skuId:a,source:r,serviceIds:i},f=void 0;e&&(f={from:e,imageUrl:s}),setTimeout(function(){d._$addCart(u,f),l&&l()},0)}}t.exports=function(t){var e=0,n=!1,i=-1;return t.add(a,function(o){if(e>2)return e=0,o;if(n)return o;n=!0,i=setTimeout(function(){n=!1},1e3);var a=x(o);return a||(I?(e=0,w(t,o)):(l.isLogin(function(a){clearTimeout(i),n=!1,I=a,a?(e=0,w(t,o)):f._$allocate({logincallback:function(){_.emit(_.name.refreshTopBar),e++,_.emit(_.name.updateAsyncAndBuyAgain)}})._$show()}),o))}),t.add(s,function(t,e){var n=e.payload,i=n===undefined?{}:n,o=i.callback,a=i.node;a=a&&a.target;var s=x(t);if(s)return s;if(I)return k(t,a,o),t;var r=t.get("hkSiteFlag"),c=t.getIn(["guarantee","guaranteeServiceIds"])||y([]),d=t.getIn(["sync","vipExclusiveGoods"])||!1;return r||!c.isEmpty()||d?(l.isLogin(function(e){I=e,e?k(t,a,o):f._$allocate({logincallback:function(){_.emit(_.name.refreshTopBar),k(t,a,o)}})._$show()}),t):(k(t,a,o),t)}),t}},function(t,e,n){var i=n(19).updatePromotionStep,o=n(15),a=n(228);function s(t,e,n,i,s){if(t===o.SECKILL_TYPE){var r=n.get("nowToStartMillis");r-=i;var c=n.get("nowToEndMillis"),l=r+s,d=(c-=i)+s;e=function(t,e,n,i,s){var r=e+i,c=a.compare2TomorrowDate(r,i);return c<0?t=o.SECKILL_STEP.MONTH:0===c?t=o.SECKILL_STEP.TOMORROW:a.isToday(r,i)&&(t=o.SECKILL_STEP.TODAY),e>0&&e<a.min15&&(t=o.SECKILL_STEP.IN15),e>0&&e<a.min5?t=o.SECKILL_STEP.IN5:e<0&&n>0?(t=o.SECKILL_STEP.DOING,s&&(t=o.SECKILL_STEP.NO_GOODS)):n<0&&(t=o.SECKILL_STEP.DONE),t}(e,r,c,s,(n=n.set("startMills",l).set("endMills",d).set("nowToStartMillis",r).set("nowToEndMillis",c)).get("soldout")||!1)}return{step:e,currentPromotion:n}}function r(t,e,n,i,s,r){if(t===o.TEMAI_TYPE){var c=n.get("nowToStartMs");c-=i;var l=n.get("nowToEndMs");l-=i;var u=c+s,p=c+s;n=n.set("startMills",u).set("endMills",p).set("nowToStartMs",c).set("nowToEndMs",l),e=function(t,e,n,i){var s=e+i,r=a.compare2TomorrowDate(s,i);return r<0?t=o.TEMAI_STEP.MONTH:0===r?t=o.TEMAI_STEP.TOMORROW:a.isToday(s,i)&&(t=o.TEMAI_STEP.TODAY),e>0&&e<a.min15&&(t=o.TEMAI_STEP.IN15),e>0&&e<a.min5?t=o.TEMAI_STEP.IN5:e<0&&n>0?t=o.TEMAI_STEP.DOING:n<0&&(t=o.TEMAI_STEP.DONE),t}(e,c,l,s);var f=n.get("activityPrice"),m=r.getIn(["vipmember","vipUser"]);d(f,r.getIn(["vipmember","memberCurrentPrice"]),m)&&(n=n.set("type",-1),e=-1)}return{step:e,currentPromotion:n}}function c(t,e,n,i,s){if(t===o.TIMINE_SALE_TYPE){var r=n.get("timingSaleTime"),c=r-i;n=n.set("toTimingSaleMills",c),e=function(t,e,n){var i=e-n,s=a.compare2TomorrowDate(e,n);return s<0?t=o.TIMGINE_SALE_STEP.MONTH:0===s?t=o.TIMGINE_SALE_STEP.TOMORROW:a.isToday(e,n)&&(t=o.TIMGINE_SALE_STEP.TODAY),i>0&&i<a.min10?t=o.TIMGINE_SALE_STEP.IN10:i<0&&(t=o.TIMGINE_SALE_STEP.DOING),t}(e,r,i),s&&(n=n.set("type",-1),e=-1)}return{step:e,currentPromotion:n}}function l(t,e,n,i,s){if(t===o.DEPOSIT_TYPE){var r=n.get("depositEndTime"),c=n.get("payStartTime");e=function(t,e,n,i){var s=void 0;return i<e?(s=a.compare2TomorrowDate(e,i))<0?t=o.DEPOSIT_STEP.MONTH:0===s?t=o.DEPOSIT_STEP.TOMORROW:a.isToday(e,i)&&(t=o.DEPOSIT_STEP.TODAY):i<n?(s=a.compare2TomorrowDate(n,i))<0?t=o.DEPOSIT_STEP.DONE_MONTH:0===s?t=o.DEPOSIT_STEP.DONE_TOMORROW:a.isToday(n,i)&&(t=o.DEPOSIT_STEP.DONE_TODAY):t=o.DEPOSIT_STEP.DONE_DONE,t}(e,r,c,s);var l=r-s,d=c-s;n=n.set("depositToEndMills",l).set("toPayStartMills",d)}return{step:e,currentPromotion:n}}function d(t,e,n){return t=parseFloat(t),e=parseFloat(e),n&&t&&e&&e<=t}t.exports=function(t){return t.add(i,function(t){var e=t.get("currentPromotion"),n=e.get("type"),i=e.get("step"),u=t.get("asyncLoadedTime")||+new Date,p=+new Date-u,f=t.get("nowDate")||+new Date,m=s(n,i,e,p,f+=p);return m=function(t,e,n,i){if(t===o.PRO_DOING_TYPE){var s=(Number(n.get("endTime"))||0)-i;n=n.set("leftTimeMills",s),e=s>=25*a.hour?o.PRO_DOING_STEP.DAY:s>=a.hour&&s<25*a.hour?o.PRO_DOING_STEP.HOUR:s<a.hour&&s>0?o.PRO_DOING_STEP.MINUTE:o.PRO_DOING_STEP.DONE}return{step:e,currentPromotion:n}}(n,i=m.step,e=m.currentPromotion,f),m=function(t,e,n,i,a){if(t===o.PRO_TYPE){var s=n.get("prePirce"),r=n.get("dachuStartTime")-i;n=n.set("toDacuStartMills",r),e=o.PRO_STEP.DEFAULT;var c=a.getIn(["vipmember","vipUser"]);d(s,a.getIn(["vipmember","memberCurrentPrice"]),c)&&(n=n.set("type",-1),e=-1)}return{step:e,currentPromotion:n}}(n,i=(m=r(n,i=m.step,e=m.currentPromotion,p,f,t)).step,e=m.currentPromotion,f,t),i=(m=l(n,i=(m=c(n,i=m.step,e=m.currentPromotion,f,t.getIn(["buyNum","noStore"]))).step,e=m.currentPromotion,0,f)).step,e=(e=m.currentPromotion).set("step",i),t.set("currentPromotion",e)}),t}},function(t,e,n){var i,o=n(13),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(5),r=n(19),c=r.updatePromotionbar,l=r.updatePromotionStep,d=r.initPromotionbar,u=n(15),p=n(135),f=s.fromJS,m=s.toJS,h=[4,3,0,1,2,5],g=function(t,e,n){var i=p.isSameSkuPrice(e,"SECKILL"),o=(0,a["default"])(t,{type:u.SECKILL_TYPE,isDiffPromotionPrice:!i&&n,step:-1});return o.toEndMs<=0||!o.startTime?null:o},v=function(t,e,n){var i=function(t){var e=Number(t.activityType||-1),n=Number(t.activityTag||-1);return 9!==e?0:20===n?1:2}(t),o=["","开抢提醒","开场提醒我"][i||0],s=p.isSameSkuPrice(e,"TEMAI"),r=(0,a["default"])(t,{remindMsg:o,isDiffPromotionPrice:!s&&n,temaiType:i,type:u.TEMAI_TYPE,step:-1});return r.toEndMs<=0||!r.startTime?null:r},_=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=arguments[1],n=(0,a["default"])(t,{step:-1,type:u.PRO_DOING_TYPE});return n.endTime<e?null:n},y=function(t,e){var n=h,i=function(t){var e=999;return n.forEach(function(n,i){e=t===n?i:e}),e};return i(t.type)-i(e.type)};t.exports=function(t){return t.add(c,function(e,n){var i=n.payload||"",o=p.getSkuInfo(e,i).hasSku,a=e.get("promotionbar"),s=a.get("skuList"),r=null;if(o){var c=s.find(function(t){return t.get("skuVid")===i});c&&(r=c.getIn(["bars","0"]))}else r=a.getIn(["defBars","0"]);return r?(e=e.set("currentPromotion",r),e=t.exec(l,e,{})):e=e.set("currentPromotion",f(u.EMPTY_PROMOTION))}),t.add(d,function(t){var e={},n=m(t.get("skuDetailList")),i=t.get("async"),o=m(i.get("seckillActivityInfo")),s=m(i.get("temaiActivityInfo")),r=m(i.get("promotionNotice")),c=m(i.get("promotionSaleCountDownInfo")),l=i.get("nowDate")||+new Date,d=i.get("showTimingSale"),h=i.get("timingSaleTime"),b=m(i.get("depositGoodsInfo")),I=m(i.get("depositGoodsAdditionalInfo"));e.defBars=[],e.skuList=[],e.pageLoad=+new Date;var S=void 0;o&&(S=function(t,e){return g(t,e,!0)}(o,n))&&e.defBars.push(S);var T=void 0;s&&(T=v(s,n,!0))&&e.defBars.push(T);var x=void 0;r&&(x=function(t){var e=t.priceLabel||"",n=t.wholePromotionLabel||"",i=t.taxFreeLabel||"",o=t.ifHasVipPriceActivity||!1,s=t.ifHasLetterOfQi||!1,r=t.limitHour||0,c=t.activityGoodsStore&&t.activityGoodsStore>0?t.activityGoodsStore:0,l=[],d="";e&&l.push({type:"priceText",txt:(o?"会员价":"")+" ¥"+e+(s?"起":"")}),n&&l.push({type:"promotionText",txt:n}),i&&l.push({type:"taxText",txt:i}),r&&c&&c>0?d="限"+r+"小时 限"+c+"件":r?d="限"+r+"小时":c&&c>0&&(d="限"+c+"件");var p=(0,a["default"])(t,{limitTxt:d,texts:l,type:u.PRO_TYPE});return p.startTime&&l&&l.length&&p.promotionTagImgUrl?p:null}(r))&&e.defBars.push(x);var w=void 0;d&&h&&(h<l&&(t=t.setIn(["async","showTimingSale"],!1)),(w=function(t){if(t.showTimingSale&&!(t.timingSaleTime<t.nowDate)){var e={type:u.TIMINE_SALE_TYPE,timingSaleTime:t.timingSaleTime,nowDate:t.nowDate};return e.startDate=new Date(e.timingSaleTime),e}}({showTimingSale:d,timingSaleTime:h,nowDate:l}))&&e.defBars.push(w));var k=void 0;b&&I&&(k=function(t,e,n){var i=p.isSameSkuPrice(n,"DEPOSIT"),o=(0,a["default"])({},t,{type:u.DEPOSIT_TYPE,isDiffPromotionPrice:!i,step:-1},e);return n.length&&n[0].depositSkuInfo&&(o.depositId=n[0].depositSkuInfo.depositId),o}(b,I,n))&&e.defBars.push(k);var C=void 0;return c&&(C=_(c,l))&&e.defBars.push(C),e.defBars.sort(y),n.forEach(function(t){var i=t.skuInfo||{},o={skuId:i.skuId,skuVid:i.skuPropervalueIdString||"",bars:[]},s=t.seckillActivityInfo,r=t.temaiActivityInfo,c=t.depositSkuInfo,d=t.depositSkuAdditionalInfo,p=t.promotionSaleSkuCountDownInfo;if(s){var f=g(s,n);f&&o.bars.push(f)}if(r){var m=v(r,n,!1);m&&o.bars.push(m)}if(x&&o.bars.push(x),w&&o.bars.push(w),c&&d&&I){var h=function(t,e,n,i){return(0,a["default"])({},{type:u.DEPOSIT_TYPE,step:-1,depositLimitPattern:i.depositLimitPattern,totalDepositLimitBuyCount:i.totalDepositLimitBuyCount,totalDepositBuyCount:i.totalDepositBuyCount},t,e,{taxAndDeliveryDesc:n.taxAndDeliveryDesc,priceTitle:n.priceTitle})}(c,d,I,k);h&&o.bars.push(h)}if(p){var b=_(p,l);b&&o.bars.push(b)}o.bars.sort(y),e.skuList.push(o)}),t.set("promotionbar",f(e))}),t}},function(t,e,n){var i=n(5),o=n(19),a=o.triggerVidList,s=o.triggerVid,r=o.updateVipMember,c=o.updateBuyNum,l=o.updateTomorrowArr,d=o.getSkuPromotionDataService,u=o.updatePromotionbar,p=o.selectGuarantee,f=o.updateNewUserInfo,m=n(15),h=n(135),g=i.fromJS,v=i.toJS;function _(t){var e=new Date(t);return+new Date(e.getFullYear(),e.getMonth(),e.getDate())}t.exports=function(t){function e(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",o=e.get("skuDetailList"),a=e.getIn(["skuProps","skuPropertyList"]);1===o.size&&a&&0===a.size&&(i=o.getIn(["0","skuInfo","skuPropervalueIdString"])),e=e.set("skuChangeIndex",Number(e.get("skuChangeIndex")||0)+1);var s=h.getSkuInfo(e,i),d=s.sku,y=s.async,b=s.hasSku,I={payload:i=b?i:""};return e=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",n=h.getSkuInfo(t,e),i=n.sku,o=n.hasSku,a=t.getIn(["preSale","goodsPreSaleInfoTmp"]),s=t.getIn(["async","preSale"])||!1;if(!o||!i||i.isEmpty())return(t=t.setIn(["preSale","goodsPreSaleInfo"],a)).setIn(["preSale","preSaleInfo"],"").setIn(["preSale","storePreSale"],s);var r=i.get("preSaleRemindStr")||!1,c=i.getIn(["skuStore","preSale"])||!1,l=i.getIn(["skuStore","preSaleDeliverTime"])||0,d=t.getIn(["async","showTimingSale"])||!1,u=t.getIn(["async","timingSaleTime"])||0,p=i.getIn(["depositSkuInfo","payStartTime"]),f="";f=!r||!c||d&&_(l)<_(u)||p&&_(l)<_(p)?"":r;return t.setIn(["preSale","preSaleInfo"],f).setIn(["preSale","goodsPreSaleInfo"],f?a:"").setIn(["preSale","storePreSale"],c)}(e=(e=e.set("currentSkuVid",b?i:"")).set("skuId",b?d.getIn(["skuInfo","skuId"]):""),i),e=t.exec(r,e,I),e=function(t,e,n,i){"number"==typeof e&&(e=e||0);n=n>0?n:null;var o=void 0,a=0;i?(o=i,a=2):o=null;t.getIn(["sync","goodsCatty"])&&(a=3);var s={},r=t.getIn(["async","goodsCombineInfo"])||g({}),c=r.get("memberCount")||0,l=r.get("memberPrice"),d=r.get("showDiscountCost")||!1,u=r.get("memberUnitName")||"件",p=c>0&&!!u&&l>=0;p&&(s.title=c+u+"装");p&&d&&"number"==typeof l&&(a=1,s.unit=u,s.price=Math.round(100*l)/100);var f=h.isSameSkuPrice(v(t.getIn(["async","skuDetailList"])),"CURRENT"),m=t.get("skuId"),_={currentPrice:e,isDiffCurPrice:!f&&!m,marketPrice:n,discount:o,tagType:a,combineInfo:s};return t.set("price",g(_))}(e=t.exec(f,e,I),(b?d:y).getIn(["skuPrice","currentPrice"]),(b?d:y).getIn(["skuPrice","marketPrice"]),(b?d:y).getIn(["skuPrice","discountLabel"])),e=t.exec(c,e),e=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",n=h.getSkuInfo(t,e),i=n.sku,o=n.async,a=n.hasSku?i.get("promotionList"):o.get("promotionList");a&&0!==a.size||(a=g([]));var s=a.find(function(t){return Number(t.get("promotionType"))===m.PROMOTION_TYPE_KAOLABEAN}),r=(t=t.set("kaolaBean",s)).getIn(["skuVidMap",e,"goodsPresentGiftList"]);r=r||t.getIn(["async","goodsPresentGiftList"])||g([]);var c=(t=t.set("currentGoodsPresentGiftList",r)).getIn(["vipmember","isBlackVipUser"]),l=null,d=a.filter(function(t){var e=parseInt(t.get("promotionType"));return e===m.PROMOTION_TYPE_GIFT?(l=(l=t).set("goodsPresentGiftList",r).set("gift",g(!0)),!1):e!==m.PROMOTION_TYPE_KAOLABEAN});l&&(d=d.push(l));if(!c){var u=g([]);d=d.filter(function(t){var e=2===parseInt(t.get("promotionForenoticeType"));return e&&(u=u.push(t)),!e}),u.size&&(d=d.push(g({hasExclusive:!0}))),d=d.concat(u)}return t=t.set("activityTagList",d)}(e=t.exec(l,e,I),i),e=function(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",o=h.getSkuInfo(e,i),a=o.sku,s=o.hasSku,r=e.get("guarantee");r=r.set("isSelSku",s);var c=void 0;if(s){var l=r.get("guaranteeList")||g([]);c=l.filter(function(t){return s&&t.get("skuId")===a.getIn(["skuInfo","skuId"])}).get(0)}else c=r.get("goodsGuarantee");return r=r.set("current",c),e=(e=e.set("guarantee",r)).setIn(["guarantee","guaranteeServiceIds"],[]),c&&(c.get("skuValueAddInfoDetailList")||[]).forEach(function(n){var i=n.get("select")||g({}),o=n.get("defSelect")||g({}),a=n.get("defSelectIndex")||g({});if(i.isEmpty()&&!o.isEmpty()&&!a.isEmpty()){var s=a.get("gitemIndex"),r=a.get("gliIndex");e=t.exec(p,e,{payload:{gitemIndex:s,gliIndex:r}})}}),e=e.setIn(["guarantee","guaranteeServiceIds"],n(e.getIn(["guarantee","current"])))}(e=function(t,e,n,i){var o=t.get("price"),a=(i?e:n).get("promotionTag")||g([]),s=!!t.get("notSaleGoods"),r=t.get("currentPromotion"),c=r.get("type"),l=r.get("step"),d=o.get("currentPrice"),u="售价",p=t.getIn(["vipmember","isBlackVipUser"]),f=t.getIn(["vipmember","isRedVipUser"]),h=t.getIn(["vipmember","isCanEnjoyVipUser"]),v=t.getIn(["vipmember","memberCurrentPrice"]),_=h&&"number"==typeof v&&v>=0,y=t.getIn(["newUserInfo","newUserPrice"]),b=!!t.getIn(["newUserInfo","newUser"])&&!!y;b&&_&&y>=v&&(b=!1);s?(d=0,u="售价"):b?d=y:_?d=v:c===m.DEPOSIT_TYPE?(d=r.get("handPrice"),u=r.get("priceTitle")||"预定价"):c===m.SECKILL_TYPE&&l===m.SECKILL_STEP.DOING?(d=r.get("seckillPrice"),u="秒杀价"):c===m.TEMAI_TYPE&&l===m.TEMAI_TYPE.DOING&&(d=r.get("activityPrice"),u="抢购价");var I=d;c===m.DEPOSIT_TYPE&&(I=r.get("totalDepositPrice")||d);return o=o.set("mainPrice",d).set("formPrice",I).set("mainPriceTitle",u).set("isRedVipUser",f).set("isBlackVipUser",p).set("promotionTag",a),t.set("price",o)}(e=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",n=h.getSkuInfo(t,e),i=n.sku,o=n.async,a=n.hasSku?i.get("skuTaxInfoPc"):o.get("skuTaxInfoPc");return t.set("skuTaxInfoPc",a)}(e=t.exec(u,e,I),i),d,y,b),i)}function n(t){var e=g([]);return((t=t||g({})).get("skuValueAddInfoDetailList")||g([])).forEach(function(t){var n=t.getIn(["select","valueAddServiceId"]);n&&(e=e.push(n))}),e}return t.add(a,function(e){var n=(arguments.length>1&&arguments[1]!==undefined?arguments[1]:{}).payload||[],i=e.get("skuDetailList"),o=e.getIn(["skuProps","skuPropertyList"]),a=e.getIn(["skuProps","selVidList"]);if((n=n.length?n:g(a)).length)n.forEach(function(n){e=t.exec(s,e,{payload:n})});else if(1===i.size&&o&&o.size>0){(i.getIn(["0","skuInfo","skuPropervalueIdString"])||"").split("_").forEach(function(n){e=t.exec(s,e,{payload:n})})}else e=t.exec(s,e);return e}),t.add(s,function(t){var n=(arguments.length>1&&arguments[1]!==undefined?arguments[1]:{}).payload||"",i=t.get("skuProps"),o=i.get("skuPropertyList"),a=i.get("allVidList"),s=i.get("selVidList");if(!n){var r=h.getVidInfo(t),c=r.noneVidList,l=r.stockOutList;return t=e(t=t.setIn(["skuProps","stockOutList"],l).setIn(["skuProps","noneVidList"],c),"")}var d=s.indexOf(n),u=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",e=void 0,n=null;return(arguments.length>1&&arguments[1]!==undefined?arguments[1]:g([])).forEach(function(i){var o=i.get("skuPropertyValueList");o&&(e=o.filter(function(e){return e.get("propertyValueId")===t})).size&&(n=e.get("0"))}),n}(n,o),p=void 0,f=u&&u.get("imageUrl"),m=t.get("skuDetailList");a.every(function(t){return!~(t||g([])).indexOf(n)})?f="":~d?(s=s.splice(d,1),f=""):(a.forEach(function(t){~t.indexOf(n)&&t.forEach(function(t){~(p=s.indexOf(t))&&(s=s.splice(p,1))})}),s=s.push(n)),f&&(t=t.setIn(["image","bigImg"],f).setIn(["image","selectIndex"],-1)),s=s.sort();var v=0===a.size||a.size>0&&s.size===a.size,_=i.get("noSelectSkuError")||!1,y=null;v&&(_=!1,y=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:g([]),e=void 0;return(arguments.length>1&&arguments[1]!==undefined?arguments[1]:g([])).some(function(n){var i=n.getIn(["skuInfo","skuPropervalueIdList"]);return!(!i||!i.size)&&(i.size===t.size&&i.every(function(e){return~t.indexOf(e)})?(e=n,!0):void 0)}),e}(s,m)),t=t.setIn(["skuProps","selVidList"],s);var b=h.getVidInfo(t),I=b.noneVidList,S=b.stockOutList;(t=t.setIn(["skuProps","noSelectSkuError"],_).setIn(["skuProps","stockOutList"],S).setIn(["skuProps","noneVidList"],I),y)?t=e(t,y.getIn(["skuInfo","skuPropervalueIdString"])||""||""):t=e(t,"");return t}),t.add(p,function(e,i){var o=i.payload||{},a=o.gitemIndex,s=o.gliIndex;if(!e.getIn(["guarantee","isSelSku"]))return e;var r=e.getIn(["guarantee","current","skuValueAddInfoDetailList",a]),c=r.getIn(["skuValueAddInfoList",s]),l=r.getIn(["select","valueAddServiceId"])===c.get("valueAddServiceId")?null:c;if(!l&&2===c.get("buyerType"))return e;r=r.set("select",l);var d=(e=e.setIn(["guarantee","current","skuValueAddInfoDetailList",a],r)).get("skuId");((e.getIn(["guarantee","guaranteeList"])||[]).forEach(function(t,n){t.get("skuId")===d&&(e=e.setIn(["guarantee","guaranteeList",n,"skuValueAddInfoDetailList",a,"select"],l))}),e=e.setIn(["guarantee","guaranteeServiceIds"],n(e.getIn(["guarantee","current"]))),l)||r.get("skuValueAddInfoList").some(function(n,i){if(2===n.get("buyerType"))return e=t.exec(p,e,{payload:{gitemIndex:a,gliIndex:i}}),!0});return e}),t.add(d.fulfilled,function(t,e){var n=e.payload.vipLayoutInfo||{};return t=t.setIn(["vipmember","vipLayoutInfo"],g(n))}),t.add(r,function(t,e){var n=e.payload||"",i=h.getSkuInfo(t,n),o=i.sku,a=i.async,s=i.hasSku,r=v(a.get("vipLayoutInfo"))||{},c=h.isSameSkuPrice(v(a.get("skuDetailList")),"BLACKCARD"),l=v(a.get("frontVipInfo"))||{},d=1===l.vipType||3===l.vipType,u=1===l.vipType,p=3===l.vipType,f=u||p&&l.vipRedInfo.canEnjoyMemberPrice,m=l.vipRedInfo||{},_=l.vipGoodsDiscountInfo||{},y=s?o.getIn(["skuPrice","memberCurrentPrice"]):a.getIn(["skuPrice","memberCurrentPrice"]),b={isDiffMemberPrice:!c&&!s,vipLayoutInfo:r,vipUser:d,isCanEnjoyVipUser:f,isBlackVipUser:u,isRedVipUser:p,totalTaxCouponAmount:m.totalTaxCouponAmount,vipRedStationingInfo:l.vipRedStationingInfo,memberCurrentPrice:y,vipGoodsDiscountValue:_.vipGoodsDiscountValue,discountLabelImg:_.discountLabelImg,vipRedPriceImg:m.redPriceImg,vipPriceImg:l.vipPriceImg,newUserMemberPriceImg:l.newUserMemberPriceImg,newUserMemberPriceDesc:l.newUserMemberPriceDesc,openBlackUrl:_.openBlackUrl,proToBlackUrl:_.proToBlackUrl};return t.set("vipmember",g(b))}),t.add(f,function(t,e){var n=e.payload||"",i=h.getSkuInfo(t,n),o=i.sku,a=i.async,s=i.hasSku,r={isDiffNewUserPrice:!h.isSameSkuPrice(v(a.get("skuDetailList")),"NEWUSER")&&!s,newUser:a.get("newUser")||!1,newUserPrice:s?o.getIn(["skuPrice","newUserPrice"]):a.getIn(["skuPrice","newUserPrice"])};return t.set("newUserInfo",g(r))}),t}},function(t,e,n){var i=n(514),o=n(15),a=new i({timeout:1e4});a.register("getAddress",{method:"GET",url:o.KAOLA_DOMAIN+"addressControl/getAddress.html",norest:!0,cookie:!0,mode:0}),a.register("getAsyncData",{method:"GET",url:o.DETAIL_DOMAIN+"product/getPcGoodsDetailDynamic.json",norest:!0,cookie:!0,mode:0}),a.register("getSkuPromotionDataService",{method:"GET",url:o.DETAIL_DOMAIN+"product/sku.json",norest:!0,cookie:!0,mode:0}),t.exports={getAddress:a.resolve("getAddress"),getSkuPromotionDataService:a.resolve("getSkuPromotionDataService"),getAsyncData:a.resolve("getAsyncData")}},function(t,e,n){var i=n(229).isFunction,o=function(){this.__events__={}},a=o.prototype;a.on=function(t,e){return this.__events__[t]||(this.__events__[t]=[]),-1===this.has(t,e)&&i(e)?(this.__events__[t].push(e),this):this},a.emit=function(t){for(var e=this,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=this.__events__[t];return a&&0!==a.length?(a.forEach(function(t){t.call.apply(t,[e].concat(i))}),this):this},a.off=function(t,e){if(!i(e))return this;var n=this.has(t,e);return-1!==n&&this.__events__[t].splice(n,1),this},a.has=function(t,e){var n=this.__events__[t];return!n||!n.length>0?-1:n.indexOf(e)},t.exports=o},function(t,e){var n={},i=function(){return!0};n.refreshTopBar=i,n.updateAsyncAndBuyAgain=i,n.setGoodsNumber=function(t){return"number"==typeof t},t.exports=n},function(t,e,n){var i,o=n(38),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(10),r=n(1);function c(t){t=t||{},this.services={},this.config=r.extend(t,{tiemout:6e3})}c.prototype.register=function(t,e){var n=this.config;this.services[t]=function(t){return t=t||{},new a["default"](function(i,o){var a=e.url.replace(/\{([^{}]+)\}/g,function(e,n){return t.rest?t.rest[n]:console.warn("亲当前在使用一个 restful 接口哟，请传入 options.rest 字段，并传入参数")});t.rest&&delete t.rest,s(a,r.extend(r.extend({type:"json",method:"GET",data:{},timeout:n.timeout,onload:i,onerror:o},e||{},!0),t,!0))})}},c.prototype.resolve=function(t){var e=this.services;if(!t)throw new Error("No this service");if(e[t])return e[t]},t.exports=c},function(t,e,n){var i,o=n(13),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(4),r=n(8),c=n(538),l=n(539),d=n(541),u={__initGuessRecommend:function(t){if(this.sideRec4)this.sideRec4.refresh();else{var e=s._$get("j-listguess");e&&(r(e)._$style({display:"block"}),this.sideRec4=new c({data:{strategy:"fav",limit:4,condition:{goodsId:t,account:window.account||"",recommendType:4},tongji:{category:"推荐区域展示",action:"商品详情页",lable:"猜你喜欢",position:"商品详情页面：猜你喜欢（DETAIL）",from:"detailcnxh",query:"rp=detail&zp=cnxh&zn=rec&recId="},dapushParam:{id:"j-listguess",page:"商品详情页",module:"猜你喜欢"}}}).$inject(e))}},__initRecentRecommend:function(){if(this.sideRec5)this.sideRec5.refresh();else{var t=s._$get("j-listrecent");t&&(r(t)._$style({display:"block"}),this.sideRec5=new l({data:{query:"rp=detail&zp=zjll&zn=rec&recId=",condition:{},tongji:{category:"推荐区域展示",action:"商品详情页",lable:"最近浏览",position:"商品详情页面：最近浏览（DETAIL）"},dapushParam:{id:"j-listrecent",page:"商品详情页",module:"最近浏览"}}}).$inject(t))}},__initHotSaleRecommend:function(t){if(this.sideRec1)this.sideRec1.refresh();else{var e=s._$get("j-listhotsale");e&&(r(e)._$style({display:"block"}),this.sideRec1=new d({data:{title:"热销排行榜",strategy:"hotSale",limit:5,condition:{goodsId:t,accountId:window.account||"",recommendType:5},tongji:{category:"推荐区域展示",action:"商品详情页",lable:"排行榜",position:"商品详情页面：热销排行榜（DETAIL）",from:"detailphb",query:"rp=detail&zp=phb&zn=rec&recId="},dapushParam:{id:"j-listhotsale",page:"商品详情页",module:"热销排行榜"}}}).$inject(e))}},__initSeeAgainRecommend:function(t){if(this.sideRec2)this.sideRec2.refresh();else{var e=s._$get("j-listseeagain");e&&(r(e)._$style({display:"block"}),this.sideRec2=new d({data:{title:"看了又看",strategy:"alsoView",limit:6,condition:{goodsId:t,account:window.account||"",recommendType:2},tongji:{category:"推荐区域展示",action:"商品详情页",lable:"看了又看",position:"商品详情页面：看了又看（DETAIL）",from:"detailklyk",query:"rp=detail&zp=klyk&zn=rec&recId="},dapushParam:{id:"j-listseeagain",page:"商品详情页",module:"看了又看"}}}).$inject(e))}},__initSeeBuyRecommend:function(t){if(this.sideRec3)this.sideRec3.refresh();else{var e=s._$get("j-listseebuy");e&&(r(e)._$style({display:"block"}),this.sideRec3=new d({data:{limit:6,title:"看了最终买",strategy:"viewBuy",condition:{goodsId:t,account:window.account||"",recommendType:3},tongji:{category:"推荐区域展示",action:"商品详情页",lable:"看了最终买",position:"商品详情页面：最终购买（DETAIL）",from:"detailklzzm",query:"rp=detail&zp=klzzm&zn=rec&recId="},dapushParam:{id:"j-listseebuy",page:"商品详情页",module:"看了最终买"}}}).$inject(e))}}};e.addRecommendFuncs=function(t){return(0,a["default"])(t,u)}},function(t,e,n){var i=n(7),o=n(363),a=(n(517),i.extend({template:o,name:"skucard",config:function(){this.supr(),this.handleData(this.data.skudata),this.__imgUrl=this.data.skudata.imageUrl},init:function(){this.supr()},handleData:function(t){t.skuList.forEach(function(t){t.skuPropertyValueIdList=t.skuPropervalueIdList,t.skuPropertyValueId4View=t.skuPropervalueIdString}),(t.skuPropertyList||[]).forEach(function(t){t.propertyName=t.propertyName,t.propertyValues=t.skuPropertyValueList,t.propertyValues.forEach(function(e){e.propertyNameId=t.propertyNameId})}),this.data.skulist=t.skuList,this.data.propList=t.skuPropertyList},switchSku:function(t){this.data.imgUrl=this.getImgUrl(t.selectedPropObjs),this.data.pricetxt=this.getPriceTxt(t),this.$emit("switchsku",t)},getImgUrl:function(t){var e=this.__imgUrl;return t.forEach(function(t){t.imageUrl&&(e=t.imageUrl)}),e},getPriceTxt:function(t){var e=this.data.skudata.goodsAmount||0;return t.selectedSkuObj?t.selectedSkuObj.comboPrice*e||0:this.data.skudata.minComboPrice===this.data.skudata.maxComboPrice?this.data.skudata.minComboPrice*e:this.data.skudata.minComboPrice*e+"-"+this.data.skudata.maxComboPrice*e},goLink:function(){window.open()}}));t.exports=a},function(t,e,n){var i=n(7),o=n(364),a=n(419),s={"UNSELECT-EMPTY":"disable","UNSELECT-ENABLE":"","SELECT-EMPTY":"disable","SELECT-ENABLE":"selected"},r=i.extend({template:o,name:"propertybox",config:function(){this.supr(),this.data.typeMap=s,this.handleData()},clickProp:function(t){this.selectprop(t)}});r.implement(a),t.exports=r},function(t,e,n){var i=n(1),o=n(391),a=n(365),s=n(118);t.exports=o.extend({data:{title:"开售提醒",width:520,msg:i.compressHtml(a),modalName:"m-timingsalenotice",hideCCBtn:!0,txtOk:"关闭"},init:function(){this.supr(),this.__initQRCode(),this.$root===this&&this.$inject(document.body)},__initQRCode:function(){var t=this.data.qrCodeLink,e=this.$refs.qrcode;t&&new s(e,{text:t,width:130,height:130,colorDark:"#000000",colorLight:"#ffffff",correctLevel:s.CorrectLevel.H})},onok:function(){this.confirm()},cancel:function(){this.close()}})},function(t,e,n){var i=n(18),o=n(366);t.exports=i.extend({template:o,clickAddress:function(t){this.$emit("clickAddress",t)}}).filter({showAddress:function(t){return(t.provinceName||"")+(t.cityName||"")+(t.districtName||"")+(t.address||"")}})},function(t,e,n){var i=n(18),o=n(367);t.exports=i.extend({template:o,init:function(){this.supr()},provinceClick:function(t){this.$emit("provinceClick",t)},cityClick:function(t){this.$emit("cityClick",t)},districtClick:function(t){this.$emit("districtClick",t)}}).filter({shortName:function(t){return"黑龙"===t.slice(0,2)?"黑龙江":t.slice(0,2)}})},function(t,e,n){var i=n(18),o=n(368);t.exports=i.extend({template:o,init:function(){this.supr()}})},function(t,e,n){var i=n(18),o=n(369);t.exports=i.extend({template:o,init:function(){this.supr()},provinceTabClick:function(){this.$emit("provinceTabClick")},cityTabClick:function(){this.$emit("cityTabClick")},districtTabClick:function(){this.$emit("districtTabClick")}})},function(t,e,n){var i=n(18),o=n(370);t.exports=i.extend({template:o,init:function(){this.supr();var t=this;this.$timeout(function(){var e=t.$refs.box;t.$emit("getBox",e)},100)}}).use("timeout")},function(t,e,n){var i=n(18),o=n(137),a=(n(41),n(136)),s=n(371),r=i.extend({template:s,config:function(){this.supr()},init:function(){this.supr();var t=this;this.$timeout(function(){var e=t.$refs.target;t.$dispatch(a.setDOMElement({target:e}))},100)},toggle:function(){this.$dispatch(a.toggle())}}).use("timeout");r.filter({show:function(t){return t?t.slice(0,12):"请选择省市区"}}),t.exports=o.connect({mapState:function(t){return{msg:t.input.msg||""}},dispatch:!0})(r)},function(t,e,n){var i=n(18),o=n(137),a=(n(41),n(136)),s=n(372),r=n(519),c=i.extend({template:s,config:function(){this.supr()},clickAddress:function(t){var e=this;this.$dispatch(a.chooseAddress(t)).then(function(){return e.$dispatch(a.getSelectInfo())}).then(function(t){e.$dispatch(a.setNotSelectAnyAddress(!1)),e.$emit("selectAddress",t)}).then(function(){return e.$dispatch(a.saveAddress()).then(function(t){e.$emit("saveAddress",t)})["catch"](function(t){t&&console.error(t)})})["catch"](function(t){t&&console.log(t)})}});c.component("addr-list-addresslist",r),t.exports=o.connect({mapState:function(t){return{contactId:t.select.contactId,addressList:t.list.addressList||[]}},dispatch:!0})(c)},function(t,e,n){var i=n(18),o=n(137),a=(n(41),n(136)),s=n(149),r=n(373),c=n(523),l=n(522),d=n(521),u=n(520),p=n(525),f=i.extend({template:r,config:function(){this.supr()},onGetBox:function(t){this.$dispatch(a.setDOMElement({box:t}))},provinceTabClick:function(){this.$dispatch(a.provinceTabClick())},cityTabClick:function(){this.$dispatch(a.cityTabClick())},districtTabClick:function(){this.$dispatch(a.districtTabClick())},provinceClick:function(t){var e=this;this.$dispatch(a.selectProvince(t.code)).then(function(t){t.isDirectCity?e.$dispatch(a.selectCity()).then(function(){e.$dispatch(a.setTab1Act({tab:3,act:3}))}):e.$dispatch(a.setTab1Act({tab:2,act:2}))})},cityClick:function(t){this.$dispatch(a.selectCity(t.code)),this.$dispatch(a.setTab1Act({tab:3,act:3}))},districtClick:function(t){var e=this;this.$dispatch(a.selectDistrict(t.code)).then(function(){e.$dispatch(a.setTab1Act({tab:3,act:3})),e.$dispatch(a.setAddressFromSelectedAddress()),e.$dispatch(a.updateInputMsg()),e.$dispatch(a.hide())}).then(function(){return e.$dispatch(a.getSelectInfo())}).then(function(t){e.$dispatch(a.setNotSelectAnyAddress(!1)),e.$emit("selectAddress",t)}).then(function(){return e.$dispatch(a.saveAddress()).then(function(t){e.$emit("saveAddress",t)})["catch"](function(t){t&&console.error(t)})})["catch"](function(t){t&&console.log(t)})},hide:function(){this.$dispatch(a.hide())},selectAddress:function(t){this.$emit("selectAddress",t)},saveAddress:function(t){this.$emit("saveAddress",t)}});f.component("addr-select-wrapper",c),f.component("addr-select-tab",l),f.component("addr-select-loading1error",d),f.component("addr-select-list",u),f.component("addr-list",p),t.exports=o.connect({mapState:function(t){return{hasAddressList:t.list.addressList&&t.list.addressList.length,boxLeft:t.select.boxLeft,boxRight:t.select.boxRight,boxTop:t.select.boxTop,show:t.select.show,error:t.select.error,loading:t.select.loading,loadingAddress:t.select.loadingAddress,isDirectCity:t.select.selected.province&&t.select.selected.province.isDirectCity,provinces:t.select.provinces,citys:t.select.citys,districts:t.select.districts,provincesShow:t.select.provincesShow,regionList:s.REGION_LIST,selected:t.select.selected,tab:t.select.tab,act:t.select.act}},dispatch:!0})(f)},function(t,e,n){var i,o=n(38),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(3),r=n(18),c=n(137),l=(n(41),n(136)),d=n(374),u=n(524),p=n(526),f=r.extend({template:d,config:function(t){var e=this;this.supr(),t.notSelectAnyAddress?(this.__onlyInitAddressList(),t.notSelectAnyAddress=!1):this.__initAddress(),this.clickBodyFn=function(t){e.$dispatch(l.clickBody(t))},s._$addEvent(document.body,"click",this.clickBodyFn),t.func._$show=function(){e.$dispatch(l.show())},t.func._$hide=function(){e.$dispatch(l.hide())},t.func._$setAddress=function(t){e.$dispatch(l.selectAddress(t)).then(function(){return e.$dispatch(l.getSelectInfo())}).then(function(t){e.selectAddress(t)}).then(function(){return e.$dispatch(l.updateInputMsg()),e.$dispatch(l.saveAddress()).then(function(t){e.$emit("saveAddress",t)})["catch"](function(t){t&&console.error(t)})})["catch"](function(t){t&&console.error(t)})}},__onlyInitAddressList:function(){var t=this;t.$dispatch(l.setLoadingAddress(!0)),t.$dispatch(l.getAddressList()).then(function(){t.$dispatch(l.setLoadingAddress(!1)),t.$dispatch(l.getProvince()),t.$dispatch(l.setTab1Act({tab:1,act:1}))})["catch"](function(e){t.$dispatch(l.setLoadingAddress(!1)),e&&console.error(e)})},__initAddress:function(){var t=this;t.$dispatch(l.setLoadingAddress(!0)),a["default"].all([t.$dispatch(l.getAddress()),t.$dispatch(l.getAddressList())]).then(function(e){var n=e[0]||{};return t.$dispatch(l.setLoadingAddress(!1)),t.$dispatch(l.updateAddressByContactId())||n}).then(function(e){return t.$emit("getAddress",e),e}).then(function(e){return t.$dispatch(l.selectAddress(e))}).then(function(){return t.$dispatch(l.getSelectInfo())}).then(function(e){t.selectAddress(e)}).then(function(){t.$dispatch(l.updateInputMsg())})["catch"](function(e){t.$dispatch(l.setLoadingAddress(!1)),e&&console.error(e)})},selectAddress:function(t){this.$emit("selectAddress",t),this.$dispatch(l.updateFirstLoaded(!1))},saveAddress:function(t){this.$emit("saveAddress",t)},destroy:function(){s._$delEvent(document.body,"click",this.clickBodyFn),this.supr()}});f.component("addr-input",u),f.component("addr-select",p),t.exports=c.connect({mapState:function(t){return{clazz:t.addr.clazz||"",address:{msg:t.input.msg,provinceCode:t.select.selectAddress?t.select.selectAddress.provinceCode:null,cityCode:t.select.selectAddress?t.select.selectAddress.cityCode:null,districtCode:t.select.selectAddress?t.select.selectAddress.districtCode:null,province:t.select.selected?t.select.selected.province:null,city:t.select.selected?t.select.selected.city:null,district:t.select.selected?t.select.selected.district:null}}},dispatch:!0})(f)},function(t,e,n){n(287);n(2);var i=n(1),o=(n(3),n(4),n(8),n(137),n(535)),a=(n(41),n(136),n(149)),s=n(533),r=n(530),c=n(531),l=n(532),d=(n(10),n(114),n(527)),u=n(7),p=n(375),f=u.extend({template:p,name:"Address",data:{clazz:"",defAddress:null,autoSave:!0,notSelectAnyAddress:!1,positionType:0,address:{msg:null,provinceCode:null,cityCode:null,districtCode:null,province:null,city:null,district:null},func:{_$show:null,_$hide:null,_$setAddress:null}},config:function(t){t.store=o({addr:s,input:r,list:c,select:l},{addr:{clazz:t.clazz||"",defAddress:t.defAddress},input:{msg:"请选择省市区"},list:{addressList:[]},select:{firstLoaded:!0,autoSave:t.autoSave,notSelectAnyAddress:t.notSelectAnyAddress,selectAddress:null,contactId:null,provinces:[],provincesShow:[],citys:[],citysMap:{},districts:[],districtsMap:{},selected:{province:null,city:null,district:null},loadingAddress:!1,loading:!1,error:!1,boxLeft:"",boxRight:"",boxTop:"",show:!1,target:null,box:null,positionType:Number(t.positionType)||0,tab:0,act:0}}),this.supr()},getAddress:function(t){this.$timeout(function(){this.$emit("getAddress",t||a.DEF_ADDRESS)})},saveAddress:function(t){this.$timeout(function(){this.$emit("saveAddress",t)})},selectAddress:function(t){t.firstLoaded||i.daEvent("全站地址控件","操作","切换"),this.$timeout(function(){this.$emit("selectAddress",t)})}}).use("timeout");f.component("addr-wrapper",d),t.exports=f},function(t,e){function n(t){return function(e){var n=e.dispatch,i=e.getState;return function(e){return function(o){return"function"==typeof o?o(n,i,t):e(o)}}}}var i=n();i.withExtraArgument=n,t.exports=i},function(t,e,n){var i,o=n(13),a=(i=o)&&i.__esModule?i:{"default":i};n(1);var s=n(41);t.exports=function(t,e){var n=t=t||{};switch(e.type){case s.SET_INPUT_MSG:var i=e.payload,o=i.province||{},r=i.city||{},c=i.district||{},l="";return l=o.isDirectCity||!r.name?o.shortName+"/"+c.name:o.shortName+"/"+r.name+"/"+c.name,(0,a["default"])({},n,{msg:l});default:return n}}},function(t,e,n){var i,o=n(13),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(41);n(1),t.exports=function(t,e){var n=t=t||{};switch(e.type){case s.GET_ADDRESS_LIST_SUCCESS:return(0,a["default"])({},n,{addressList:e.addressList||[]});case s.GET_ADDRESS_LIST_FAIL:return(0,a["default"])({},n,{addressList:[]});default:return n}}},function(t,e,n){var i,o=n(13),a=(i=o)&&i.__esModule?i:{"default":i};n(1);var s=n(41),r=n(149);function c(t){return{width:t.offsetWidth,height:t.offsetHeight}}function l(t,e){e=e||"name";var n;t.forEach(function(t){n=(t[e]||"").length,t.width=100*Math.ceil(n/7)})}t.exports=function(t,e){var n=t=t||{},i=e.payload||{};switch(e.type){case s.PROVINCE_TAB_CLICK:return(0,a["default"])({},n,{act:1});case s.CITY_TAB_CLICK:return(0,a["default"])({},n,{act:2});case s.DISTRICT_TAB_CLICK:return(0,a["default"])({},n,{act:3});case s.SET_DOM_ELEMENT:var o={};return i.target&&(o.target=i.target),i.box&&(o.box=i.box),(0,a["default"])({},n,o);case s.CALC_ELEMENT_POSITION:var d=n.box,u=n.target,p=n.positionType;if(!d||!u)return n;var f,m,h,g=c(u),v=g.height;return 0===p?(f=0,m="auto"):2===p?(f="auto",m=0):(c(d),f=-(440-g.width)/2+"px",m="auto"),h=v-1+"px",(0,a["default"])({},n,{boxLeft:f,boxTop:h,boxRight:m});case s.SET_SHOW:return(0,a["default"])({},n,{show:e.show});case s.GET_ADDRESS_SUCCESS:return(0,a["default"])({},n,{selectAddress:e.address,contactId:e.address.contactId||null});case s.GET_ADDRESS_FAIL:return(0,a["default"])({},n,{selectAddress:e.address});case s.SET_SELECTED_CITYS:var _=e.citys||[];return l(_),(0,a["default"])({},n,{citys:_});case s.SET_SELECTED_DISTRICTS:var y=e.districts||[];return l(y),(0,a["default"])({},n,{districts:y});case s.SET_TAB1ACT:var b=i.tab,I=i.act,S={};return void 0!==b&&(S.tab=b),void 0!==I&&(S.act=I),(0,a["default"])({},n,S);case s.SET_NOT_SELECT_ANY_ADDRESS:return(0,a["default"])({},n,{notSelectAnyAddress:e.notSelectAnyAddress});case s.SET_SELECTED_ADDRESS:var T=(0,a["default"])({},n.selected,e.address);return(0,a["default"])({},n,{selected:T});case s.GET_DISTRICT_SUCCESS:var x=n.districtsMap||{};return x[i.cityCode]=i.districts||[],(0,a["default"])({},n,{districtsMap:x});case s.GET_CITY_SUCCESS:var w=n.citysMap||{};return w[i.provinceCode]=i.citys||[],(0,a["default"])({},n,{citysMap:w});case s.GET_PROVINCE_SUCCESS:var k,C=e.provinces||[];C.forEach(function(t){k=t.name||"",t.isDirectCity=~r.DIRECT_CITY_CODE.indexOf(t.code),t.shortName="黑龙"===k.slice(0,2)?"黑龙江":k.slice(0,2)});var E=[];return r.REGION_LIST.forEach(function(t){E.push(C.filter(function(e){return~t.indexOf(e.code)})||[])}),(0,a["default"])({},n,{provinces:C,provincesShow:E});case s.GET_PROVINCE_FAIL:case s.GET_CITY_FAIL:case s.GET_DISTRICT_FAIL:return(0,a["default"])({},n,{error:!0});case s.SAVE_ADDRESS_FAIL:return n;case s.SET_LOADING:return(0,a["default"])({},n,{loading:!!e.loading});case s.SET_ERROR:return(0,a["default"])({},n,{error:!!e.error});case s.SET_LOADING_ADDRESS:return(0,a["default"])({},n,{loadingAddress:!!e.loadingAddress});case s.UPDATE_FIRST_LOADED:return(0,a["default"])({},n,{firstLoaded:!!e.firstLoaded});default:return n}}},function(t,e,n){n(41);n(1),t.exports=function(t,e){var n=t=t||{};e.payload;return e.type,n}},function(t,e,n){var i=new(n(536))({timeout:1e4});i.register("getAddressList",{method:"GET",url:"//www.kaola.com/addressControl/getlist.html",norest:!0,cookie:!0,mode:0}),i.register("getAddress",{method:"GET",url:"//www.kaola.com/addressControl/getAddress.html",norest:!0,cookie:!0,mode:0}),i.register("saveAddress",{method:"POST",url:"//www.kaola.com/addressControl/saveAddress.html",norest:!1,cookie:!0,mode:0}),i.register("getPCD",{method:"GET",url:"/geography/get.json",norest:!0,cookie:!0,mode:0}),t.exports={getAddress:i.resolve("getAddress"),getAddressList:i.resolve("getAddressList"),saveAddress:i.resolve("saveAddress"),getProvince:function(t){return i.resolve("getPCD")({query:{level:1,code:t||""}})},getCity:function(t){return i.resolve("getPCD")({query:{level:2,code:t||""}})},getDistrict:function(t){return i.resolve("getPCD")({query:{level:3,code:t||""}})}}},function(t,e,n){var i=n(151),o=n(529);t.exports=function(t,e){e=e||{};var n=i.compose,a=o.withExtraArgument(),s=n(i.applyMiddleware(a));return i.createStore(i.combineReducers(t||{}),e,s)}},function(t,e,n){var i,o=n(38),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(10),r=n(1);function c(t){t=t||{},this.services={},this.config=r.extend(t,{tiemout:6e3})}c.prototype.register=function(t,e){var n=this.config;this.services[t]=function(t){return t=t||{},new a["default"](function(i,o){var a=e.url.replace(/\{([^{}]+)\}/g,function(e,n){return t.rest?t.rest[n]:console.warn("亲当前在使用一个 restful 接口哟，请传入 options.rest 字段，并传入参数")});t.rest&&delete t.rest,s(a,r.extend(r.extend({type:"json",method:"GET",data:{},timeout:n.timeout,onload:i,onerror:o},e||{},!0),t,!0))})}},c.prototype.resolve=function(t){var e=this.services;if(!t)throw new Error("No this service");if(e[t])return e[t]},t.exports=c},function(t,e,n){var i=r(n(248)),o=r(n(152)),a=r(n(108)),s=r(n(28));function r(t){return t&&t.__esModule?t:{"default":t}}"function"!=typeof s["default"]&&(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},o=function(){return n.apply(this instanceof i?this:t,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(i.prototype=this.prototype),o.prototype=new i,o});var c,l,d,u,p=function(t){return null==t||"object"!==(void 0===t?"undefined":(0,a["default"])(t))&&"function"!=typeof t},f=Function.call,m=Object.prototype,h=f.bind(m.hasOwnProperty)(m,"__defineGetter__");h&&(c=f.bind(m.__defineGetter__),l=f.bind(m.__defineSetter__),d=f.bind(m.__lookupGetter__),u=f.bind(m.__lookupSetter__));var g=function(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(e){return!1}};if(o["default"]){var v=g({}),_="undefined"==typeof document||g(document.createElement("div"));if(!v||!_)var y=o["default"],b=i["default"]}if(!o["default"]||y){Object.defineProperty=function(t,e,n){if(p(t))throw new TypeError("Object.defineProperty called on non-object: "+t);if(p(n))throw new TypeError("Property description must be an object: "+n);if(y)try{return y.call(Object,t,e,n)}catch(s){}if("value"in n)if(h&&(d(t,e)||u(t,e))){var i=t.__proto__;t.__proto__=m,delete t[e],t[e]=n.value,t.__proto__=i}else t[e]=n.value;else{var o="get"in n,a="set"in n;if(!h&&(o||a))return t;o&&c(t,e,n.get),a&&l(t,e,n.set)}return t}}i["default"]&&!b||(Object.defineProperties=function(t,e){if(b)try{return b.call(Object,t,e)}catch(n){}return(0,s["default"])(e).forEach(function(n){"__proto__"!==n&&(0,o["default"])(t,n,e[n])}),t})},function(t,e,n){var i,o=n(13),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(2),r=n(4),c=n(376),l=n(150),d=n(1),u=n(115),p=l.extend({template:c,data:{list:[]},getListParam:function(){return d.extend({},this.getExtraParam(this.data))},xdrOption:{method:"GET",norest:!0,type:"json"},onBodyScrollCheck:function(){var t=r._$offset(this.$root.parentNode,document.body),e=r._$getPageBox();if(e.scrollTop+e.clientHeight>t.y&&!this.data.recommendSent){this.daPush(),this.data.recommendSent=!0;var n=[];s._$forEach(this.data.list,function(t){n.push('{"id":'+(t.goodsId||"")+',"recType":"'+(t.recType||"")+'","reason":"'+(t.reason||"")+'","weight":"'+(t.weight||"")+'"}')}),this.$request(this.data.printRecommendLog,{data:{userId:window.account||"",date:+new Date,position:this.data.tongji.position||"我的优惠券：猜你喜欢",items:"["+n.join(",")+"]",resource:"挖掘组"},onload:function(){},onerror:function(){}})}},daPush:function(){d.daEvent(this.data.tongji.category||"推荐区域展示",this.data.tongji.action||"我的优惠券",this.data.tongji.lable||"猜你喜欢")},clickRecommendTj:function(t,e,n){"homecnxh"===n&&window._dapush&&window._dapush("_trackEvent","首页","猜你喜欢",t+1,{userAccount:window.account||"",userId:window.account||"",customData:"/product/"+e+".html"});var i=this.data.$event,o=this.data.list[t]||{};i.target.getAttribute("hasClick")||(i.target.setAttribute("hasClick",1),this.$request(this.data.printRecommendLog,{data:{userId:window.account||"",date:+new Date,position:this.data.tongji.position||"我的优惠券：猜你喜欢",clickItem:'{"id":'+(o.goodsId||"")+',"recType":"'+(o.recType||"")+'","reason":"'+(o.reason||"")+'","weight":"'+(o.weight||"")+'"}',resource:"挖掘组"},onload:function(){},onerror:function(){}}))},refresh:function(){this.__getList()},__getList:function(){var t=this.data,e={data:this.getListParam(),onload:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(e&&200==e.code){var n=e.data||[];d.mergeList(n,t.list,t.key||"id"),t.total=n.length,t.list=n,t.refreshIcon="&#xe61a;",0==n.length&&this.__setParentHide()}else this.__setParentHide()},onerror:function(){this.__setParentHide()}};this.xdrOption&&d.extend(e,this.xdrOption),e.norest&&!s._$isString(e.data)&&(e.data=s._$object2query(e.data)),"GET"==e.method.toUpperCase()&&(e.query=e.data,e.data=null);var n=this.data.url||"/product/getGoodsRecommendInfo.json";this.$request(n,e)},__setParentHide:function(){this.parentNode.style.display="none"},__bindDaPush:function(){var t=this.data,e=t.dapushParam;if(e&&e.page){var n={param:function(){for(var e=0,n=[],i=t.list.length;e<i;e++)n.push(t.list[e].goodsId);return n}};d.extend(n,e),u._$allocate(n)}},config:function(t){d.extend(t,{total:1,current:1,limit:20,list:[],printRecommendLog:this.kaolaDomain+"recommend/printRecommendLog.html"}),this.data.tongji=(0,a["default"])({},this.data.tongji,{category:"",action:"",lable:"",position:"",from:"",query:""}),this.__bindDaPush(),this.$watch(this.watchedAttr,function(){this.shouldUpdateList()&&this.__getList()})}});t.exports=p},function(t,e,n){var i,o=n(13),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(2),r=n(4),c=n(377),l=n(150),d=n(12),u=n(1),p=n(115),f=l.extend({template:c,data:{list:[],condition:{},shouldUpdate:!0},shouldUpdateList:function(){return this.data.shouldUpdate},getListParam:function(){var t=this.data;return{goodsIdString:this.getExtraParam(t).goods_ids,v:1}},xdrOption:{method:"GET",norest:!0,type:"json"},onBodyScrollCheck:function(){var t=r._$offset(this.$root.parentNode,document.body),e=r._$getPageBox();if(e.scrollTop+e.clientHeight>t.y&&!this.data.recommendSent){this.daPush(),this.data.recommendSent=!0;var n=[];s._$forEach(this.data.list,function(t){n.push('{"id":'+(t.goodsId||"")+',"recType":"'+(t.recType||"")+'","reason":"'+(t.reason||"")+'","weight":"'+(t.weight||"")+'"}')}),this.$request(this.data.printRecommendLog,{data:{userId:window.account||"",date:+new Date,position:this.data.tongji.position||"我的优惠券：最近浏览",items:"["+n.join(",")+"]",resource:"考拉产品组"},onload:function(){},onerror:function(){}})}},clickRecommendTj:function(t){var e=this.data.$event,n=this.data.list[t]||{};e.target.getAttribute("hasClick")||(e.target.setAttribute("hasClick",1),this.$request(this.data.printRecommendLog,{data:{userId:window.account||"",date:+new Date,position:this.data.tongji.position||"我的优惠券：最近浏览",clickItem:'{"id":'+(n.goodsId||"")+',"recType":"'+(n.recType||"")+'","reason":"'+(n.reason||"")+'","weight":"'+(n.weight||"")+'"}',resource:"考拉产品组"},onload:function(){},onerror:function(){}}))},refresh:function(){this.__getList()},__getList:function(){var t=this.data,e={data:this.getListParam(),onload:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(e&&200==e.code){var n=e.data||[];u.mergeList(n,t.list,t.key||"id"),t.total=n.length,t.list=n,0===t.list.length&&this.__setParentHide()}else this.__setParentHide()},onerror:function(){this.__setParentHide()}};this.xdrOption&&u.extend(e,this.xdrOption),e.norest&&!s._$isString(e.data)&&(e.data=s._$object2query(e.data)),"GET"==e.method.toUpperCase()&&(e.query=e.data,e.data=null);var n=this.data.url||"/product/getGoodsRecommendInfoRecentlyView.json";this.$request(n,e)},__setParentHide:function(){this.parentNode.style.display="none"},onPrevPageClick:function(){this.data.current-1>0&&(this.data.current-=1,this.daPush())},onNextPageClick:function(){this.data.current+1<=Math.ceil(this.data.total/this.data.limit)&&(this.data.current+=1,this.daPush())},daPush:function(){u.daEvent(this.data.tongji.category||"推荐区域展示",this.data.tongji.action||"我的优惠券",this.data.tongji.lable||"最近浏览")},__bindDaPush:function(){var t=this.data,e=t.dapushParam,n=t.limit||5;if(e&&e.page){var i={param:function(){for(var e=0,i=[],o=Math.min(t.list.length,n);e<o;e++)i.push(t.list[e].goodsId);return i}};u.extend(i,e),p._$allocate(i)}},config:function(t){for(var e=d._$cookie("NTES_KAOLA_RV").split("|"),n=[],i=0,o=e.length;i<o;i++){var s=e[i].split("_");n.push(s[0])}this.data.condition.goods_ids=n.join(","),this.data.condition.version=1,this.data.total=2*n.length,u.extend(t,{total:1,current:1,limit:4,list:[],printRecommendLog:this.kaolaDomain+"recommend/printRecommendLog.html"}),this.data.tongji=(0,a["default"])({},this.data.tongji,{category:"",action:"",lable:"",position:"",from:"",query:""}),this.__bindDaPush(),this.$watch(this.watchedAttr,function(){this.shouldUpdateList()&&(this.data.shouldUpdate=!1,this.__getList())})}});t.exports=f},function(t,e,n){var i,o=n(13),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(2),r=n(4),c=n(378),l=n(150),d=n(1),u=n(115),p=l.extend({template:c,name:"similarList",data:{list:[]},getListParam:function(){return d.extend({},this.getExtraParam(this.data))},xdrOption:{method:"GET",norest:!0,type:"json"},onBodyScrollCheck:function(){var t=r._$offset(this.$root.parentNode,document.body),e=r._$getPageBox();if(e.scrollTop+e.clientHeight>t.y&&!this.data.recommendSent){this.daPush(),this.data.recommendSent=!0;var n=[];s._$forEach(this.data.list,function(t){n.push('{"id":'+(t.goodsId||"")+',"recType":"'+(t.recType||"")+'","reason":"'+(t.reason||"")+'","weight":"'+(t.weight||"")+'"}')}),this.$request(this.data.printRecommendLog,{data:{userId:window.account||"",date:+new Date,position:this.data.tongji.position||"商品详情页面：相关推荐（DETAIL）",items:"["+n.join(",")+"]",resource:"挖掘组"},onload:function(){},onerror:function(){}})}},daPush:function(){d.daEvent(this.data.tongji.category||"推荐区域展示",this.data.tongji.action||"我的优惠券",this.data.tongji.lable||"猜你喜欢")},clickRecommendTj:function(t){var e=this.data.$event,n=this.data.list[t]||{};e.target.getAttribute("hasClick")||(e.target.setAttribute("hasClick",1),this.$request(this.data.printRecommendLog,{data:{userId:window.account||"",date:+new Date,position:this.data.tongji.position||"商品详情页面：相关推荐（DETAIL）",clickItem:'{"id":'+(n.goodsId||"")+',"recType":"'+(n.recType||"")+'","reason":"'+(n.reason||"")+'","weight":"'+(n.weight||"")+'"}',resource:"挖掘组"},onload:function(){},onerror:function(){}}))},refresh:function(){this.__getList()},__getList:function(){var t=this.data,e={data:this.getListParam(),onload:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(e&&200==e.code){var n=e.data||[];d.mergeList(n,t.list,t.key||"id"),t.total=n.length,t.list=n,this.$emit("getRecData",this.data.list),t.refreshIcon="&#xe61a;",n.length}},onerror:function(){}};this.xdrOption&&d.extend(e,this.xdrOption),e.norest&&!s._$isString(e.data)&&(e.data=s._$object2query(e.data)),"GET"==e.method.toUpperCase()&&(e.query=e.data,e.data=null);var n=this.data.url||"/product/getGoodsRecommendInfo.json";this.$request(n,e)},__bindDaPush:function(){var t=this.data,e=t.dapushParam;if(e&&e.page){var n={param:function(){for(var e=0,n=[],i=t.list.length;e<i;e++)n.push(t.list[e].goodsId);return n}};d.extend(n,e),u._$allocate(n)}},config:function(t){d.extend(t,{total:1,current:1,limit:20,list:[],printRecommendLog:this.kaolaDomain+"recommend/printRecommendLog.html"}),this.data.tongji=(0,a["default"])({},this.data.tongji,{category:"",action:"",lable:"",position:"",from:"",query:""}),this.__bindDaPush(),this.$watch(this.watchedAttr,function(){this.shouldUpdateList()&&this.__getList()})}});t.exports=p},function(t,e,n){var i,o=n(13),a=(i=o)&&i.__esModule?i:{"default":i};var s=n(2),r=n(4),c=n(379),l=n(150),d=n(1),u=n(115),p=l.extend({template:c,data:{list:[]},getListParam:function(){return d.extend({},this.getExtraParam(this.data))},xdrOption:{method:"GET",norest:!0,type:"json"},onBodyScrollCheck:function(){var t=r._$offset(this.$root.parentNode,document.body),e=r._$getPageBox();if(e.scrollTop+e.clientHeight>t.y&&!this.data.recommendSent){this.daPush(),this.data.recommendSent=!0;var n=[];s._$forEach(this.data.list,function(t){n.push('{"id":'+(t.goodsId||"")+',"recType":"'+(t.recType||"")+'","reason":"'+(t.reason||"")+'","weight":"'+(t.weight||"")+'"}')}),this.$request(this.data.printRecommendLog,{data:{userId:window.account||"",date:+new Date,position:this.data.tongji.position||"商品详情页面：相关推荐（DETAIL）",items:"["+n.join(",")+"]",resource:"挖掘组"},onload:function(){},onerror:function(){}})}},daPush:function(){d.daEvent(this.data.tongji.category||"推荐区域展示",this.data.tongji.action||"商品详情页",this.data.tongji.lable||"买了又买")},clickRecommendTj:function(t){var e=this.data.$event,n=this.data.list[t]||{};e.target.getAttribute("hasClick")||(e.target.setAttribute("hasClick",1),this.$request(this.data.printRecommendLog,{data:{userId:window.account||"",date:+new Date,position:this.data.tongji.position||"商品详情页面：相关推荐（DETAIL）",clickItem:'{"id":'+(n.goodsId||"")+',"recType":"'+(n.recType||"")+'","reason":"'+(n.reason||"")+'","weight":"'+(n.weight||"")+'"}',resource:"挖掘组"},onload:function(){},onerror:function(){}}))},refresh:function(){this.__getList()},__getList:function(){var t=this.data,e={data:this.getListParam(),onload:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(200==e.code){var n=e.data||[];d.mergeList(n,t.list,t.key||"id"),t.total=n.length,t.list=n,t.refreshIcon="&#xe61a;",0==n.length&&this.__setParentHide()}else this.__setParentHide()},onerror:function(){this.__setParentHide()}};this.xdrOption&&d.extend(e,this.xdrOption),e.norest&&!s._$isString(e.data)&&(e.data=s._$object2query(e.data)),"GET"==e.method.toUpperCase()&&(e.query=e.data,e.data=null);var n=this.data.url||"/product/getGoodsRecommendInfo.json";this.$request(n,e)},__setParentHide:function(){this.parentNode.style.display="none"},__bindDaPush:function(){var t=this.data,e=t.dapushParam;if(e&&e.page){var n={param:function(){for(var e=0,n=[],i=t.list.length;e<i;e++)n.push(t.list[e].goodsId);return n}};d.extend(n,e),u._$allocate(n)}},config:function(t){d.extend(t,{total:1,current:1,limit:20,list:[],printRecommendLog:this.kaolaDomain+"recommend/printRecommendLog.html"}),this.data.tongji=(0,a["default"])({},this.data.tongji,{category:"",action:"",lable:"",position:"",from:"",query:""}),this.__bindDaPush(),this.$watch(this.watchedAttr,function(){this.shouldUpdateList()&&this.__getList()})}});t.exports=p},,,,,,function(t,e,n){t.exports=n(548)},function(t,e,n){"use strict";var i=n(31),o=n(236),a=n(550),s=n(198);function r(t){var e=new a(t),n=o(a.prototype.request,e);return i.extend(n,a.prototype,e),i.extend(n,e),n}var c=r(s);c.Axios=a,c.create=function(t){return r(i.merge(s,t))},c.Cancel=n(233),c.CancelToken=n(549),c.isCancel=n(234),c.all=function(t){return Promise.all(t)},c.spread=n(564),t.exports=c,t.exports["default"]=c},function(t,e,n){"use strict";var i=n(233);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},function(t,e,n){"use strict";var i=n(198),o=n(31),a=n(551),s=n(552);function r(t){this.defaults=t,this.interceptors={request:new a,response:new a}}r.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(i,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[s,undefined],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){r.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){r.prototype[t]=function(e,n,i){return this.request(o.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=r},function(t,e,n){"use strict";var i=n(31);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},function(t,e,n){"use strict";var i=n(31),o=n(555),a=n(234),s=n(198),r=n(560),c=n(558);function l(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return l(t),t.baseURL&&!r(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return l(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return a(e)||(l(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,o){return t.config=e,n&&(t.code=n),t.request=i,t.response=o,t}},function(t,e,n){"use strict";var i=n(235);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";var i=n(31);t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,a=String(t),s="",r=0,c=i;a.charAt(0|r)||(c="=",r%1);s+=c.charAt(63&e>>8-r%1*8)){if((n=a.charCodeAt(r+=.75))>255)throw new o;e=e<<8|n}return s}},function(t,e,n){"use strict";var i=n(31);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var a;if(n)a=n(e);else if(i.isURLSearchParams(e))a=e.toString();else{var s=[];i.forEach(e,function(t,e){null!==t&&void 0!==t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),s.push(o(e)+"="+o(t))}))}),a=s.join("&")}return a&&(t+=(-1===t.indexOf("?")?"?":"&")+a),t}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var i=n(31);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,o,a,s){var r=[];r.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&r.push("expires="+new Date(n).toGMTString()),i.isString(o)&&r.push("path="+o),i.isString(a)&&r.push("domain="+a),!0===s&&r.push("secure"),document.cookie=r.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";var i=n(31);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=i.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var i=n(31);t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},function(t,e,n){"use strict";var i=n(31),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,a,s={};return t?(i.forEach(t.split("\n"),function(t){if(a=t.indexOf(":"),e=i.trim(t.substr(0,a)).toLowerCase(),n=i.trim(t.substr(a+1)),e){if(s[e]&&o.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}}),s):s}},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){t.exports=n(0)(434)},function(t,e,n){t.exports=n(0)(439)},,,,,function(t,e,n){n(22),n(16),t.exports=n(241)}],[572]);
//# sourceMappingURL=product_product.0fc93f2c.js.map